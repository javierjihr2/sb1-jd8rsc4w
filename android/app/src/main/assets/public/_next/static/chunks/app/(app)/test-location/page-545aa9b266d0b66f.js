(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6340],{6924:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>$});var i=a(95155),t=a(12115),n=a(30411),r=a(79372),c=a(30285),l=a(66695),o=a(24944),d=a(55365),u=a(83662),m=a(50594),x=a(19968),h=a(8376),g=a(11133),j=a(18271),p=a(50172),f=a(88628),N=a(25318);function b(e){let{onComplete:s,onSkip:a,showSkip:r=!0}=e,{permissions:b,requestLocationPermission:v,getCurrentLocation:y,getLocationWithFallback:w,setManualLocationData:A}=(0,n.S)(),{isLoading:C,error:P}=b,[k,S]=(0,t.useState)("intro"),[E,R]=(0,t.useState)(!1),[D,U]=(0,t.useState)(null),[T,L]=(0,t.useState)(!1),B={intro:{title:"Configuraci\xf3n de Ubicaci\xf3n",progress:20},permission:{title:"Permisos de Ubicaci\xf3n",progress:40},testing:{title:"Probando Ubicaci\xf3n",progress:60},fallback:{title:"Configuraci\xf3n Alternativa",progress:80},complete:{title:"Configuraci\xf3n Completa",progress:100}};(0,t.useEffect)(()=>{b.location&&"intro"===k&&S("testing")},[b.location,k]);let $=async()=>{L(!0);try{await v(),b.location&&S("testing")}catch(e){console.error("Error requesting permission:",e)}},z=async()=>{R(!0);try{let e=await y();U({success:!0,data:e}),S("complete")}catch(e){U({success:!1,error:e}),S("fallback")}finally{R(!1)}},F=async()=>{R(!0);try{let e=await w();U({success:!0,data:e}),S("complete")}catch(e){U({success:!1,error:e})}finally{R(!1)}},I=()=>{null==s||s()},M=()=>{null==a||a()};return(0,i.jsxs)(l.Zp,{className:"w-full max-w-md mx-auto",children:[(0,i.jsxs)(l.aR,{className:"pb-2",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.ZB,{className:"text-base",children:B[k].title}),(0,i.jsxs)(l.BT,{className:"text-xs",children:["Paso ",Object.keys(B).indexOf(k)+1," de ",Object.keys(B).length]})]}),r&&"complete"!==k&&(0,i.jsx)(c.$,{variant:"ghost",size:"sm",onClick:M,children:(0,i.jsx)(N.A,{className:"h-4 w-4"})})]}),(0,i.jsx)(o.k,{value:B[k].progress,className:"h-1"})]}),(0,i.jsx)(l.Wu,{children:(()=>{switch(k){case"intro":return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"text-center space-y-2",children:[(0,i.jsx)(u.A,{className:"h-12 w-12 text-blue-500 mx-auto"}),(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"\xa1Bienvenido a SquadUp!"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Para encontrar jugadores y partidos cerca de ti, necesitamos acceso a tu ubicaci\xf3n."})]}),(0,i.jsxs)(d.Fc,{children:[(0,i.jsx)(m.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{children:"Tu ubicaci\xf3n se usa \xfanicamente para mostrarte contenido relevante de tu \xe1rea. Nunca compartimos tu ubicaci\xf3n exacta con otros usuarios."})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(c.$,{onClick:()=>S("permission"),className:"flex-1",children:[(0,i.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Continuar"]}),r&&(0,i.jsx)(c.$,{variant:"outline",onClick:M,children:"Omitir"})]})]});case"permission":return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"text-center space-y-2",children:[(0,i.jsx)("div",{className:"flex items-center justify-center",children:b.location?(0,i.jsx)(h.A,{className:"h-12 w-12 text-green-500"}):b.deniedPermanently.location?(0,i.jsx)(g.A,{className:"h-12 w-12 text-red-500"}):(0,i.jsx)(u.A,{className:"h-12 w-12 text-orange-500"})}),(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Permisos de Ubicaci\xf3n"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:b.location?"\xa1Perfecto! Ya tienes los permisos configurados.":b.deniedPermanently.location?"Los permisos fueron denegados. Puedes habilitarlos en la configuraci\xf3n de tu dispositivo.":"Necesitamos tu permiso para acceder a la ubicaci\xf3n."})]}),b.deniedPermanently.location&&(0,i.jsxs)(d.Fc,{variant:"destructive",children:[(0,i.jsx)(g.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{children:"Para habilitar la ubicaci\xf3n, ve a la configuraci\xf3n de tu navegador o dispositivo y permite el acceso a la ubicaci\xf3n para esta aplicaci\xf3n."})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[b.location?(0,i.jsxs)(c.$,{onClick:()=>S("testing"),className:"flex-1",children:[(0,i.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Probar Ubicaci\xf3n"]}):b.deniedPermanently.location?(0,i.jsxs)(c.$,{onClick:()=>S("fallback"),className:"flex-1",children:[(0,i.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Configurar Manualmente"]}):(0,i.jsxs)(c.$,{onClick:$,disabled:C,className:"flex-1",children:[C?(0,i.jsx)(p.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,i.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Solicitar Permiso"]}),T&&!b.location&&(0,i.jsx)(c.$,{variant:"outline",onClick:()=>S("fallback"),children:"Configurar Manualmente"})]})]});case"testing":var e,s;return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"text-center space-y-2",children:[(0,i.jsx)("div",{className:"flex items-center justify-center",children:E?(0,i.jsx)(p.A,{className:"h-12 w-12 animate-spin text-blue-500"}):(null==D?void 0:D.success)?(0,i.jsx)(h.A,{className:"h-12 w-12 text-green-500"}):D?(0,i.jsx)(g.A,{className:"h-12 w-12 text-red-500"}):(0,i.jsx)(f.A,{className:"h-12 w-12 text-blue-500"})}),(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Probando Ubicaci\xf3n"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:E?"Obteniendo tu ubicaci\xf3n actual...":(null==D?void 0:D.success)?"\xa1Ubicaci\xf3n obtenida correctamente!":D?"No pudimos obtener tu ubicaci\xf3n autom\xe1ticamente.":"Vamos a probar si podemos obtener tu ubicaci\xf3n."})]}),(null==D?void 0:D.success)&&D.data&&(0,i.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-green-800 mb-1",children:"Ubicaci\xf3n Detectada:"}),(0,i.jsx)("p",{className:"text-xs text-green-700",children:(null==(e=D.data.locationInfo)?void 0:e.city)||"Ciudad no disponible"}),(0,i.jsxs)("p",{className:"text-xs text-green-600",children:["Precisi\xf3n: \xb1",Math.round(D.data.accuracy),"m"]})]}),D&&!D.success&&(0,i.jsxs)(d.Fc,{variant:"destructive",children:[(0,i.jsx)(g.A,{className:"h-4 w-4"}),(0,i.jsxs)(d.TN,{children:["Error: ",(null==(s=D.error)?void 0:s.message)||"No se pudo obtener la ubicaci\xf3n"]})]}),(0,i.jsx)("div",{className:"flex gap-2",children:D?D.success?(0,i.jsxs)(c.$,{onClick:I,className:"flex-1",children:[(0,i.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Finalizar"]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.$,{onClick:F,disabled:E,className:"flex-1",children:[E?(0,i.jsx)(p.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,i.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Reintentar con Respaldo"]}),(0,i.jsxs)(c.$,{variant:"outline",onClick:()=>S("fallback"),children:[(0,i.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Manual"]})]}):(0,i.jsxs)(c.$,{onClick:z,disabled:E,className:"flex-1",children:[E?(0,i.jsx)(p.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,i.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Probar Ubicaci\xf3n"]})})]});case"fallback":return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"text-center space-y-2",children:[(0,i.jsx)(j.A,{className:"h-12 w-12 text-orange-500 mx-auto"}),(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"Configuraci\xf3n Manual"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"No te preocupes, puedes configurar tu ubicaci\xf3n manualmente."})]}),(0,i.jsxs)(d.Fc,{children:[(0,i.jsx)(m.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{children:"Puedes cambiar tu ubicaci\xf3n en cualquier momento desde la configuraci\xf3n."})]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsxs)(c.$,{onClick:()=>S("complete"),className:"flex-1",children:[(0,i.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Continuar sin Ubicaci\xf3n"]}),(0,i.jsx)(c.$,{variant:"outline",onClick:M,children:"Configurar Despu\xe9s"})]})]});case"complete":return(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"text-center space-y-2",children:[(0,i.jsx)(h.A,{className:"h-12 w-12 text-green-500 mx-auto"}),(0,i.jsx)("h3",{className:"text-lg font-semibold",children:"\xa1Configuraci\xf3n Completa!"}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:(null==D?void 0:D.success)?"Tu ubicaci\xf3n est\xe1 configurada y funcionando correctamente.":"Puedes empezar a usar SquadUp. Recuerda que puedes configurar tu ubicaci\xf3n m\xe1s tarde."})]}),(0,i.jsxs)(c.$,{onClick:I,className:"w-full",children:[(0,i.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Empezar a Usar SquadUp"]})]});default:return null}})()})]})}var v=a(62523),y=a(85057),w=a(75074);let A=[{name:"Santiago",region:"Region Metropolitana",coordinates:{latitude:-33.4489,longitude:-70.6693}},{name:"Valparaiso",region:"Region de Valparaiso",coordinates:{latitude:-33.0472,longitude:-71.6127}},{name:"Concepcion",region:"Region del Biobio",coordinates:{latitude:-36.8201,longitude:-73.0444}},{name:"La Serena",region:"Region de Coquimbo",coordinates:{latitude:-29.9027,longitude:-71.2519}},{name:"Antofagasta",region:"Region de Antofagasta",coordinates:{latitude:-23.6509,longitude:-70.3975}},{name:"Temuco",region:"Region de La Araucania",coordinates:{latitude:-38.7359,longitude:-72.5904}},{name:"Rancagua",region:"Region de OHiggins",coordinates:{latitude:-34.1708,longitude:-70.7394}},{name:"Talca",region:"Region del Maule",coordinates:{latitude:-35.4264,longitude:-71.6554}},{name:"Arica",region:"Region de Arica y Parinacota",coordinates:{latitude:-18.4783,longitude:-70.3126}},{name:"Iquique",region:"Region de Tarapaca",coordinates:{latitude:-20.2307,longitude:-70.1355}},{name:"Puerto Montt",region:"Region de Los Lagos",coordinates:{latitude:-41.4693,longitude:-72.9424}},{name:"Punta Arenas",region:"Region de Magallanes",coordinates:{latitude:-53.1638,longitude:-70.9171}}];function C(e){let{onLocationSet:s,onCancel:a}=e,{setManualLocationData:r}=(0,n.S)(),[o,m]=(0,t.useState)({city:"",region:"",useCoordinates:!1,latitude:"",longitude:""}),[x,j]=(0,t.useState)(A),[p,f]=(0,t.useState)(!1),[N,b]=(0,t.useState)(null),[C,P]=(0,t.useState)(!1),k=e=>{if(m(s=>({...s,city:e})),""===e.trim())return void j(A);j(A.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())||s.region.toLowerCase().includes(e.toLowerCase())))},S=e=>{let s=A.find(s=>s.name===e);s&&m(e=>({...e,city:s.name,region:s.region,latitude:s.coordinates.latitude.toString(),longitude:s.coordinates.longitude.toString(),useCoordinates:!0}))},E=()=>{if(!o.city.trim())return b("La ciudad es requerida"),!1;if(!o.region.trim())return b("La region es requerida"),!1;if(o.useCoordinates){let e=parseFloat(o.latitude),s=parseFloat(o.longitude);if(isNaN(e)||e<-90||e>90)return b("La latitud debe estar entre -90 y 90"),!1;if(isNaN(s)||s<-180||s>180)return b("La longitud debe estar entre -180 y 180"),!1}return!0},R=async()=>{if(b(null),P(!1),E()){f(!0);try{let e={city:o.city.trim(),region:o.region.trim(),coordinates:o.useCoordinates?{latitude:parseFloat(o.latitude),longitude:parseFloat(o.longitude)}:void 0,timestamp:Date.now(),source:"manual"};await r(e),P(!0),null==s||s(e),setTimeout(()=>{null==a||a()},2e3)}catch(e){b("Error al guardar la ubicacion manual"),console.error("Error setting manual location:",e)}finally{f(!1)}}};return C?(0,i.jsx)(l.Zp,{className:"w-full max-w-md mx-auto",children:(0,i.jsx)(l.Wu,{className:"pt-6",children:(0,i.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[(0,i.jsx)(h.A,{className:"h-6 w-6"}),(0,i.jsx)("span",{className:"font-medium",children:"Ubicacion guardada exitosamente"})]})})}):(0,i.jsxs)(l.Zp,{className:"w-full max-w-md mx-auto",children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsxs)(l.ZB,{className:"flex items-center space-x-2",children:[(0,i.jsx)(u.A,{className:"h-5 w-5"}),(0,i.jsx)("span",{children:"Configurar Ubicacion Manual"})]}),(0,i.jsx)(l.BT,{children:"Establece tu ubicacion manualmente como respaldo cuando el GPS no este disponible."})]}),(0,i.jsxs)(l.Wu,{className:"space-y-4",children:[N&&(0,i.jsxs)(d.Fc,{variant:"destructive",children:[(0,i.jsx)(g.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{children:N})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(y.J,{htmlFor:"city",children:"Ciudad"}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)(w.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),(0,i.jsx)(v.p,{id:"city",placeholder:"Buscar ciudad...",value:o.city,onChange:e=>k(e.target.value),className:"pl-10"})]}),x.length>0&&o.city&&(0,i.jsx)("div",{className:"border rounded-md max-h-32 overflow-y-auto",children:x.slice(0,5).map(e=>(0,i.jsxs)("button",{className:"w-full text-left px-3 py-2 hover:bg-gray-100 border-b last:border-b-0",onClick:()=>S(e.name),children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsx)("div",{className:"text-sm text-gray-500",children:e.region})]},e.name))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsx)(y.J,{htmlFor:"region",children:"Region"}),(0,i.jsx)(v.p,{id:"region",placeholder:"Ej: Region Metropolitana",value:o.region,onChange:e=>m(s=>({...s,region:e.target.value}))})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("input",{type:"checkbox",id:"useCoordinates",checked:o.useCoordinates,onChange:e=>m(s=>({...s,useCoordinates:e.target.checked})),className:"rounded"}),(0,i.jsx)(y.J,{htmlFor:"useCoordinates",children:"Incluir coordenadas (opcional)"})]}),o.useCoordinates&&(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(y.J,{htmlFor:"latitude",children:"Latitud"}),(0,i.jsx)(v.p,{id:"latitude",type:"number",step:"any",placeholder:"-33.4489",value:o.latitude,onChange:e=>m(s=>({...s,latitude:e.target.value}))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(y.J,{htmlFor:"longitude",children:"Longitud"}),(0,i.jsx)(v.p,{id:"longitude",type:"number",step:"any",placeholder:"-70.6693",value:o.longitude,onChange:e=>m(s=>({...s,longitude:e.target.value}))})]})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2 pt-4",children:[(0,i.jsx)(c.$,{variant:"outline",onClick:a,className:"flex-1",disabled:p,children:"Cancelar"}),(0,i.jsx)(c.$,{onClick:R,className:"flex-1",disabled:p||!o.city||!o.region,children:p?"Guardando...":"Guardar Ubicacion"})]})]})]})}var P=a(17313),k=a(26126),S=a(49259),E=a(37648),R=a(67554);function D(e){let{showOnboarding:s=!1,onOnboardingComplete:a}=e,{permissions:o,requestLocationPermission:x,getCurrentLocation:p,getLocationWithFallback:N,setManualLocationData:v,getManualLocation:y,getCachedLocation:w,clearLocationCache:A,cachedLocation:D,manualLocation:U}=(0,n.S)(),{isLoading:T,error:L}=o,[B,$]=(0,t.useState)("status"),[z,F]=(0,t.useState)(s),[I,M]=(0,t.useState)([]);(0,t.useEffect)(()=>{let e=localStorage.getItem("squadup_location_history");if(e)try{M(JSON.parse(e))}catch(e){console.error("Error loading location history:",e)}},[]);let O=e=>{let s=[{...e,timestamp:Date.now(),id:Math.random().toString(36).substr(2,9)},...I.slice(0,9)];M(s),localStorage.setItem("squadup_location_history",JSON.stringify(s))},Z=()=>{F(!1),null==a||a()},_=e=>{if(!e)return"Desconocido";let s=Math.floor((Date.now()-e)/6e4);if(s<1)return"Ahora mismo";if(s<60)return"Hace ".concat(s," minutos");let a=Math.floor(s/60);if(a<24)return"Hace ".concat(a," horas");let i=Math.floor(a/24);return"Hace ".concat(i," d\xedas")},q=(()=>{if(o.location){let e=D&&D.timestamp&&Date.now()-D.timestamp<36e5;return{status:"good",icon:(0,i.jsx)(h.A,{className:"h-4 w-4 text-green-500"}),title:"Ubicaci\xf3n Configurada",description:e?"Ubicaci\xf3n reciente disponible":"Permisos concedidos, ubicaci\xf3n disponible"}}if(o.deniedPermanently.location){let e=U&&U.city;return{status:"warning",icon:(0,i.jsx)(g.A,{className:"h-4 w-4 text-orange-500"}),title:"Permisos Denegados",description:e?"Usando ubicaci\xf3n manual configurada":"Se requiere configuraci\xf3n manual"}}return{status:"pending",icon:(0,i.jsx)(u.A,{className:"h-4 w-4 text-blue-500"}),title:"Configuraci\xf3n Pendiente",description:"Permisos de ubicaci\xf3n no configurados"}})();return z?(0,i.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,i.jsx)(b,{onComplete:Z,onSkip:Z})}):(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)(l.Zp,{children:(0,i.jsx)(l.aR,{className:"pb-3",children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[q.icon,(0,i.jsxs)("div",{children:[(0,i.jsx)(l.ZB,{className:"text-base",children:q.title}),(0,i.jsx)(l.BT,{className:"text-xs",children:q.description})]})]}),(0,i.jsxs)(c.$,{variant:"outline",size:"sm",onClick:()=>F(!0),children:[(0,i.jsx)(j.A,{className:"h-4 w-4 mr-1"}),"Configurar"]})]})})}),(0,i.jsxs)(P.tU,{value:B,onValueChange:$,children:[(0,i.jsxs)(P.j7,{className:"grid w-full grid-cols-4",children:[(0,i.jsxs)(P.Xi,{value:"status",className:"text-xs",children:[(0,i.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Estado"]}),(0,i.jsxs)(P.Xi,{value:"manual",className:"text-xs",children:[(0,i.jsx)(j.A,{className:"h-3 w-3 mr-1"}),"Manual"]}),(0,i.jsxs)(P.Xi,{value:"test",className:"text-xs",children:[(0,i.jsx)(S.A,{className:"h-3 w-3 mr-1"}),"Pruebas"]}),(0,i.jsxs)(P.Xi,{value:"history",className:"text-xs",children:[(0,i.jsx)(E.A,{className:"h-3 w-3 mr-1"}),"Historial"]})]}),(0,i.jsx)(P.av,{value:"status",className:"space-y-4",children:(0,i.jsx)(r.i,{})}),(0,i.jsx)(P.av,{value:"manual",className:"space-y-4",children:(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{className:"text-base",children:"Configuraci\xf3n Manual"}),(0,i.jsx)(l.BT,{className:"text-xs",children:"Configura tu ubicaci\xf3n manualmente cuando el GPS no est\xe9 disponible"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsx)(C,{})})]})}),(0,i.jsx)(P.av,{value:"test",className:"space-y-4",children:(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{className:"text-base",children:"Pruebas de Ubicaci\xf3n"}),(0,i.jsx)(l.BT,{className:"text-xs",children:"Herramientas para diagnosticar problemas de ubicaci\xf3n"})]}),(0,i.jsxs)(l.Wu,{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)(c.$,{variant:"outline",size:"sm",onClick:async()=>{try{let e=await p();O(e)}catch(e){console.error("Test failed:",e)}},disabled:T,children:[(0,i.jsx)(f.A,{className:"h-3 w-3 mr-1"}),"GPS"]}),(0,i.jsxs)(c.$,{variant:"outline",size:"sm",onClick:async()=>{try{let e=await N();O(e)}catch(e){console.error("Fallback test failed:",e)}},disabled:T,children:[(0,i.jsx)(R.A,{className:"h-3 w-3 mr-1"}),"Respaldo"]})]}),L&&(0,i.jsxs)(d.Fc,{variant:"destructive",children:[(0,i.jsx)(g.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{className:"text-xs",children:L})]}),(0,i.jsxs)("div",{className:"text-xs text-muted-foreground",children:[(0,i.jsx)("p",{children:"• GPS: Prueba la ubicaci\xf3n directa"}),(0,i.jsx)("p",{children:"• Respaldo: Prueba con mecanismos de respaldo"})]})]})]})}),(0,i.jsx)(P.av,{value:"history",className:"space-y-4",children:(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{className:"text-base",children:"Historial de Ubicaciones"}),(0,i.jsx)(l.BT,{className:"text-xs",children:"\xdaltimas ubicaciones obtenidas"})]}),(0,i.jsx)(l.Wu,{children:0===I.length?(0,i.jsxs)("div",{className:"text-center py-4",children:[(0,i.jsx)(E.A,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),(0,i.jsx)("p",{className:"text-xs text-muted-foreground",children:"No hay historial de ubicaciones"})]}):(0,i.jsxs)("div",{className:"space-y-2",children:[I.map(e=>{var s;return(0,i.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted rounded text-xs",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:["gps"===e.source&&(0,i.jsx)(f.A,{className:"h-3 w-3 text-green-500"}),"manual"===e.source&&(0,i.jsx)(j.A,{className:"h-3 w-3 text-orange-500"}),"cached"===e.source&&(0,i.jsx)(E.A,{className:"h-3 w-3 text-gray-500"}),"network"===e.source&&(0,i.jsx)(u.A,{className:"h-3 w-3 text-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"font-medium",children:(null==(s=e.locationInfo)?void 0:s.city)||"Ciudad desconocida"}),(0,i.jsxs)("p",{className:"text-muted-foreground",children:["\xb1",Math.round(e.accuracy),"m"]})]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsx)("p",{className:"text-muted-foreground",children:_(e.timestamp)}),(0,i.jsx)(k.E,{variant:"outline",className:"text-xs",children:e.source||"unknown"})]})]},e.id)}),I.length>0&&(0,i.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>{M([]),localStorage.removeItem("squadup_location_history")},className:"w-full text-xs",children:"Limpiar Historial"})]})})]})})]}),(0,i.jsxs)(d.Fc,{children:[(0,i.jsx)(m.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{className:"text-xs",children:"Tu ubicaci\xf3n se usa para encontrar jugadores y partidos cerca de ti. Puedes cambiar estos ajustes en cualquier momento."})]})]})}var U=a(22346),T=a(12543),L=a(6874),B=a.n(L);function $(){let{permissions:e,requestLocationPermission:s,getCurrentLocation:a}=(0,n.S)(),[r,o]=(0,t.useState)([]),[u,m]=(0,t.useState)(!1),[x,f]=(0,t.useState)("settings"),N=e=>{let s={...e,id:Date.now().toString()};return o(e=>[...e,s]),s.id},b=(e,s)=>{o(a=>a.map(a=>a.id===e?{...a,...s}:a))},v=async()=>{let a=N({name:"Solicitar Permiso de Ubicaci\xf3n",status:"pending"}),i=Date.now();try{let t=await s(),n=Date.now()-i;b(a,{status:t?"success":"error",result:{granted:t,permissions:e},duration:n,error:t?void 0:"Permiso denegado"})}catch(s){let e=Date.now()-i;b(a,{status:"error",error:s instanceof Error?s.message:"Error desconocido",duration:e})}},y=async()=>{let e=N({name:"Obtener Ubicaci\xf3n Actual",status:"pending"}),s=Date.now();try{let i=await a(),t=Date.now()-s;b(e,{status:"success",result:i,duration:t})}catch(i){let a=Date.now()-s;b(e,{status:"error",error:i instanceof Error?i.message:"Error desconocido",duration:a})}},w=async()=>{let e=N({name:"Prueba Directa del Navegador",status:"pending"}),s=Date.now();try{if(!("geolocation"in navigator))throw Error("Geolocalizaci\xf3n no disponible");let a=await new Promise((e,s)=>{navigator.geolocation.getCurrentPosition(e,s,{enableHighAccuracy:!0,timeout:15e3,maximumAge:3e5})}),i=Date.now()-s;b(e,{status:"success",result:{latitude:a.coords.latitude,longitude:a.coords.longitude,accuracy:a.coords.accuracy,timestamp:a.timestamp},duration:i})}catch(t){let a=Date.now()-s,i="Error desconocido";if(t.code)switch(t.code){case t.PERMISSION_DENIED:i="Permiso denegado";break;case t.POSITION_UNAVAILABLE:i="Posici\xf3n no disponible";break;case t.TIMEOUT:i="Tiempo de espera agotado"}else t.message&&(i=t.message);b(e,{status:"error",error:i,duration:a})}},A=async()=>{m(!0),o([]);try{await v(),await new Promise(e=>setTimeout(e,1e3)),await y(),await new Promise(e=>setTimeout(e,1e3)),await w()}finally{m(!1)}},C=e=>{switch(e){case"pending":return(0,i.jsx)(p.A,{className:"h-4 w-4 animate-spin"});case"success":return(0,i.jsx)(h.A,{className:"h-4 w-4 text-green-500"});case"error":return(0,i.jsx)(g.A,{className:"h-4 w-4 text-red-500"})}},E=e=>{switch(e){case"pending":return(0,i.jsx)(k.E,{variant:"secondary",children:"Ejecutando..."});case"success":return(0,i.jsx)(k.E,{variant:"default",className:"bg-green-500",children:"\xc9xito"});case"error":return(0,i.jsx)(k.E,{variant:"destructive",children:"Error"})}};return(0,i.jsxs)("div",{className:"container mx-auto p-4 max-w-4xl",children:[(0,i.jsx)("div",{className:"mb-6",children:(0,i.jsx)("div",{className:"flex items-center justify-between",children:(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(B(),{href:"/",className:"text-muted-foreground hover:text-foreground",children:(0,i.jsx)(T.A,{className:"h-4 w-4"})}),(0,i.jsxs)("h1",{className:"text-xl font-bold flex items-center gap-2",children:[(0,i.jsx)(S.A,{className:"h-5 w-5"}),"Diagn\xf3stico de Ubicaci\xf3n"]})]}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground",children:"Herramientas para diagnosticar y configurar la geolocalizaci\xf3n"})]})})}),(0,i.jsxs)(P.tU,{value:x,onValueChange:f,children:[(0,i.jsxs)(P.j7,{className:"grid w-full grid-cols-2",children:[(0,i.jsxs)(P.Xi,{value:"settings",children:[(0,i.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"Configuraci\xf3n"]}),(0,i.jsxs)(P.Xi,{value:"diagnostics",children:[(0,i.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Diagn\xf3sticos"]})]}),(0,i.jsx)(P.av,{value:"settings",className:"space-y-4",children:(0,i.jsx)(D,{showOnboarding:!1})}),(0,i.jsxs)(P.av,{value:"diagnostics",className:"space-y-4",children:[(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Estado Actual de Permisos"}),(0,i.jsx)(l.BT,{children:"Informaci\xf3n sobre el estado actual de los permisos de ubicaci\xf3n"})]}),(0,i.jsxs)(l.Wu,{children:[(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium mb-1",children:"Permiso de Ubicaci\xf3n:"}),(0,i.jsx)(k.E,{variant:e.location?"default":"destructive",children:e.location?"Concedido":"Denegado"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium mb-1",children:"Cargando:"}),(0,i.jsx)(k.E,{variant:e.isLoading?"secondary":"outline",children:e.isLoading?"S\xed":"No"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium mb-1",children:"Denegado Permanentemente:"}),(0,i.jsx)(k.E,{variant:e.deniedPermanently.location?"destructive":"outline",children:e.deniedPermanently.location?"S\xed":"No"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-sm font-medium mb-1",children:"Ha Preguntado Antes:"}),(0,i.jsx)(k.E,{variant:e.hasAskedBefore.location?"secondary":"outline",children:e.hasAskedBefore.location?"S\xed":"No"})]})]}),e.error&&(0,i.jsxs)(d.Fc,{className:"mt-4",children:[(0,i.jsx)(g.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{children:e.error})]})]})]}),(0,i.jsxs)(l.Zp,{className:"mb-6",children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Controles de Prueba"}),(0,i.jsx)(l.BT,{children:"Ejecuta pruebas individuales o todas las pruebas a la vez"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,i.jsx)(c.$,{onClick:v,disabled:u,variant:"outline",children:"Probar Permiso"}),(0,i.jsx)(c.$,{onClick:y,disabled:u,variant:"outline",children:"Probar Ubicaci\xf3n"}),(0,i.jsx)(c.$,{onClick:w,disabled:u,variant:"outline",children:"Prueba Directa"}),(0,i.jsx)(U.w,{orientation:"vertical",className:"h-6"}),(0,i.jsxs)(c.$,{onClick:A,disabled:u,className:"bg-blue-600 hover:bg-blue-700",children:[u?(0,i.jsx)(p.A,{className:"h-4 w-4 animate-spin mr-2"}):(0,i.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Ejecutar Todas"]}),(0,i.jsx)(c.$,{onClick:()=>{o([])},disabled:u,variant:"ghost",children:"Limpiar"})]})})]}),r.length>0&&(0,i.jsxs)(l.Zp,{children:[(0,i.jsxs)(l.aR,{children:[(0,i.jsx)(l.ZB,{children:"Resultados de Pruebas"}),(0,i.jsx)(l.BT,{children:"Resultados detallados de las pruebas ejecutadas"})]}),(0,i.jsx)(l.Wu,{children:(0,i.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,i.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[C(e.status),(0,i.jsx)("h3",{className:"font-medium",children:e.name})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[e.duration&&(0,i.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.duration,"ms"]}),E(e.status)]})]}),e.error&&(0,i.jsxs)(d.Fc,{className:"mb-2",children:[(0,i.jsx)(g.A,{className:"h-4 w-4"}),(0,i.jsx)(d.TN,{children:e.error})]}),e.result&&(0,i.jsxs)("div",{className:"bg-muted rounded p-3",children:[(0,i.jsx)("p",{className:"text-sm font-medium mb-1",children:"Resultado:"}),(0,i.jsx)("pre",{className:"text-xs overflow-auto",children:JSON.stringify(e.result,null,2)})]})]},e.id))})})]})]})]})]})}},17313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>o,av:()=>d,j7:()=>l,tU:()=>c});var i=a(95155),t=a(12115),n=a(60704),r=a(59434);let c=n.bL,l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)(n.B8,{ref:s,className:(0,r.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...t})});l.displayName=n.B8.displayName;let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)(n.l9,{ref:s,className:(0,r.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...t})});o.displayName=n.l9.displayName;let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)(n.UC,{ref:s,className:(0,r.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...t})});d.displayName=n.UC.displayName},22346:(e,s,a)=>{"use strict";a.d(s,{w:()=>c});var i=a(95155),t=a(12115),n=a(87489),r=a(59434);let c=t.forwardRef((e,s)=>{let{className:a,orientation:t="horizontal",decorative:c=!0,...l}=e;return(0,i.jsx)(n.b,{ref:s,decorative:c,orientation:t,className:(0,r.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",a),...l})});c.displayName=n.b.displayName},24944:(e,s,a)=>{"use strict";a.d(s,{k:()=>c});var i=a(95155),t=a(12115),n=a(55863),r=a(59434);let c=t.forwardRef((e,s)=>{let{className:a,value:t,...c}=e;return(0,i.jsx)(n.bL,{ref:s,className:(0,r.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...c,children:(0,i.jsx)(n.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})});c.displayName=n.bL.displayName},26126:(e,s,a)=>{"use strict";a.d(s,{E:()=>c});var i=a(95155);a(12115);var t=a(74466),n=a(59434);let r=(0,t.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:a,...t}=e;return(0,i.jsx)("div",{className:(0,n.cn)(r({variant:a}),s),...t})}},30285:(e,s,a)=>{"use strict";a.d(s,{$:()=>o,r:()=>l});var i=a(95155),t=a(12115),n=a(66634),r=a(74466),c=a(59434);let l=(0,r.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=t.forwardRef((e,s)=>{let{className:a,variant:t,size:r,asChild:o=!1,...d}=e,u=o?n.DX:"button";return(0,i.jsx)(u,{className:(0,c.cn)(l({variant:t,size:r,className:a})),ref:s,...d})});o.displayName="Button"},59434:(e,s,a)=>{"use strict";a.d(s,{cn:()=>n});var i=a(52596),t=a(39688);function n(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,t.QP)((0,i.$)(s))}},66695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>o,Wu:()=>d,ZB:()=>l,Zp:()=>r,aR:()=>c,wL:()=>u});var i=a(95155),t=a(12115),n=a(59434);let r=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});r.displayName="Card";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...t})});c.displayName="CardHeader";let l=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)("h3",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});l.displayName="CardTitle";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)("p",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",a),...t})});o.displayName="CardDescription";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",a),...t})});d.displayName="CardContent";let u=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",a),...t})});u.displayName="CardFooter"},77854:(e,s,a)=>{Promise.resolve().then(a.bind(a,6924))},79372:(e,s,a)=>{"use strict";a.d(s,{i:()=>g});var i=a(95155),t=a(12115),n=a(30411),r=a(30285),c=a(66695),l=a(26126),o=a(50172),d=a(8376),u=a(11133),m=a(88628),x=a(83662),h=a(67554);function g(){var e;let{permissions:s,requestLocationPermission:a,getCurrentLocation:g}=(0,n.S)(),[j,p]=(0,t.useState)(null),[f,N]=(0,t.useState)(!1),[b,v]=(0,t.useState)(null),[y,w]=(0,t.useState)(null),A=async()=>{try{await a()&&console.log("Permiso de ubicaci\xf3n concedido")}catch(e){console.error("Error solicitando permiso:",e)}},C=async()=>{N(!0),v(null);try{if(console.log("\uD83D\uDD0D Iniciando obtenci\xf3n de ubicaci\xf3n..."),!("geolocation"in navigator))throw Error("Geolocalizaci\xf3n no disponible en este navegador");if(!s.location&&(console.log("\uD83D\uDCCD Solicitando permisos de ubicaci\xf3n..."),!await a()))throw Error("Se requiere permiso de ubicaci\xf3n para continuar");console.log("✅ Permisos concedidos, obteniendo ubicaci\xf3n...");let e=await g();p(e),v(null),console.log("\uD83C\uDFAF Ubicaci\xf3n obtenida exitosamente:",e)}catch(s){let e=s instanceof Error?s.message:"Error desconocido al obtener ubicaci\xf3n";console.error("❌ Error obteniendo ubicaci\xf3n:",e),v(e),p(null)}finally{N(!1)}},P=s.isLoading?{icon:(0,i.jsx)(o.A,{className:"h-4 w-4 animate-spin text-blue-500"}),text:"Verificando permisos...",badge:(0,i.jsx)(l.E,{variant:"secondary",children:"Cargando"})}:s.location?{icon:(0,i.jsx)(d.A,{className:"h-4 w-4 text-green-500"}),text:"Permiso concedido",badge:(0,i.jsx)(l.E,{variant:"default",className:"bg-green-500",children:"Activo"})}:s.deniedPermanently.location?{icon:(0,i.jsx)(u.A,{className:"h-4 w-4 text-red-500"}),text:"Permiso denegado permanentemente",badge:(0,i.jsx)(l.E,{variant:"destructive",children:"Bloqueado"})}:{icon:(0,i.jsx)(u.A,{className:"h-4 w-4 text-orange-500"}),text:"Permiso no concedido",badge:(0,i.jsx)(l.E,{variant:"outline",children:"Pendiente"})};return(0,i.jsx)(c.Zp,{className:"w-full max-w-sm",children:(0,i.jsxs)(c.Wu,{className:"p-4 space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[P.icon,(0,i.jsx)("span",{className:"text-sm font-medium",children:"Localizaci\xf3n"})]}),P.badge]}),j&&(0,i.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,i.jsx)("span",{className:"font-medium text-green-800",children:(null==(e=j.locationInfo)?void 0:e.city)||"Localizaci\xf3n obtenida"}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(m.A,{className:"h-3 w-3 text-green-600"}),(0,i.jsx)("span",{className:"text-green-600",children:"Localizaci\xf3n"})]})]})}),(s.error||b)&&(0,i.jsxs)("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 p-3 rounded space-y-1",children:[(0,i.jsx)("div",{className:"font-medium",children:"⚠️ Problema de Ubicaci\xf3n"}),(0,i.jsx)("div",{className:"whitespace-pre-line",children:b||s.error}),s.deniedPermanently.location&&(0,i.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800",children:[(0,i.jsx)("div",{className:"font-medium",children:"\uD83D\uDCA1 Soluci\xf3n r\xe1pida:"}),(0,i.jsx)("div",{children:"1. Busca el \xedcono \uD83D\uDD12 o \uD83D\uDCCD en la barra de direcciones"}),(0,i.jsx)("div",{children:'2. Haz clic y selecciona "Permitir ubicaci\xf3n"'}),(0,i.jsx)("div",{children:"3. Recarga la p\xe1gina (F5)"})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex gap-2",children:[!s.location&&!s.deniedPermanently.location&&(0,i.jsxs)(r.$,{onClick:A,disabled:s.isLoading,size:"sm",className:"flex-1",children:[s.isLoading?(0,i.jsx)(o.A,{className:"h-3 w-3 animate-spin mr-1"}):(0,i.jsx)(x.A,{className:"h-3 w-3 mr-1"}),"Activar Ubicaci\xf3n"]}),s.location&&(0,i.jsxs)(r.$,{onClick:C,disabled:f,size:"sm",className:"flex-1",children:[f?(0,i.jsx)(o.A,{className:"h-3 w-3 animate-spin mr-1"}):(0,i.jsx)(m.A,{className:"h-3 w-3 mr-1"}),j?"Actualizar Ubicaci\xf3n":"Obtener Ubicaci\xf3n"]})]}),s.location&&(0,i.jsx)("div",{className:"flex gap-2",children:null===y?(0,i.jsxs)(r.$,{onClick:()=>{if(!("geolocation"in navigator))return void v("Geolocalizaci\xf3n no disponible");console.log("\uD83D\uDD04 Iniciando ubicaci\xf3n en tiempo real..."),w(navigator.geolocation.watchPosition(e=>{console.log("\uD83D\uDCCD Nueva ubicaci\xf3n en tiempo real:",e),p({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,source:"gps",timestamp:Date.now()}),v(null)},e=>{let s="Error en ubicaci\xf3n en tiempo real";switch(e.code){case e.PERMISSION_DENIED:s="Permiso de ubicaci\xf3n denegado";break;case e.POSITION_UNAVAILABLE:s="Ubicaci\xf3n no disponible";break;case e.TIMEOUT:s="Tiempo de espera agotado"}console.error("❌ Error en tiempo real:",s),v(s)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}))},size:"sm",variant:"outline",className:"flex-1",children:[(0,i.jsx)(h.A,{className:"h-3 w-3 mr-1"}),"Tiempo Real"]}):(0,i.jsxs)(r.$,{onClick:()=>{null!==y&&(navigator.geolocation.clearWatch(y),w(null),console.log("⏹️ Ubicaci\xf3n en tiempo real detenida"))},size:"sm",variant:"destructive",className:"flex-1",children:[(0,i.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Detener"]})}),s.deniedPermanently.location&&(0,i.jsxs)(r.$,{onClick:()=>window.location.reload(),size:"sm",variant:"outline",className:"w-full",children:[(0,i.jsx)(h.A,{className:"h-3 w-3 mr-1"}),"Recargar P\xe1gina"]})]}),s.deniedPermanently.location&&(0,i.jsx)("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 p-2 rounded",children:"Ve a configuraci\xf3n del navegador para permitir localizaci\xf3n"})]})})}},85057:(e,s,a)=>{"use strict";a.d(s,{J:()=>o});var i=a(95155),t=a(12115),n=a(40968),r=a(74466),c=a(59434);let l=(0,r.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,i.jsx)(n.b,{ref:s,className:(0,c.cn)(l(),a),...t})});o.displayName=n.b.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[5769,9863,6874,4214,7846,2673,8441,1684,7358],()=>s(77854)),_N_E=e.O()}]);