(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3133],{26126:(e,a,t)=>{"use strict";t.d(a,{E:()=>l});var s=t(95155);t(12115);var r=t(74466),o=t(59434);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:a,variant:t,...r}=e;return(0,s.jsx)("div",{className:(0,o.cn)(n({variant:t}),a),...r})}},30285:(e,a,t)=>{"use strict";t.d(a,{$:()=>d,r:()=>i});var s=t(95155),r=t(12115),o=t(66634),n=t(74466),l=t(59434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,size:n,asChild:d=!1,...c}=e,u=d?o.DX:"button";return(0,s.jsx)(u,{className:(0,l.cn)(i({variant:r,size:n,className:t})),ref:a,...c})});d.displayName="Button"},40276:(e,a,t)=>{"use strict";t.d(a,{default:()=>R});var s=t(95155),r=t(12115),o=t(93473),n=t(30285),l=t(54165),i=t(91394),d=t(26126),c=t(12543),u=t(81203),m=t(50286),g=t(73503),f=t(89829),p=t(31573),x=t(45731),h=t(93576),b=t(13896),v=t(94063),j=t(73672),N=t(62523),y=t(85057),w=t(66424),S=t(6874),A=t.n(S),_=t(87481),D=t(67491),k=t(59434),I=t(80333),C=t(59409),E=t(88539),M=t(77740);let L=o.ZS.flatMap(e=>e.players);function R(e){var a;let{tournamentId:t}=e,S=o.NB.find(e=>e.id===t),{toast:R}=(0,_.dj)(),{user:T}=(0,D.A)(),[q,z]=(0,r.useState)([]),[F,P]=(0,r.useState)(""),[U,O]=(0,r.useState)(!1),[V,J]=(0,r.useState)(!1),[B,G]=(0,r.useState)(!1),[$,K]=(0,r.useState)(""),[H,Y]=(0,r.useState)(!1),[Z,X]=(0,r.useState)(!1),[W,Q]=(0,r.useState)(L),[ee,ea]=(0,r.useState)(""),[et,es]=(0,r.useState)(0),[er,eo]=(0,r.useState)([{id:"info",title:"Informaci\xf3n General",content:"Informaci\xf3n importante del torneo."},{id:"rules",title:"Reglas del Torneo",content:"Recuerden seguir todas las reglas del torneo."},{id:"schedule",title:"Horarios",content:"Revisen los horarios actualizados del torneo."},{id:"maps",title:"Mapas",content:"Los mapas para este torneo han sido confirmados."}]),[en,el]=(0,r.useState)(!1),[ei,ed]=(0,r.useState)(""),[ec,eu]=(0,r.useState)(""),[em,eg]=(0,r.useState)(!1),[ef,ep]=(0,r.useState)(!1),[ex,eh]=(0,r.useState)(null),eb=(0,r.useRef)(null),ev=(0,r.useRef)(null),ej=(0,r.useRef)([]),eN=(0,r.useRef)(null);if((0,r.useEffect)(()=>{let e=()=>{try{if(!(null==T?void 0:T.uid))return;let e=["profile_".concat(T.uid),"profile_backup_".concat(T.uid),"pending_profile_".concat(T.uid),"currentProfile"],a=null,t=0;for(let s of e)try{let e=localStorage.getItem(s);if(e){let s=JSON.parse(e),r=s.lastModified||s.lastUpdate||0;r>t&&(t=r,a=s)}}catch(e){console.warn("Error loading profile from ".concat(s,":"),e)}a&&eh(a)}catch(e){console.error("Error loading profile:",e)}};e();let a=a=>{(null==T?void 0:T.uid)&&(a.key==="profile_".concat(T.uid)||a.key==="profile_backup_".concat(T.uid)||a.key==="pending_profile_".concat(T.uid)||"currentProfile"===a.key)&&e()},t=()=>{e()};return window.addEventListener("storage",a),window.addEventListener("profileUpdated",t),()=>{window.removeEventListener("storage",a),window.removeEventListener("profileUpdated",t)}},[]),(0,r.useEffect)(()=>()=>{ej.current.forEach(e=>clearTimeout(e)),eN.current&&clearTimeout(eN.current)},[]),!S)return(0,s.jsx)("div",{children:"Torneo no encontrado"});let ey=()=>{var e;null==(e=eb.current)||e.scrollIntoView({behavior:"smooth"})};(0,r.useEffect)(()=>{ey()},[q]),(0,r.useEffect)(()=>{if(!S)return;[{id:"welcome-".concat(Date.now()),text:"\uD83C\uDFAF \xa1Bienvenido al chat del torneo ".concat(S.name,"!"),sender:"Sistema PUBG",timestamp:new Date,isSystemMessage:!0,avatar:"",isAdmin:!1},{id:"info-".concat(Date.now()+1),text:"\uD83D\uDCC5 Fecha: ".concat(S.date," | \uD83C\uDFAE Modo: ").concat(S.mode," | \uD83C\uDFC6 Premio: ").concat(S.prize),sender:"Sistema PUBG",timestamp:new Date,isSystemMessage:!0,avatar:"",isAdmin:!1},{id:"rules-".concat(Date.now()+2),text:"⚡ Recuerda seguir las reglas del torneo. Mant\xe9n un comportamiento respetuoso y deportivo.",sender:"Sistema PUBG",timestamp:new Date,isSystemMessage:!0,avatar:"",isAdmin:!1}].forEach((e,a)=>{let t=setTimeout(()=>{z(a=>[...a,e])},(a+1)*1e3);ej.current.push(t)}),R({title:"\uD83C\uDFAE Conectado al chat del torneo",description:"Has entrado al chat de ".concat(S.name)});let e=setInterval(()=>{let e=["\uD83D\uDD25 Recordatorio: El torneo ".concat(S.name," est\xe1 en curso. \xa1Mantente atento a las actualizaciones!"),"⏰ Verifica los horarios del torneo en la informaci\xf3n de la sala.","\uD83C\uDFAF Aseg\xfarate de tener tu equipo listo y configurado para el torneo.","\uD83C\uDFC6 \xa1Que gane el mejor! Recuerda jugar limpio y respetar a tus oponentes."],a=e[Math.floor(Math.random()*e.length)],t={id:"reminder-".concat(Date.now()),text:a,sender:"Sistema PUBG",timestamp:new Date,isSystemMessage:!0,avatar:"",isAdmin:!1};z(e=>[...e,t])},3e5);return()=>{clearInterval(e)}},[S,R]);let ew=()=>{F.trim()&&!Z&&(z([...q,{id:Date.now().toString(),text:F,sender:(null==ex?void 0:ex.name)||o.HL.name||"Usuario",timestamp:new Date,avatar:(null==ex?void 0:ex.avatarUrl)||o.HL.avatar,isAdmin:!1}]),P(""))},eS=e=>{let a=F.substring(0,et),t=F.substring(et),s=a.lastIndexOf("@");-1!==s&&(P(a.substring(0,s)+"@".concat(e.name," ")+t),Y(!1),ea(""),eN.current=setTimeout(()=>{if(ev.current){let a=s+e.name.length+2;ev.current.setSelectionRange(a,a),ev.current.focus()}},0))};return(0,s.jsxs)("div",{className:"flex flex-col h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-orange-900",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-orange-500/30 bg-gradient-to-r from-slate-900/95 to-orange-900/95 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(A(),{href:"/tournaments/".concat(t),children:(0,s.jsxs)(n.$,{variant:"ghost",size:"sm",className:"hover:bg-orange-500/20 text-orange-400",children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Volver"]})}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"w-4 h-4 bg-gradient-to-r from-orange-400 to-red-500 rounded-full animate-pulse"}),(0,s.jsx)("div",{className:"absolute inset-0 w-4 h-4 bg-orange-400 rounded-full animate-ping opacity-75"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,s.jsx)(u.A,{className:"h-5 w-5 text-orange-400"}),S.name]}),(0,s.jsxs)("p",{className:"text-sm text-orange-300 flex items-center gap-1",children:[(0,s.jsx)(m.A,{className:"h-3 w-3"}),"Chat del torneo - ",L.length," participantes"]})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(l.lG,{open:en,onOpenChange:el,children:[(0,s.jsx)(l.zM,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",size:"sm",className:"bg-slate-800/50 border-orange-500/30 text-orange-300 hover:bg-orange-500/20 hover:text-white",children:[(0,s.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Mensajes"]})}),(0,s.jsxs)(l.Cf,{className:"sm:max-w-md bg-gradient-to-br from-slate-900 to-slate-800 border-orange-500/30 text-white",children:[(0,s.jsxs)(l.c7,{children:[(0,s.jsxs)(l.L3,{className:"text-orange-300 flex items-center gap-2",children:[(0,s.jsx)(f.A,{className:"h-5 w-5"}),"Enviar Mensaje de Informaci\xf3n"]}),(0,s.jsx)(l.rr,{className:"text-slate-300",children:"Selecciona un mensaje predefinido o escribe uno personalizado."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(I.d,{id:"custom-mode",checked:em,onCheckedChange:eg,className:"data-[state=checked]:bg-orange-500"}),(0,s.jsx)(y.J,{htmlFor:"custom-mode",className:"text-orange-300",children:"Mensaje personalizado"})]}),em?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.J,{htmlFor:"custom-message",className:"text-orange-300",children:"Mensaje personalizado"}),(0,s.jsx)(E.T,{id:"custom-message",placeholder:"Escribe tu mensaje aqu\xed...",value:ec,onChange:e=>eu(e.target.value),rows:4,className:"bg-slate-800/50 border-orange-500/30 text-white placeholder:text-slate-400"})]}):(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.J,{htmlFor:"template",className:"text-orange-300",children:"Seleccionar plantilla"}),(0,s.jsxs)(C.l6,{value:ei,onValueChange:ed,children:[(0,s.jsx)(C.bq,{className:"bg-slate-800/50 border-orange-500/30 text-white",children:(0,s.jsx)(C.yv,{placeholder:"Selecciona una plantilla"})}),(0,s.jsx)(C.gC,{className:"bg-slate-800 border-orange-500/30",children:er.map(e=>(0,s.jsx)(C.eb,{value:e.id,className:"text-white hover:bg-orange-500/20",children:e.title},e.id))})]}),ei&&(0,s.jsx)("div",{className:"p-3 bg-slate-800/50 border border-orange-500/30 rounded-md",children:(0,s.jsx)("p",{className:"text-sm text-slate-300",children:null==(a=er.find(e=>e.id===ei))?void 0:a.content})})]})]}),(0,s.jsx)(l.Es,{children:(0,s.jsx)(n.$,{onClick:()=>{if(em&&ec.trim())z([...q,{id:Date.now().toString(),text:ec,sender:"Sistema",timestamp:new Date,avatar:"/placeholder.svg",isAdmin:!0,isSystemMessage:!0}]),eu("");else if(ei){let e=er.find(e=>e.id===ei);e&&z([...q,{id:Date.now().toString(),text:e.content,sender:"Sistema",timestamp:new Date,avatar:"/placeholder.svg",isAdmin:!0,isSystemMessage:!0}])}el(!1),ed(""),eg(!1),R({title:"Mensaje enviado",description:"El mensaje de informaci\xf3n del torneo ha sido enviado."})},disabled:!ei&&!em||em&&!ec.trim(),className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white",children:"Enviar Mensaje"})})]})]}),(0,s.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>{X(!Z),R({title:Z?"Chat desbloqueado":"Chat bloqueado",description:Z?"Los usuarios pueden enviar mensajes.":"Solo los administradores pueden enviar mensajes."})},className:"bg-slate-800/50 border-orange-500/30 hover:bg-orange-500/20 hover:text-white ".concat(Z?"text-red-400":"text-orange-300"),children:Z?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Desbloquear"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Bloquear"]})}),(0,s.jsxs)(l.lG,{open:U,onOpenChange:O,children:[(0,s.jsx)(l.zM,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",size:"sm",className:"bg-slate-800/50 border-orange-500/30 text-orange-300 hover:bg-orange-500/20 hover:text-white",children:[(0,s.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Info Sala"]})}),(0,s.jsxs)(l.Cf,{className:"sm:max-w-md bg-gradient-to-br from-slate-900 to-slate-800 border-orange-500/30 text-white",children:[(0,s.jsxs)(l.c7,{children:[(0,s.jsxs)(l.L3,{className:"text-orange-300 flex items-center gap-2",children:[(0,s.jsx)(x.A,{className:"h-5 w-5"}),"Informaci\xf3n de la Sala"]}),(0,s.jsxs)(l.rr,{className:"text-slate-300",children:["Detalles del chat del torneo ",S.name]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(y.J,{className:"text-orange-300",children:"Participantes"}),(0,s.jsxs)("p",{className:"text-sm text-slate-300",children:[L.length," jugadores registrados"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(y.J,{className:"text-orange-300",children:"Estado del Chat"}),(0,s.jsx)("p",{className:"text-sm text-slate-300",children:Z?"Bloqueado - Solo administradores":"Abierto - Todos pueden participar"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(y.J,{className:"text-orange-300",children:"Torneo"}),(0,s.jsx)("p",{className:"text-sm text-slate-300",children:S.name})]})]})]})]}),(0,s.jsxs)(l.lG,{open:V,onOpenChange:J,children:[(0,s.jsx)(l.zM,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",size:"sm",className:"bg-slate-800/50 border-orange-500/30 text-orange-300 hover:bg-orange-500/20 hover:text-white",children:[(0,s.jsx)(b.A,{className:"h-4 w-4 mr-2"}),"Agregar"]})}),(0,s.jsxs)(l.Cf,{className:"sm:max-w-md bg-gradient-to-br from-slate-900 to-slate-800 border-orange-500/30 text-white",children:[(0,s.jsxs)(l.c7,{children:[(0,s.jsxs)(l.L3,{className:"text-orange-300 flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"h-5 w-5"}),"Agregar Usuario"]}),(0,s.jsx)(l.rr,{className:"text-slate-300",children:"Invita a un usuario al chat del torneo"})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(y.J,{htmlFor:"username",className:"text-orange-300",children:"Nombre de usuario"}),(0,s.jsx)(N.p,{id:"username",placeholder:"Ingresa el nombre de usuario",className:"bg-slate-800/50 border-orange-500/30 text-white placeholder:text-slate-400"})]})}),(0,s.jsx)(l.Es,{children:(0,s.jsx)(n.$,{onClick:()=>{R({title:"Usuario agregado",description:"El usuario ha sido agregado al chat del torneo."}),J(!1)},className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white",children:"Agregar Usuario"})})]})]})]})]}),(0,s.jsx)("div",{className:"flex-1 p-4 bg-gradient-to-b from-slate-900/50 to-slate-800/50",children:(0,s.jsx)(w.F,{className:"h-full",children:(0,s.jsxs)("div",{className:"space-y-4",children:[0===q.length?(0,s.jsxs)("div",{className:"text-center text-orange-300 py-8",children:[(0,s.jsx)(v.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50 text-orange-400"}),(0,s.jsx)("p",{children:"No hay mensajes a\xfan. \xa1S\xe9 el primero en escribir!"})]}):q.map(e=>(0,s.jsxs)("div",{className:(0,k.cn)("flex gap-3",e.isSystemMessage&&"justify-center"),children:[!e.isSystemMessage&&(0,s.jsxs)(i.eu,{className:"h-8 w-8 ring-2 ring-orange-500/30",children:[(0,s.jsx)(i.BK,{src:e.avatar}),(0,s.jsx)(i.q5,{className:"bg-gradient-to-br from-orange-500 to-red-600 text-white",children:e.sender[0]})]}),(0,s.jsxs)("div",{className:(0,k.cn)("flex-1 space-y-1",e.isSystemMessage&&"max-w-md"),children:[!e.isSystemMessage&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium text-sm text-orange-300",children:e.sender}),e.isAdmin&&(0,s.jsx)(d.E,{variant:"secondary",className:"text-xs bg-orange-500/20 text-orange-300 border-orange-500/30",children:"Admin"}),(0,s.jsx)("span",{className:"text-xs text-slate-400",children:e.timestamp instanceof Date?e.timestamp.toLocaleTimeString():new Date(e.timestamp||Date.now()).toLocaleTimeString()})]}),(0,s.jsxs)("div",{className:(0,k.cn)("rounded-lg p-3 text-sm",e.isSystemMessage?"bg-gradient-to-r from-slate-800/80 to-orange-900/40 border border-orange-500/30 text-orange-300 text-center":"bg-gradient-to-r from-slate-800/80 to-slate-700/80 border border-slate-600/30 backdrop-blur-sm"),children:[e.isSystemMessage&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,s.jsx)(f.A,{className:"h-4 w-4 text-orange-400"}),(0,s.jsx)("span",{className:"font-medium",children:"Informaci\xf3n del Torneo"})]}),(0,s.jsx)("p",{className:e.isSystemMessage?"text-orange-300":"text-white",children:e.text})]})]})]},e.id)),(0,s.jsx)("div",{ref:eb})]})})}),(0,s.jsx)("div",{className:"p-4 border-t border-orange-500/30 bg-gradient-to-r from-slate-900/95 to-slate-800/95 backdrop-blur-sm",children:(0,s.jsx)("div",{className:"relative",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 relative",children:[(0,s.jsx)(N.p,{ref:ev,value:F,onChange:e=>{let a=e.target.value,t=e.target.selectionStart||0;P(a),es(t);let s=a.substring(0,t),r=s.lastIndexOf("@");if(-1!==r&&r===s.length-1)Y(!0),ea(""),Q(L);else if(-1!==r){let e=s.substring(r+1);e.includes(" ")?Y(!1):(ea(e),Q(L.filter(a=>a.name.toLowerCase().includes(e.toLowerCase()))),Y(!0))}else Y(!1)},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),ew())},placeholder:Z?"Chat bloqueado - Solo administradores pueden escribir":"Escribe un mensaje... (usa @ para mencionar)",disabled:Z,className:"pr-12 bg-slate-800/50 border-orange-500/30 text-white placeholder:text-slate-400 focus:border-orange-400 focus:ring-orange-400/20"}),H&&W.length>0&&(0,s.jsx)("div",{className:"absolute bottom-full left-0 w-full mb-2 bg-background border rounded-md shadow-lg z-50",children:(0,s.jsx)(M.uB,{className:"max-h-48",children:(0,s.jsxs)(M.oI,{children:[(0,s.jsx)(M.xL,{children:"No se encontraron usuarios."}),(0,s.jsx)(M.L$,{children:W.slice(0,5).map(e=>(0,s.jsxs)(M.h_,{onSelect:()=>eS(e),className:"flex items-center gap-2 cursor-pointer",children:[(0,s.jsxs)(i.eu,{className:"h-6 w-6",children:[(0,s.jsx)(i.BK,{src:e.avatar}),(0,s.jsx)(i.q5,{children:e.name[0]})]}),(0,s.jsx)("span",{children:e.name})]},e.id))})]})})})]}),(0,s.jsx)(n.$,{onClick:ew,disabled:!F.trim()||Z,size:"sm",className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white border-none",children:(0,s.jsx)(j.A,{className:"h-4 w-4"})})]})})})]})}},54165:(e,a,t)=>{"use strict";t.d(a,{Cf:()=>m,Es:()=>f,L3:()=>p,c7:()=>g,lG:()=>i,rr:()=>x,zM:()=>d});var s=t(95155),r=t(12115),o=t(45821),n=t(25318),l=t(59434);let i=o.bL,d=o.l9,c=o.ZL;o.bm;let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.hJ,{ref:a,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});u.displayName=o.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(o.UC,{ref:a,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[r,(0,s.jsxs)(o.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=o.UC.displayName;let g=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};g.displayName="DialogHeader";let f=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};f.displayName="DialogFooter";let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.hE,{ref:a,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});p.displayName=o.hE.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.VY,{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});x.displayName=o.VY.displayName},56104:(e,a,t)=>{"use strict";let s;t.d(a,{db:()=>s,j2:()=>u});var r=t(23915),o=t(24903),n=t(35317),l=t(77505),i=t(99895);let d={projectId:"squadgo-app",appId:"1:442519077443:web:3d4e9e034e222838230af6",storageBucket:"squadgo-app.firebasestorage.app",apiKey:"AIzaSyDfY3FrK9baCrVhqhBpD2Zd7v2_oARFuX8",authDomain:"squadgo-app.firebaseapp.com",measurementId:"",messagingSenderId:"442519077443"},c=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)(d);console.log("\uD83D\uDD27 Firebase - Aplicaci\xf3n inicializada:",{projectId:d.projectId});let u=(0,o.getAuth)(c);Promise.resolve().then(t.bind(t,24903)).then(e=>{let{setPersistence:a,browserLocalPersistence:t,onAuthStateChanged:s}=e;a(u,t).then(()=>{console.log("✅ Firebase Auth - Persistencia configurada correctamente"),s(u,e=>{if(e){console.log("\uD83D\uDD04 Firebase Auth - Sesi\xf3n restaurada:",e.uid);let a={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,lastLogin:Date.now()};localStorage.setItem("squadgo_user_backup",JSON.stringify(a))}})}).catch(e=>{console.error("❌ Error configurando persistencia:",e),localStorage.getItem("squadgo_user_backup")&&console.log("\uD83D\uDD04 Intentando recuperar sesi\xf3n desde backup...")})}),console.log("\uD83D\uDD27 Firebase Auth - Inicializado:",{authDomain:d.authDomain});try{s=(0,n._A)(c,{ignoreUndefinedProperties:!0,experimentalAutoDetectLongPolling:!1,cacheSizeBytes:4e7,experimentalForceLongPolling:!1}),console.log("\uD83D\uDD27 Firestore - Inicializado con cache local y configuraci\xf3n optimizada")}catch(e){console.warn("⚠️ Firestore ya inicializado, usando instancia existente"),s=(0,n.aU)(c)}window.addEventListener("online",()=>{(0,n.Os)(s).catch(()=>{})}),window.addEventListener("offline",()=>{(0,n.LA)(s).catch(()=>{})}),(0,l.c7)(c);(0,i.TT)().then(e=>{e&&(0,i.dG)(c)})},59409:(e,a,t)=>{"use strict";t.d(a,{bq:()=>g,eb:()=>h,gC:()=>x,l6:()=>c,s3:()=>u,yv:()=>m});var s=t(95155),r=t(12115),o=t(43433),n=t(79556),l=t(77381),i=t(10518),d=t(59434);let c=o.bL,u=o.YJ,m=o.WT,g=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(o.l9,{ref:a,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,s.jsx)(o.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});g.displayName=o.l9.displayName;let f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.PP,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});f.displayName=o.PP.displayName;let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.wn,{ref:a,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=o.wn.displayName;let x=r.forwardRef((e,a)=>{let{className:t,children:r,position:n="popper",...l}=e;return(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(o.UC,{ref:a,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...l,children:[(0,s.jsx)(f,{}),(0,s.jsx)(o.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});x.displayName=o.UC.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.JU,{ref:a,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=o.JU.displayName;let h=r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(o.q7,{ref:a,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(o.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),(0,s.jsx)(o.p4,{children:r})]})});h.displayName=o.q7.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.wv,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=o.wv.displayName},62523:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(95155),r=t(12115),o=t(59434);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"},66424:(e,a,t)=>{"use strict";t.d(a,{F:()=>l});var s=t(95155),r=t(12115),o=t(47655),n=t(59434);let l=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(o.bL,{ref:a,className:(0,n.cn)("relative overflow-hidden",t),...l,children:[(0,s.jsx)(o.LM,{className:"h-full w-full rounded-[inherit]",children:r}),(0,s.jsx)(i,{}),(0,s.jsx)(o.OK,{})]})});l.displayName=o.bL.displayName;let i=r.forwardRef((e,a)=>{let{className:t,orientation:r="vertical",...l}=e;return(0,s.jsx)(o.VM,{ref:a,orientation:r,className:(0,n.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,s.jsx)(o.lr,{className:"relative flex-1 rounded-full bg-border"})})});i.displayName=o.VM.displayName},67491:(e,a,t)=>{"use strict";t.d(a,{A:()=>d,AuthProvider:()=>i});var s=t(95155),r=t(12115),o=t(24903),n=t(56104);let l=(0,r.createContext)({user:null,loading:!0}),i=e=>{let{children:a}=e,[t,i]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{console.log("\uD83D\uDD27 AuthProvider - Configurando listener de autenticaci\xf3n"),(()=>{{let e=localStorage.getItem("squadgo_user"),a=localStorage.getItem("squadgo_user_backup");if(e||a)try{let t=JSON.parse(e||a||"{}");console.log("\uD83D\uDD04 AuthProvider - Intentando recuperar sesi\xf3n desde localStorage:",t.uid)}catch(e){console.error("❌ Error recuperando usuario desde localStorage:",e),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}}})();let e=(0,o.onAuthStateChanged)(n.j2,async e=>{if(console.log("\uD83D\uDD04 AuthProvider - Estado de autenticaci\xf3n cambi\xf3:",{uid:null==e?void 0:e.uid,email:null==e?void 0:e.email,emailVerified:null==e?void 0:e.emailVerified}),e)try{console.log("✅ AuthProvider - Usuario autenticado"),i(e);{let a={uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",emailVerified:e.emailVerified,lastUpdate:Date.now(),sessionId:Math.random().toString(36).substring(2,11)};localStorage.setItem("squadgo_user",JSON.stringify(a)),localStorage.setItem("squadgo_user_backup",JSON.stringify(a));let t=new CustomEvent("userAuthenticated",{detail:{user:e}});window.dispatchEvent(t)}}catch(e){console.error("❌ AuthProvider - Error procesando usuario:",e),i(null),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else{console.log("\uD83D\uDEAB AuthProvider - Usuario no autenticado"),i(null);{let e=localStorage.getItem("squadgo_user_backup");if(e)try{let a=JSON.parse(e);Date.now()-(a.lastUpdate||0)>864e5?(localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup"),console.log("\uD83E\uDDF9 Limpiando datos de sesi\xf3n expirados")):console.log("\uD83D\uDD04 Manteniendo backup de sesi\xf3n reciente")}catch(e){localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else localStorage.removeItem("squadgo_user")}}c(!1)});return()=>{console.log("\uD83E\uDDF9 AuthProvider - Limpiando listener de autenticaci\xf3n"),e()}},[]),(0,s.jsx)(l.Provider,{value:{user:t,loading:d},children:a})},d=()=>(0,r.useContext)(l)},80333:(e,a,t)=>{"use strict";t.d(a,{d:()=>l});var s=t(95155),r=t(12115),o=t(4884),n=t(59434);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:a,children:(0,s.jsx)(o.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=o.bL.displayName},85057:(e,a,t)=>{"use strict";t.d(a,{J:()=>d});var s=t(95155),r=t(12115),o=t(40968),n=t(74466),l=t(59434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.b,{ref:a,className:(0,l.cn)(i(),t),...r})});d.displayName=o.b.displayName},87481:(e,a,t)=>{"use strict";t.d(a,{dj:()=>m,oR:()=>u});var s=t(12115);let r=0,o=new Map,n=e=>{if(o.has(e))return;let a=setTimeout(()=>{o.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);o.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},i=[],d={toasts:[]};function c(e){d=l(d,e),i.forEach(e=>{e(d)})}function u(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,a]=s.useState(d);return s.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},88539:(e,a,t)=>{"use strict";t.d(a,{T:()=>n});var s=t(95155),r=t(12115),o=t(59434);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r})});n.displayName="Textarea"},91394:(e,a,t)=>{"use strict";t.d(a,{BK:()=>i,eu:()=>l,q5:()=>d});var s=t(95155),r=t(12115),o=t(85977),n=t(59434);let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});l.displayName=o.bL.displayName;let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",t),...r})});i.displayName=o._V.displayName;let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(o.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});d.displayName=o.H4.displayName},96723:(e,a,t)=>{Promise.resolve().then(t.bind(t,40276))}},e=>{var a=a=>e(e.s=a);e.O(0,[9135,7210,5769,9863,3856,9550,5679,8722,4434,6874,5135,7132,2458,8441,1684,7358],()=>a(96723)),_N_E=e.O()}]);