(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5552],{17313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>l});var t=a(95155),r=a(12115),i=a(60704),n=a(59434);let l=i.bL,c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=i.B8.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=i.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=i.UC.displayName},22346:(e,s,a)=>{"use strict";a.d(s,{w:()=>l});var t=a(95155),r=a(12115),i=a(87489),n=a(59434);let l=r.forwardRef((e,s)=>{let{className:a,orientation:r="horizontal",decorative:l=!0,...c}=e;return(0,t.jsx)(i.b,{ref:s,decorative:l,orientation:r,className:(0,n.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",a),...c})});l.displayName=i.b.displayName},24944:(e,s,a)=>{"use strict";a.d(s,{k:()=>l});var t=a(95155),r=a(12115),i=a(55863),n=a(59434);let l=r.forwardRef((e,s)=>{let{className:a,value:r,...l}=e;return(0,t.jsx)(i.bL,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...l,children:(0,t.jsx)(i.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});l.displayName=i.bL.displayName},26126:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var t=a(95155);a(12115);var r=a(74466),i=a(59434);let n=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:a,...r}=e;return(0,t.jsx)("div",{className:(0,i.cn)(n({variant:a}),s),...r})}},46162:(e,s,a)=>{Promise.resolve().then(a.bind(a,49324))},49324:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var t=a(95155),r=a(12115),i=a(18046),n=a(50172),l=a(31949),c=a(30285),d=a(83013),o=a(61055),m=a(85268),x=a(48646),u=a(30462),h=a(51920),p=a(37648),j=a(83662),f=a(50286),N=a(66695),g=a(26126),v=a(68856),b=a(87481),w=a(93473),y=a(24903),E=a(56104),T=a(73265);function A(){let[e,s]=(0,r.useState)(!0),{user:a,setUser:t}=(0,T.kH)();return(0,r.useEffect)(()=>(0,y.onAuthStateChanged)(E.j2,e=>{t(e),s(!1)}),[t]),{user:a,loading:e,isAuthenticated:!!a}}var S=a(91721),C=a(54913),R=a(54165),I=a(62523),D=a(85057),k=a(88539),P=a(22346);function L(e){let{tournament:s,trigger:a,onRegistrationComplete:i}=e,{user:n}=A(),[l,d]=(0,r.useState)(!1),[o,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(["","",""]),h="Escuadra"===s.mode,p="D\xfao"===s.mode,j="Solo"===s.mode,N=()=>j?1:p?2:4,v=async e=>{e.preventDefault(),m(!0);try{let a=new FormData(e.currentTarget),t=a.get("team-name");if(a.get("notes"),h||p){if(!(null==t?void 0:t.trim()))return void(0,b.oR)({variant:"destructive",title:"Nombre de equipo requerido",description:"Debes proporcionar un nombre para tu ".concat(p?"d\xfao":"escuadra",".")});let e=N()-1;if(x.slice(0,e).filter(e=>e.trim()).length<e)return void(0,b.oR)({variant:"destructive",title:"Miembros incompletos",description:"Debes agregar ".concat(e," ").concat(1===e?"compa\xf1ero":"compa\xf1eros"," m\xe1s para completar tu ").concat(p?"d\xfao":"escuadra",".")})}await new Promise(e=>setTimeout(e,1e3)),(0,b.oR)({title:"\xa1Inscripci\xf3n exitosa!",description:'Te has inscrito correctamente al torneo "'.concat(s.name,'".')}),i(!0),d(!1),e.target.reset(),u(["","",""])}catch(e){console.error("Error registering for tournament:",e),(0,b.oR)({variant:"destructive",title:"Error en la inscripci\xf3n",description:"Hubo un problema al procesar tu inscripci\xf3n. Int\xe9ntalo de nuevo."}),i(!1)}finally{m(!1)}},w=(e,s)=>{let a=[...x];a[e]=s,u(a)};return(0,t.jsxs)(R.lG,{open:l,onOpenChange:d,children:[(0,t.jsx)(R.zM,{asChild:!0,children:a}),(0,t.jsxs)(R.Cf,{className:"max-w-md",children:[(0,t.jsxs)(R.c7,{children:[(0,t.jsxs)(R.L3,{className:"flex items-center gap-2",children:[j&&(0,t.jsx)(S.A,{className:"h-5 w-5"}),p&&(0,t.jsx)(f.A,{className:"h-5 w-5"}),h&&(0,t.jsx)(C.A,{className:"h-5 w-5"}),"Inscribirse al Torneo"]}),(0,t.jsxs)(R.rr,{children:['Completa la informaci\xf3n para inscribirte a "',s.name,'"']})]}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2 p-3 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Modo:"}),(0,t.jsx)(g.E,{variant:"outline",children:s.mode})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Participantes:"}),(0,t.jsxs)("span",{className:"text-sm",children:[N()," ",1===N()?"jugador":"jugadores"]})]}),s.prize&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:"Premio:"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-primary",children:s.prize})]})]}),(0,t.jsx)(P.w,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(D.J,{className:"text-sm font-medium",children:["Capit\xe1n del ",p?"d\xfao":h?"equipo":"participante"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted/30 rounded",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 text-yellow-500"}),(0,t.jsx)("span",{className:"font-medium",children:(null==n?void 0:n.displayName)||"Tu nombre"}),(0,t.jsx)(g.E,{variant:"secondary",className:"ml-auto",children:"T\xfa"})]})]}),(h||p)&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(D.J,{htmlFor:"team-name",children:["Nombre del ",p?"D\xfao":"Equipo"," *"]}),(0,t.jsx)(I.p,{id:"team-name",name:"team-name",placeholder:"Ej: ".concat(p?"D\xfao Din\xe1mico":"Los Conquistadores"),required:!0})]}),(h||p)&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(D.J,{className:"text-sm font-medium",children:[p?"Compa\xf1ero":"Miembros del Equipo"," *"]}),x.slice(0,N()-1).map((e,s)=>(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(D.J,{htmlFor:"member-".concat(s),className:"text-xs text-muted-foreground",children:p?"Compa\xf1ero":"Miembro ".concat(s+1)}),(0,t.jsx)(I.p,{id:"member-".concat(s),value:e,onChange:e=>w(s,e.target.value),placeholder:"Nombre del jugador",required:!0})]},s)),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Aseg\xfarate de que todos los miembros est\xe9n de acuerdo con participar."})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(D.J,{htmlFor:"notes",children:"Notas adicionales (opcional)"}),(0,t.jsx)(k.T,{id:"notes",name:"notes",placeholder:"Informaci\xf3n adicional, experiencia previa, etc.",className:"min-h-[80px]"})]}),(0,t.jsx)("div",{className:"p-3 bg-muted/30 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Al inscribirte, aceptas cumplir con las reglas del torneo y las pol\xedticas de la plataforma.",s.description&&" Revisa la descripci\xf3n del torneo para m\xe1s detalles."]})}),(0,t.jsxs)(R.Es,{children:[(0,t.jsx)(c.$,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancelar"}),(0,t.jsx)(c.$,{type:"submit",disabled:o,children:o?"Inscribiendo...":"Confirmar Inscripci\xf3n"})]})]})]})]})}function M(e){let{showCreateButton:s=!1,onCreateTournament:a,limit:i,game:n}=e,{user:l}=A(),[y,E]=(0,r.useState)([]),[T,S]=(0,r.useState)(!0),[C,R]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{I()},[n,i]);let I=async()=>{try{S(!0);let e=w.NB.filter(e=>"Pr\xf3ximamente"===e.status||"Abierto"===e.status);if(n&&(e=e.filter(e=>{var s;return null==(s=e.type)?void 0:s.toLowerCase().includes(n.toLowerCase())})),i&&(e=e.slice(0,i)),E(e),l){let e=new Set(["t1","t3"]);R(e)}}catch(e){console.error("Error loading tournaments:",e),(0,b.oR)({variant:"destructive",title:"Error",description:"No se pudieron cargar los torneos. Int\xe9ntalo de nuevo."})}finally{S(!1)}},D=async(e,s)=>{s&&(R(s=>new Set([...s,e])),(0,b.oR)({title:"Inscripci\xf3n exitosa",description:"Te has inscrito al torneo correctamente."}))},k=async e=>{try{R(s=>{let a=new Set(s);return a.delete(e),a}),(0,b.oR)({title:"Registro cancelado",description:"Has cancelado tu inscripci\xf3n al torneo."})}catch(e){console.error("Error cancelling registration:",e),(0,b.oR)({variant:"destructive",title:"Error",description:"No se pudo cancelar la inscripci\xf3n. Int\xe9ntalo de nuevo."})}},P=e=>{switch(e){case"Pr\xf3ximamente":return(0,t.jsx)(g.E,{variant:"secondary",children:"Pr\xf3ximamente"});case"Inscripciones Abiertas":return(0,t.jsx)(g.E,{variant:"default",children:"Inscripciones Abiertas"});case"En Progreso":return(0,t.jsx)(g.E,{variant:"destructive",children:"En Progreso"});case"Finalizado":return(0,t.jsx)(g.E,{variant:"outline",children:"Finalizado"});default:return(0,t.jsx)(g.E,{variant:"secondary",children:e})}},M=e=>{switch(null==e?void 0:e.toLowerCase()){case"competitivo":default:return(0,t.jsx)(m.A,{className:"h-4 w-4"});case"scrim":return(0,t.jsx)(x.A,{className:"h-4 w-4"});case"wow":return(0,t.jsx)(u.A,{className:"h-4 w-4"})}};return T?(0,t.jsxs)("div",{className:"space-y-6",children:[s&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Torneos"}),(0,t.jsx)(v.E,{className:"h-10 w-32"})]}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,s)=>(0,t.jsxs)(N.Zp,{className:"flex flex-col",children:[(0,t.jsx)(N.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.E,{className:"h-4 w-4"})," ",(0,t.jsx)(v.E,{className:"h-6 w-3/4"})," "]}),(0,t.jsx)(v.E,{className:"h-4 w-1/2"})," "]}),(0,t.jsx)(v.E,{className:"h-6 w-20"})," "]})}),(0,t.jsxs)(N.Wu,{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.E,{className:"h-4 w-4"}),(0,t.jsx)(v.E,{className:"h-4 w-2/3"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.E,{className:"h-4 w-4"}),(0,t.jsx)(v.E,{className:"h-4 w-1/2"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.E,{className:"h-4 w-4"}),(0,t.jsx)(v.E,{className:"h-4 w-3/4"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.E,{className:"h-4 w-4"}),(0,t.jsx)(v.E,{className:"h-4 w-1/3"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.E,{className:"h-4 w-4"}),(0,t.jsx)(v.E,{className:"h-4 w-1/2"})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(v.E,{className:"h-4 w-full"}),(0,t.jsx)(v.E,{className:"h-4 w-4/5"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[(0,t.jsx)(v.E,{className:"h-5 w-16"}),(0,t.jsx)(v.E,{className:"h-5 w-20"}),(0,t.jsx)(v.E,{className:"h-5 w-14"})]})]}),(0,t.jsxs)(N.wL,{className:"pt-4",children:[(0,t.jsx)(v.E,{className:"h-10 w-full"})," "]})]},s))})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[s&&(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Torneos"}),(0,t.jsxs)(c.$,{onClick:a,children:[(0,t.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"Crear Torneo"]})]}),0===y.length?(0,t.jsx)(N.Zp,{children:(0,t.jsxs)(N.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(m.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No hay torneos disponibles"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center",children:n?"No se encontraron torneos para ".concat(n):"No hay torneos programados en este momento"}),s&&(0,t.jsx)(c.$,{className:"mt-4",onClick:a,children:"Crear el primer torneo"})]})}):(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y.map(e=>{let s=C.has(e.id),a="Abierto"===e.status;return(0,t.jsxs)(N.Zp,{className:"flex flex-col",children:[(0,t.jsx)(N.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)(N.ZB,{className:"flex items-center gap-2 text-lg",children:[M(e.type),e.name]}),(0,t.jsxs)(N.BT,{className:"mt-1",children:[e.type," • ",e.mode]})]}),P(e.status)]})}),(0,t.jsxs)(N.Wu,{className:"flex-1 space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(h.A,{className:"h-4 w-4"}),e.date?(0,d.GP)(new Date(e.date),"PPP",{locale:o.es}):"Fecha por confirmar"]}),e.startTime&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),e.startTime]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(j.A,{className:"h-4 w-4"}),e.region]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(f.A,{className:"h-4 w-4"}),e.maxTeams," equipos m\xe1ximo"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),e.prize]})]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description}),e.maps&&e.maps.length>0&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.maps.slice(0,3).map((e,s)=>(0,t.jsx)(g.E,{variant:"outline",className:"text-xs",children:e},s)),e.maps.length>3&&(0,t.jsxs)(g.E,{variant:"outline",className:"text-xs",children:["+",e.maps.length-3," m\xe1s"]})]})]}),(0,t.jsx)(N.wL,{className:"pt-4",children:l?s?(0,t.jsxs)("div",{className:"w-full space-y-2",children:[(0,t.jsx)(g.E,{variant:"default",className:"w-full justify-center py-2",children:"✓ Inscrito"}),(0,t.jsx)(c.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>k(e.id),children:"Cancelar inscripci\xf3n"})]}):a?(0,t.jsx)(L,{tournament:e,onRegistrationComplete:s=>D(e.id,s),trigger:(0,t.jsx)(c.$,{className:"w-full",children:"Inscribirse"})}):(0,t.jsx)(c.$,{className:"w-full",disabled:!0,children:"Inscripciones cerradas"}):(0,t.jsx)(c.$,{className:"w-full",disabled:!0,children:"Inicia sesi\xf3n para inscribirte"})})]},e.id)})})]})}var B=a(17607),q=a(18271),_=a(24944),z=a(17313),F=a(91394);function O(e){var s;let a,{tournament:i,onBack:n}=e,{user:l}=A(),[d,o]=(0,r.useState)(null),[u,v]=(0,r.useState)([]),[w,y]=(0,r.useState)(!0);(0,r.useEffect)(()=>{v([{id:"1",name:"ProGamer123",teamName:"Los Conquistadores",isLeader:!0,registrationDate:"2024-01-15",status:"confirmed"},{id:"2",name:"SnipeKing",teamName:"D\xfao Din\xe1mico",isLeader:!0,registrationDate:"2024-01-16",status:"confirmed"},{id:"3",name:"TacticalMaster",teamName:"Elite Squad",isLeader:!0,registrationDate:"2024-01-17",status:"waitlist"}]),y(!1)},[i.id]);let E=null!==d,T=i.maxTeams?(i.registeredTeams||0)/i.maxTeams*100:0,S=i.maxTeams?i.maxTeams-(i.registeredTeams||0):0,R="Pr\xf3ximamente"===i.status&&S>0,I=async()=>{try{await new Promise(e=>setTimeout(e,1e3)),o(null),(0,b.oR)({title:"Inscripci\xf3n cancelada",description:"Tu inscripci\xf3n ha sido cancelada exitosamente."})}catch(e){(0,b.oR)({variant:"destructive",title:"Error",description:"No se pudo cancelar la inscripci\xf3n. Int\xe9ntalo de nuevo."})}};return(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[n&&(0,t.jsx)(c.$,{variant:"ghost",onClick:n,children:"← Volver"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.E,{className:(e=>{switch(e){case"Pr\xf3ximamente":return"bg-blue-500";case"En Progreso":return"bg-green-500";case"Finalizado":default:return"bg-gray-500";case"Cancelado":return"bg-red-500"}})(i.status),children:i.status}),(0,t.jsx)(g.E,{variant:"outline",children:i.type})]})]}),(0,t.jsxs)(N.Zp,{children:[(0,t.jsx)(N.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(N.ZB,{className:"flex items-center gap-2 text-2xl",children:[(e=>{switch(e){case"Competitivo":return(0,t.jsx)(m.A,{className:"h-5 w-5"});case"Scrims":return(0,t.jsx)(x.A,{className:"h-5 w-5"});case"WoW":return(0,t.jsx)(C.A,{className:"h-5 w-5"});default:return(0,t.jsx)(f.A,{className:"h-5 w-5"})}})(i.type),i.name]}),(0,t.jsx)(N.BT,{className:"text-base",children:i.description||"Torneo de PUBG Mobile"})]}),i.prize&&(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Premio"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-primary",children:i.prize})]})]})}),(0,t.jsxs)(N.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:new Date(i.date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Fecha"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:(a=i.startTime||"",new Date("2000-01-01T".concat(a)).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}))}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Hora de inicio"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:i.mode}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Modo de juego"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:i.region}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Regi\xf3n"})]})]})]}),(0,t.jsx)(P.w,{}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Inscripciones"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[i.registeredTeams||0,"/",i.maxTeams," equipos"]})]}),(0,t.jsx)(_.k,{value:T,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{children:[S," espacios disponibles"]}),(0,t.jsxs)("span",{children:[i.maxReserves," reservas m\xe1ximas"]})]})]}),i.maps&&i.maps.length>0&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Mapas del Torneo"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:i.maps.map((e,s)=>(0,t.jsx)(g.E,{variant:"secondary",children:e},s))})]}),i.streamLink&&(0,t.jsxs)("div",{className:"flex items-center gap-2 p-3 bg-muted/50 rounded-lg",children:[(0,t.jsx)(B.A,{className:"h-4 w-4 text-red-500"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Transmisi\xf3n en vivo disponible"}),(0,t.jsx)(c.$,{size:"sm",variant:"outline",asChild:!0,children:(0,t.jsx)("a",{href:i.streamLink,target:"_blank",rel:"noopener noreferrer",children:"Ver Stream"})})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[!E&&R&&(0,t.jsx)(L,{tournament:i,trigger:(0,t.jsxs)(c.$,{className:"flex-1",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Inscribirse"]}),onRegistrationComplete:e=>{e&&o({id:"user-reg-1",tournamentId:i.id,userId:(null==l?void 0:l.uid)||"current-user",username:(null==l?void 0:l.displayName)||"Usuario Actual",teamName:"Mi Equipo",status:S>1?"registered":"waitlisted",registrationDate:new Date,teamMembers:[]})}}),E&&(0,t.jsxs)("div",{className:"flex gap-2 flex-1",children:[(0,t.jsxs)("div",{className:"flex-1 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-green-800",children:["✓ Inscrito como ",(null==d?void 0:d.status)==="waitlisted"?"reserva":"participante"]}),(null==d?void 0:d.teamName)&&(0,t.jsxs)("p",{className:"text-xs text-green-600",children:["Equipo: ",d.teamName]})]}),(0,t.jsx)(c.$,{variant:"outline",onClick:I,children:"Cancelar"})]}),!R&&(0,t.jsx)(c.$,{disabled:!0,className:"flex-1",children:"Cerrado"===i.status?"Torneo Finalizado":"Inscripciones Cerradas"})]})]})]}),(0,t.jsxs)(z.tU,{defaultValue:"participants",className:"w-full",children:[(0,t.jsxs)(z.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(z.Xi,{value:"participants",children:"Participantes"}),(0,t.jsx)(z.Xi,{value:"rules",children:"Reglas"}),(0,t.jsx)(z.Xi,{value:"bracket",children:"Fixture"})]}),(0,t.jsx)(z.av,{value:"participants",className:"space-y-4",children:(0,t.jsxs)(N.Zp,{children:[(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.ZB,{children:"Participantes Registrados"}),(0,t.jsx)(N.BT,{children:"Lista de equipos y jugadores inscritos en el torneo"})]}),(0,t.jsx)(N.Wu,{children:w?(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg animate-pulse",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-muted rounded-full"}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsx)("div",{className:"w-24 h-4 bg-muted rounded"}),(0,t.jsx)("div",{className:"w-16 h-3 bg-muted rounded"})]}),(0,t.jsx)("div",{className:"w-16 h-6 bg-muted rounded"})]},s))}):u.length>0?(0,t.jsx)("div",{className:"space-y-3",children:u.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[(0,t.jsxs)(F.eu,{children:[(0,t.jsx)(F.BK,{src:e.avatar}),(0,t.jsx)(F.q5,{children:e.name.slice(0,2).toUpperCase()})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),e.isLeader&&(0,t.jsx)(C.A,{className:"h-4 w-4 text-yellow-500"})]}),e.teamName&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.teamName})]}),(0,t.jsx)(g.E,{variant:"confirmed"===e.status?"default":"secondary",children:"confirmed"===e.status?"Confirmado":"Lista de espera"})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(f.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"A\xfan no hay participantes registrados"})]})})]})}),(0,t.jsx)(z.av,{value:"rules",className:"space-y-4",children:(0,t.jsxs)(N.Zp,{children:[(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.ZB,{children:"Reglas del Torneo"}),(0,t.jsx)(N.BT,{children:"Informaci\xf3n importante sobre las reglas y formato del torneo"})]}),(0,t.jsx)(N.Wu,{className:"space-y-4",children:(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:i.description?(0,t.jsx)("div",{className:"whitespace-pre-wrap",children:i.description}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Reglas Generales"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,t.jsx)("li",{children:"Todos los participantes deben estar presentes 15 minutos antes del inicio"}),(0,t.jsx)("li",{children:"No se permiten modificaciones o hacks de ning\xfan tipo"}),(0,t.jsx)("li",{children:"El comportamiento antideportivo resultar\xe1 en descalificaci\xf3n"}),(0,t.jsx)("li",{children:"Las decisiones de los organizadores son finales"})]}),(0,t.jsx)("h4",{className:"font-semibold",children:"Formato del Torneo"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,t.jsxs)("li",{children:["Modo: ",i.mode]}),(0,t.jsxs)("li",{children:["Regi\xf3n: ",i.region]}),(0,t.jsxs)("li",{children:["Mapas: ",(null==(s=i.maps)?void 0:s.join(", "))||"Por determinar"]})]})]})})})]})}),(0,t.jsx)(z.av,{value:"bracket",className:"space-y-4",children:(0,t.jsxs)(N.Zp,{children:[(0,t.jsxs)(N.aR,{children:[(0,t.jsx)(N.ZB,{children:"Fixture del Torneo"}),(0,t.jsx)(N.BT,{children:"Bracket y programaci\xf3n de partidas"})]}),(0,t.jsx)(N.Wu,{children:(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(q.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"El fixture se publicar\xe1 una vez que se completen las inscripciones"}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Revisa esta secci\xf3n antes del inicio del torneo"})]})})]})})]})]})}var $=a(77548),Z=a(35317);function U(){let{user:e}=(0,T.kH)(),{tournaments:s,isLoading:a,error:d}=function(){let{user:e}=(0,T.kH)(),{tournaments:s,setTournaments:a}=(0,T.lA)(),[t,i]=(0,r.useState)(!0),[n,l]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(!e)return void i(!1);i(!0),l(null);let s=(0,Z.P)((0,Z.rJ)(E.db,"tournaments"),(0,Z.My)("createdAt","desc")),t=(0,Z.aQ)(s,e=>{try{let s=[];e.forEach(e=>{s.push({id:e.id,...e.data()})}),a(s),i(!1),l(null)}catch(e){console.error("Error processing tournaments:",e),l("Error al cargar torneos"),i(!1)}},e=>{console.error("Error in tournaments subscription:",e),l("Error de conexi\xf3n"),i(!1)});return()=>{t()}},[e,a]),{tournaments:s,isLoading:t,error:n}}(),[o,m]=(0,r.useState)(null),x=(null==e?void 0:e.email)==="javiercastillo.dev@gmail.com";return o?(0,t.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,t.jsx)(O,{tournament:o,onBack:()=>{m(null)}})}):(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Torneos"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Descubre y participa en torneos de PUBG Mobile"})]}),x&&(0,t.jsxs)(c.$,{children:[(0,t.jsx)(i.A,{className:"h-4 w-4 mr-2"}),"Crear Torneo"]})]}),a?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,t.jsx)(n.A,{className:"h-8 w-8 animate-spin"}),(0,t.jsx)("span",{className:"ml-2",children:"Cargando torneos..."})]}):d?(0,t.jsxs)("div",{className:"flex items-center justify-center py-12 text-red-500",children:[(0,t.jsx)(l.A,{className:"h-8 w-8 mr-2"}),(0,t.jsxs)("span",{children:["Error: ",d]})]}):(0,t.jsx)(M,{showCreateButton:x})]})}(0,$.Uz)()},68856:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(95155),r=a(59434);function i(e){let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-muted",s),...a})}},85057:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var t=a(95155),r=a(12115),i=a(40968),n=a(74466),l=a(59434);let c=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(i.b,{ref:s,className:(0,l.cn)(c(),a),...r})});d.displayName=i.b.displayName},87481:(e,s,a)=>{"use strict";a.d(s,{dj:()=>x,oR:()=>m});var t=a(12115);let r=0,i=new Map,n=e=>{if(i.has(e))return;let s=setTimeout(()=>{i.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,s)},l=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],d={toasts:[]};function o(e){d=l(d,e),c.forEach(e=>{e(d)})}function m(e){let{...s}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>o({type:"DISMISS_TOAST",toastId:a});return o({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function x(){let[e,s]=t.useState(d);return t.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[]),{...e,toast:m,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}}},e=>{var s=s=>e(e.s=s);e.O(0,[9135,7210,5769,9863,3856,9550,8722,7436,7419,6270,2654,2458,9042,8441,1684,7358],()=>s(46162)),_N_E=e.O()}]);