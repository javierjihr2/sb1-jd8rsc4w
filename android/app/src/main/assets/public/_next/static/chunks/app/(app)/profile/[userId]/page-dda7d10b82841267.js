(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5280],{24944:(e,s,a)=>{"use strict";a.d(s,{k:()=>d});var l=a(95155),r=a(12115),t=a(55863),i=a(59434);let d=r.forwardRef((e,s)=>{let{className:a,value:r,...d}=e;return(0,l.jsx)(t.bL,{ref:s,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...d,children:(0,l.jsx)(t.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});d.displayName=t.bL.displayName},36792:(e,s,a)=>{Promise.resolve().then(a.bind(a,99734))},59434:(e,s,a)=>{"use strict";a.d(s,{cn:()=>t});var l=a(52596),r=a(39688);function t(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,r.QP)((0,l.$)(s))}},67491:(e,s,a)=>{"use strict";a.d(s,{A:()=>n,AuthProvider:()=>c});var l=a(95155),r=a(12115),t=a(24903),i=a(56104);let d=(0,r.createContext)({user:null,loading:!0}),c=e=>{let{children:s}=e,[a,c]=(0,r.useState)(null),[n,o]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{console.log("\uD83D\uDD27 AuthProvider - Configurando listener de autenticaci\xf3n"),(()=>{{let e=localStorage.getItem("squadgo_user"),s=localStorage.getItem("squadgo_user_backup");if(e||s)try{let a=JSON.parse(e||s||"{}");console.log("\uD83D\uDD04 AuthProvider - Intentando recuperar sesi\xf3n desde localStorage:",a.uid)}catch(e){console.error("❌ Error recuperando usuario desde localStorage:",e),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}}})();let e=(0,t.onAuthStateChanged)(i.j2,async e=>{if(console.log("\uD83D\uDD04 AuthProvider - Estado de autenticaci\xf3n cambi\xf3:",{uid:null==e?void 0:e.uid,email:null==e?void 0:e.email,emailVerified:null==e?void 0:e.emailVerified}),e)try{console.log("✅ AuthProvider - Usuario autenticado"),c(e);{let s={uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",emailVerified:e.emailVerified,lastUpdate:Date.now(),sessionId:Math.random().toString(36).substring(2,11)};localStorage.setItem("squadgo_user",JSON.stringify(s)),localStorage.setItem("squadgo_user_backup",JSON.stringify(s));let a=new CustomEvent("userAuthenticated",{detail:{user:e}});window.dispatchEvent(a)}}catch(e){console.error("❌ AuthProvider - Error procesando usuario:",e),c(null),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else{console.log("\uD83D\uDEAB AuthProvider - Usuario no autenticado"),c(null);{let e=localStorage.getItem("squadgo_user_backup");if(e)try{let s=JSON.parse(e);Date.now()-(s.lastUpdate||0)>864e5?(localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup"),console.log("\uD83E\uDDF9 Limpiando datos de sesi\xf3n expirados")):console.log("\uD83D\uDD04 Manteniendo backup de sesi\xf3n reciente")}catch(e){localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else localStorage.removeItem("squadgo_user")}}o(!1)});return()=>{console.log("\uD83E\uDDF9 AuthProvider - Limpiando listener de autenticaci\xf3n"),e()}},[]),(0,l.jsx)(d.Provider,{value:{user:a,loading:n},children:s})},n=()=>(0,r.useContext)(d)},91394:(e,s,a)=>{"use strict";a.d(s,{BK:()=>c,eu:()=>d,q5:()=>n});var l=a(95155),r=a(12115),t=a(85977),i=a(59434);let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(t.bL,{ref:s,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});d.displayName=t.bL.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(t._V,{ref:s,className:(0,i.cn)("aspect-square h-full w-full",a),...r})});c.displayName=t._V.displayName;let n=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,l.jsx)(t.H4,{ref:s,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});n.displayName=t.H4.displayName},99734:(e,s,a)=>{"use strict";a.d(s,{default:()=>_});var l=a(95155),r=a(12115),t=a(91394),i=a(26126),d=a(30285),c=a(66695),n=a(24944),o=a(10988),u=a(67491),m=a(85268),x=a(21816),h=a(91467),j=a(47105),f=a(12543),g=a(94063),p=a(13896),v=a(9133),N=a(45731),b=a(6874),y=a.n(b),w=a(59434),A=a(50172),S=a(35695);function _(e){var s;let{userId:a}=e,b=(0,S.useRouter)(),{user:_}=(0,u.A)(),[q,k]=(0,r.useState)(null),[E,I]=(0,r.useState)(!0),[P]=(0,r.useState)([{id:"1",title:"Pollo para Cenar x50",description:"Gana 50 partidas.",icon:"trophy"},{id:"2",title:"Experto en Asalto",description:"1000 bajas con rifles de asalto.",icon:"swords"},{id:"3",title:"Rango Conquistador",description:"Alcanza el m\xe1ximo rango.",icon:"award"}]),C=(null==_?void 0:_.uid)===a;if((0,r.useEffect)(()=>{(async()=>{if(a)try{I(!0);let e=await (0,o.VM)(a);e?k(e):b.push("/dashboard")}catch(e){console.error("Error loading user profile:",e),b.push("/dashboard")}finally{I(!1)}})()},[a,b]),E)return(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,l.jsx)(A.A,{className:"h-8 w-8 animate-spin"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Cargando perfil..."})]})});if(!q)return(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsxs)("div",{className:"text-center space-y-4",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:"Perfil no encontrado"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"El perfil que buscas no existe o ha sido eliminado."}),(0,l.jsx)(d.$,{asChild:!0,children:(0,l.jsx)(y(),{href:"/dashboard",children:"Volver al Dashboard"})})]})});let R=e=>{switch(e){case"trophy":return(0,l.jsx)(m.A,{className:"h-6 w-6"});case"swords":return(0,l.jsx)(x.A,{className:"h-6 w-6"});case"award":return(0,l.jsx)(h.A,{className:"h-6 w-6"});default:return(0,l.jsx)(j.A,{className:"h-6 w-6"})}};return(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,l.jsxs)("div",{className:"flex items-center mb-6",children:[(0,l.jsx)(d.$,{variant:"ghost",size:"sm",asChild:!0,className:"mr-4",children:(0,l.jsxs)(y(),{href:"/dashboard",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Volver"]})}),(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"Perfil de Jugador"})]}),(0,l.jsx)(c.Zp,{className:"mb-8",children:(0,l.jsx)(c.Wu,{className:"pt-6",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-4 md:space-y-0 md:space-x-6",children:[(0,l.jsxs)(t.eu,{className:"h-24 w-24",children:[(0,l.jsx)(t.BK,{src:q.avatarUrl,alt:q.name}),(0,l.jsx)(t.q5,{children:(q.name||"U").charAt(0)})]}),(0,l.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold",children:q.name}),(0,l.jsx)(i.E,{variant:"outline",className:(0,w.cn)("text-white",(s=q.rank||"Bronce").includes("Bronce")?"bg-amber-600":s.includes("Plata")?"bg-gray-400":s.includes("Oro")?"bg-yellow-500":s.includes("Platino")?"bg-blue-400":s.includes("Diamante")?"bg-cyan-400":s.includes("Corona")?"bg-purple-500":s.includes("As")?"bg-red-500":s.includes("Conquistador")?"bg-gradient-to-r from-yellow-400 to-red-500":"bg-gray-500"),children:q.rank})]}),(0,l.jsx)("p",{className:"text-muted-foreground",children:q.bio}),(0,l.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[(0,l.jsxs)("span",{children:["Nivel ",q.level]}),(0,l.jsx)("span",{children:"•"}),(0,l.jsx)("span",{children:q.countryCode}),(0,l.jsx)("span",{children:"•"}),(0,l.jsx)("span",{children:q.role})]})]}),!C&&(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)(d.$,{size:"sm",children:[(0,l.jsx)(g.A,{className:"h-4 w-4 mr-2"}),"Mensaje"]}),(0,l.jsxs)(d.$,{size:"sm",variant:"outline",children:[(0,l.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"Agregar"]})]})]})})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsxs)(c.ZB,{className:"flex items-center",children:[(0,l.jsx)(v.A,{className:"h-5 w-5 mr-2"}),"Estad\xedsticas"]})}),(0,l.jsxs)(c.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-green-600",children:q.stats.wins}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"Victorias"})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-red-600",children:"0"}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"Eliminaciones"})]})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,l.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:q.stats.kda}),(0,l.jsx)("div",{className:"text-sm text-muted-foreground",children:"K/D Ratio"})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{children:"Progreso al siguiente nivel"}),(0,l.jsxs)("span",{children:[15*(q.level||1),"%"]})]}),(0,l.jsx)(n.k,{value:15*(q.level||1),className:"h-2"})]})]})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsxs)(c.ZB,{className:"flex items-center",children:[(0,l.jsx)(m.A,{className:"h-5 w-5 mr-2"}),"Logros"]}),(0,l.jsx)(c.BT,{children:"Logros desbloqueados recientemente"})]}),(0,l.jsx)(c.Wu,{children:(0,l.jsx)("div",{className:"space-y-3",children:P.map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-muted rounded-lg",children:[(0,l.jsx)("div",{className:"text-yellow-500",children:R(e.icon)}),(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsx)("h4",{className:"font-medium",children:e.title}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]})]},e.id))})})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsxs)(c.ZB,{className:"flex items-center",children:[(0,l.jsx)(N.A,{className:"h-5 w-5 mr-2"}),"Informaci\xf3n de Juego"]})}),(0,l.jsxs)(c.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium mb-2",children:"Armas Favoritas"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:(q.favoriteWeapons||[]).map((e,s)=>(0,l.jsx)(i.E,{variant:"secondary",children:e},s))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium mb-2",children:"Horario de Juego"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:q.playSchedule})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-medium mb-2",children:"Mapa Favorito"}),(0,l.jsx)(i.E,{variant:"outline",children:q.favoriteMap})]})]})]}),(0,l.jsxs)(c.Zp,{children:[(0,l.jsx)(c.aR,{children:(0,l.jsx)(c.ZB,{children:"Actividad Reciente"})}),(0,l.jsx)(c.Wu,{children:(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,l.jsx)("span",{children:"Victoria en Sanhok - hace 2 horas"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,l.jsx)("span",{children:"Nuevo logro desbloqueado - hace 1 d\xeda"})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3 text-sm",children:[(0,l.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,l.jsx)("span",{children:"Subi\xf3 de nivel - hace 3 d\xedas"})]})]})})]})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[9135,7210,5769,3856,6874,4117,9892,988,8441,1684,7358],()=>s(36792)),_N_E=e.O()}]);