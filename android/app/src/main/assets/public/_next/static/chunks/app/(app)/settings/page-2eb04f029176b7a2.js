(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{17999:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>O});var t=s(95155),r=s(12115),i=s(30285),n=s(66695),o=s(87481),l=s(56104),d=s(24903),c=s(35317);let u=async()=>{try{let e=l.j2.currentUser;if(!e)return{success:!1,message:"No hay usuario autenticado"};let a=(0,c.H9)(l.db,"users",e.uid);return await (0,c.mZ)(a,{status:"suspended",suspendedAt:(0,c.O5)(),suspendedReason:"Usuario solicit\xf3 suspensi\xf3n temporal"}),await (0,d.signOut)(l.j2),{success:!0,message:"Cuenta suspendida exitosamente. Puedes reactivarla iniciando sesi\xf3n nuevamente."}}catch(e){return console.error("Error suspendiendo cuenta:",e),{success:!1,message:"Error al suspender la cuenta. Int\xe9ntalo de nuevo."}}},m=async()=>{try{let e=l.j2.currentUser;if(!e)return console.log("❌ No hay usuario autenticado para eliminar"),{success:!1,message:"No hay usuario autenticado"};let a=e.uid;console.log("\uD83D\uDDD1️ Iniciando eliminaci\xf3n de cuenta para usuario:",a);try{console.log("\uD83D\uDDD1️ Eliminando documento de usuario de Firestore...");let e=(0,c.H9)(l.db,"users",a);await (0,c.kd)(e),console.log("✅ Documento de usuario eliminado")}catch(e){console.error("❌ Error eliminando documento de usuario:",e)}try{console.log("\uD83D\uDDD1️ Eliminando perfil de jugador...");let e=(0,c.H9)(l.db,"playerProfiles",a);await (0,c.kd)(e),console.log("✅ Perfil de jugador eliminado")}catch(e){console.log("ℹ️ No se encontr\xf3 perfil de jugador para eliminar")}try{console.log("\uD83D\uDDD1️ Eliminando configuraciones de usuario...");let e=(0,c.H9)(l.db,"userSettings",a);await (0,c.kd)(e),console.log("✅ Configuraciones de usuario eliminadas")}catch(e){console.log("ℹ️ No se encontraron configuraciones de usuario para eliminar")}try{console.log("\uD83D\uDDD1️ Eliminando cuenta de autenticaci\xf3n..."),await (0,d.deleteUser)(e),console.log("✅ Cuenta de autenticaci\xf3n eliminada")}catch(e){throw console.error("❌ Error eliminando cuenta de autenticaci\xf3n:",e),e}return console.log("✅ Eliminaci\xf3n de cuenta completada exitosamente"),{success:!0,message:"Cuenta eliminada permanentemente. Todos tus datos han sido borrados."}}catch(e){if(console.error("❌ Error eliminando cuenta:",e),"auth/requires-recent-login"===e.code)return{success:!1,message:"Por seguridad, necesitas iniciar sesi\xf3n nuevamente antes de eliminar tu cuenta."};if("auth/invalid-credential"===e.code)return{success:!1,message:"Credenciales inv\xe1lidas. Por favor, inicia sesi\xf3n nuevamente."};if("permission-denied"===e.code)return{success:!1,message:"No tienes permisos para realizar esta acci\xf3n."};return{success:!1,message:"Error al eliminar la cuenta. Int\xe9ntalo de nuevo."}}};var p=s(67491),f=s(18271),x=s(4607),h=s(16606),g=s(83662),v=s(67933),j=s(6273),b=s(47053),N=s(63920),y=s(57804),w=s(45727),C=s(73158),S=s(31949),E=s(77223),A=s(80333),k=s(85057),P=s(62523),_=s(93473),I=s(91394),R=s(90010),q=s(54165),T=s(6874),D=s.n(T);let L=[_.eM.find(e=>"c3"===e.id),_.eM.find(e=>"f1"===e.id)].filter(Boolean);function O(){let{user:e}=(0,p.A)(),{toast:a}=(0,o.dj)(),[s,l]=(0,r.useState)(!1),[c,_]=(0,r.useState)(L),[T,O]=(0,r.useState)(!0),[z,U]=(0,r.useState)(!0),[Z,B]=(0,r.useState)(!0),[F,J]=(0,r.useState)(!1),[M,V]=(0,r.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[H,$]=(0,r.useState)(!1),G=e=>{_(a=>a.filter(a=>a.id!==e)),a({title:"Usuario Desbloqueado",description:"Este usuario ahora podr\xe1 interactuar contigo y ver tu perfil."})},W=async()=>{if(!e)return void a({variant:"destructive",title:"Error",description:"Debes estar autenticado para cambiar tu contrase\xf1a."});let{currentPassword:s,newPassword:t,confirmPassword:r}=M;if(!s||!t||!r)return void a({variant:"destructive",title:"Error",description:"Por favor completa todos los campos."});if(t!==r)return void a({variant:"destructive",title:"Error",description:"Las contrase\xf1as no coinciden."});if(t.length<6)return void a({variant:"destructive",title:"Error",description:"La nueva contrase\xf1a debe tener al menos 6 caracteres."});$(!0);try{let r=d.EmailAuthProvider.credential(e.email,s);await (0,d.reauthenticateWithCredential)(e,r),await (0,d.updatePassword)(e,t),a({title:"\xc9xito",description:"Contrase\xf1a actualizada correctamente."}),J(!1),V({currentPassword:"",newPassword:"",confirmPassword:""})}catch(e){console.error("Error changing password:",e),"auth/wrong-password"===e.code?a({variant:"destructive",title:"Error",description:"La contrase\xf1a actual es incorrecta."}):a({variant:"destructive",title:"Error",description:"No se pudo cambiar la contrase\xf1a. Int\xe9ntalo de nuevo."})}finally{$(!1)}},Y=async()=>{try{let e=await u();e.success?(a({title:"Cuenta Suspendida",description:e.message}),setTimeout(()=>{window.location.href="/auth/login"},2e3)):a({variant:"destructive",title:"Error",description:e.message})}catch(e){a({variant:"destructive",title:"Error",description:"Ocurri\xf3 un error inesperado al suspender la cuenta."})}},K=async()=>{if(!e)return void a({variant:"destructive",title:"Error de Autenticaci\xf3n",description:"Debes estar autenticado para eliminar tu cuenta. Por favor, inicia sesi\xf3n nuevamente."});try{let e=await m();e.success?(a({title:"Cuenta Eliminada",description:e.message}),setTimeout(()=>{window.location.href="/"},2e3)):a({variant:"destructive",title:"Error",description:e.message})}catch(s){console.error("Error eliminando cuenta:",s);let e="Ocurri\xf3 un error inesperado al eliminar la cuenta.";(null==s?void 0:s.code)==="auth/requires-recent-login"?e="Por seguridad, necesitas iniciar sesi\xf3n nuevamente antes de eliminar tu cuenta.":(null==s?void 0:s.code)==="auth/invalid-credential"?e="Credenciales inv\xe1lidas. Por favor, inicia sesi\xf3n nuevamente.":(null==s?void 0:s.code)==="permission-denied"&&(e="No tienes permisos para realizar esta acci\xf3n."),a({variant:"destructive",title:"Error",description:e})}};return(0,t.jsxs)("div",{className:"space-y-8 max-w-4xl mx-auto",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,t.jsx)(f.A,{className:"w-8 h-8 text-primary"}),"Ajustes"]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Gestiona la privacidad de tu cuenta, los usuarios bloqueados y m\xe1s."})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(x.A,{className:"h-5 w-5"})," Privacidad de la Cuenta"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k.J,{htmlFor:"private-account",className:"font-semibold",children:"Hacer mi cuenta privada"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Si activas esta opci\xf3n, tu perfil no ser\xe1 visible para otros en b\xfasquedas y solo tus amigos podr\xe1n ver tu informaci\xf3n."})]}),(0,t.jsx)(A.d,{id:"private-account",checked:s,onCheckedChange:l})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(h.A,{className:"h-5 w-5"})," Permisos de Match PUBGM"]}),(0,t.jsx)(n.BT,{children:"Controla qu\xe9 permisos puede usar la aplicaci\xf3n durante las partidas de PUBG Mobile."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(g.A,{className:"h-5 w-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.J,{htmlFor:"location-permission",className:"font-semibold",children:"Ubicaci\xf3n"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permite compartir tu ubicaci\xf3n para encontrar jugadores cercanos"})]})]}),(0,t.jsx)(A.d,{id:"location-permission",checked:T,onCheckedChange:O})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(v.A,{className:"h-5 w-5 text-green-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.J,{htmlFor:"camera-permission",className:"font-semibold",children:"C\xe1mara"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permite usar la c\xe1mara para fotos de perfil y capturas"})]})]}),(0,t.jsx)(A.d,{id:"camera-permission",checked:z,onCheckedChange:U})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(j.A,{className:"h-5 w-5 text-red-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.J,{htmlFor:"microphone-permission",className:"font-semibold",children:"Micr\xf3fono"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Permite usar el micr\xf3fono para comunicaci\xf3n por voz"})]})]}),(0,t.jsx)(A.d,{id:"microphone-permission",checked:Z,onCheckedChange:B})]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(b.A,{className:"h-5 w-5"})," Seguridad"]}),(0,t.jsx)(n.BT,{children:"Gestiona la seguridad de tu cuenta y cambia tu contrase\xf1a."})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(b.A,{className:"h-5 w-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.J,{className:"font-semibold",children:"Cambiar Contrase\xf1a"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Actualiza tu contrase\xf1a para mantener tu cuenta segura"})]})]}),(0,t.jsxs)(q.lG,{open:F,onOpenChange:J,children:[(0,t.jsx)(q.zM,{asChild:!0,children:(0,t.jsx)(i.$,{variant:"outline",children:"Cambiar"})}),(0,t.jsxs)(q.Cf,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(q.c7,{children:[(0,t.jsx)(q.L3,{children:"Cambiar Contrase\xf1a"}),(0,t.jsx)(q.rr,{children:"Ingresa tu contrase\xf1a actual y la nueva contrase\xf1a que deseas usar."})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(k.J,{htmlFor:"current-password",children:"Contrase\xf1a Actual"}),(0,t.jsx)(P.p,{id:"current-password",type:"password",value:M.currentPassword,onChange:e=>V(a=>({...a,currentPassword:e.target.value})),placeholder:"Ingresa tu contrase\xf1a actual"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(k.J,{htmlFor:"new-password",children:"Nueva Contrase\xf1a"}),(0,t.jsx)(P.p,{id:"new-password",type:"password",value:M.newPassword,onChange:e=>V(a=>({...a,newPassword:e.target.value})),placeholder:"Ingresa tu nueva contrase\xf1a"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(k.J,{htmlFor:"confirm-password",children:"Confirmar Nueva Contrase\xf1a"}),(0,t.jsx)(P.p,{id:"confirm-password",type:"password",value:M.confirmPassword,onChange:e=>V(a=>({...a,confirmPassword:e.target.value})),placeholder:"Confirma tu nueva contrase\xf1a"})]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"Consejos para una contrase\xf1a segura:"}),(0,t.jsxs)("ul",{className:"text-xs text-blue-700 space-y-1",children:[(0,t.jsx)("li",{children:"• Al menos 6 caracteres (recomendado 8+)"}),(0,t.jsx)("li",{children:"• Combina letras, n\xfameros y s\xedmbolos"}),(0,t.jsx)("li",{children:"• Evita informaci\xf3n personal"}),(0,t.jsx)("li",{children:"• No uses la misma contrase\xf1a en otros sitios"})]})]})]}),(0,t.jsxs)(q.Es,{children:[(0,t.jsx)(i.$,{variant:"outline",onClick:()=>{J(!1),V({currentPassword:"",newPassword:"",confirmPassword:""})},children:"Cancelar"}),(0,t.jsx)(i.$,{onClick:W,disabled:H,children:H?"Cambiando...":"Cambiar Contrase\xf1a"})]})]})]})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-5 w-5"})," Usuarios Bloqueados"]}),(0,t.jsx)(n.BT,{children:"Aqu\xed puedes ver y gestionar los usuarios que has bloqueado."})]}),(0,t.jsx)(n.Wu,{className:"space-y-4",children:c.length>0?c.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(I.eu,{className:"h-10 w-10",children:[(0,t.jsx)(I.BK,{src:e.avatarUrl}),(0,t.jsx)(I.q5,{children:e.name.substring(0,2)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-semibold",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.rank})]})]}),(0,t.jsxs)(i.$,{variant:"secondary",size:"sm",onClick:()=>G(e.id),children:[(0,t.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Desbloquear"]})]},e.id)):(0,t.jsx)("p",{className:"text-sm text-center text-muted-foreground py-4",children:"No tienes a ning\xfan usuario bloqueado."})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(w.A,{className:"h-5 w-5"})," Datos y Almacenamiento"]}),(0,t.jsx)(n.BT,{children:"Gestiona el almacenamiento de datos de la aplicaci\xf3n y opciones de limpieza."})]}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)(D(),{href:"/settings/data-storage",children:(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(w.A,{className:"h-5 w-5 text-blue-500"}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.J,{className:"font-semibold cursor-pointer",children:"Configurar Datos y Almacenamiento"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ver uso de almacenamiento, limpiar cach\xe9 y exportar datos"})]})]}),(0,t.jsx)(C.A,{className:"h-5 w-5 text-muted-foreground"})]})})})]}),(0,t.jsxs)(n.Zp,{className:"border-destructive",children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2 text-destructive",children:[(0,t.jsx)(S.A,{className:"h-5 w-5"})," Zona de Peligro"]}),(0,t.jsx)(n.BT,{children:"Las acciones en esta secci\xf3n son importantes y en algunos casos, irreversibles. Procede con precauci\xf3n."})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 border rounded-lg border-dashed",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:"Suspender mi cuenta"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Puedes suspender tu cuenta temporalmente. No aparecer\xe1s en la aplicaci\xf3n pero tus datos se conservar\xe1n."})]}),(0,t.jsxs)(R.Lt,{children:[(0,t.jsx)(R.tv,{asChild:!0,children:(0,t.jsx)(i.$,{variant:"outline",className:"w-full mt-2 sm:mt-0 sm:w-auto",children:"Suspender Cuenta"})}),(0,t.jsxs)(R.EO,{children:[(0,t.jsxs)(R.wd,{children:[(0,t.jsx)(R.r7,{children:"\xbfEst\xe1s seguro de que quieres suspender tu cuenta?"}),(0,t.jsx)(R.$v,{children:"Tu perfil y actividades se ocultar\xe1n hasta que inicies sesi\xf3n de nuevo. Podr\xe1s reactivar tu cuenta en cualquier momento."})]}),(0,t.jsxs)(R.ck,{children:[(0,t.jsx)(R.Zr,{children:"Cancelar"}),(0,t.jsx)(R.Rx,{onClick:Y,children:"S\xed, suspender"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between p-4 border rounded-lg border-destructive/50 bg-destructive/5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold text-destructive",children:"Eliminar mi cuenta"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Esta acci\xf3n es permanente y no se puede deshacer. Se eliminar\xe1n todos tus datos, incluyendo perfil, chats y progreso."})]}),(0,t.jsxs)(R.Lt,{children:[(0,t.jsx)(R.tv,{asChild:!0,children:(0,t.jsxs)(i.$,{variant:"destructive",className:"w-full mt-2 sm:mt-0 sm:w-auto",children:[(0,t.jsx)(E.A,{className:"mr-2 h-4 w-4"}),"Eliminar Cuenta"]})}),(0,t.jsxs)(R.EO,{children:[(0,t.jsxs)(R.wd,{children:[(0,t.jsx)(R.r7,{className:"text-destructive",children:"\xa1Atenci\xf3n! \xbfEst\xe1s absolutamente seguro?"}),(0,t.jsx)(R.$v,{children:"Esta acci\xf3n es irreversible. Todos tus datos, incluyendo perfil, chats, amistades y progreso en torneos, ser\xe1n eliminados para siempre."})]}),(0,t.jsxs)(R.ck,{children:[(0,t.jsx)(R.Zr,{children:"No, cancelar"}),(0,t.jsx)(R.Rx,{onClick:K,className:"bg-destructive hover:bg-destructive/90",children:"S\xed, eliminar mi cuenta"})]})]})]})]})]})]})]})}},30285:(e,a,s)=>{"use strict";s.d(a,{$:()=>d,r:()=>l});var t=s(95155),r=s(12115),i=s(66634),n=s(74466),o=s(59434);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:s,variant:r,size:n,asChild:d=!1,...c}=e,u=d?i.DX:"button";return(0,t.jsx)(u,{className:(0,o.cn)(l({variant:r,size:n,className:s})),ref:a,...c})});d.displayName="Button"},30581:(e,a,s)=>{Promise.resolve().then(s.bind(s,17999))},54165:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>m,Es:()=>f,L3:()=>x,c7:()=>p,lG:()=>l,rr:()=>h,zM:()=>d});var t=s(95155),r=s(12115),i=s(45821),n=s(25318),o=s(59434);let l=i.bL,d=i.l9,c=i.ZL;i.bm;let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.hJ,{ref:a,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});u.displayName=i.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:s,children:r,...l}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(u,{}),(0,t.jsxs)(i.UC,{ref:a,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l,children:[r,(0,t.jsxs)(i.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=i.UC.displayName;let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};p.displayName="DialogHeader";let f=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};f.displayName="DialogFooter";let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.hE,{ref:a,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});x.displayName=i.hE.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.VY,{ref:a,className:(0,o.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=i.VY.displayName},56104:(e,a,s)=>{"use strict";let t;s.d(a,{db:()=>t,j2:()=>u});var r=s(23915),i=s(24903),n=s(35317),o=s(77505),l=s(99895);let d={projectId:"squadgo-app",appId:"1:442519077443:web:3d4e9e034e222838230af6",storageBucket:"squadgo-app.firebasestorage.app",apiKey:"AIzaSyDfY3FrK9baCrVhqhBpD2Zd7v2_oARFuX8",authDomain:"squadgo-app.firebaseapp.com",measurementId:"",messagingSenderId:"442519077443"},c=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)(d);console.log("\uD83D\uDD27 Firebase - Aplicaci\xf3n inicializada:",{projectId:d.projectId});let u=(0,i.getAuth)(c);Promise.resolve().then(s.bind(s,24903)).then(e=>{let{setPersistence:a,browserLocalPersistence:s,onAuthStateChanged:t}=e;a(u,s).then(()=>{console.log("✅ Firebase Auth - Persistencia configurada correctamente"),t(u,e=>{if(e){console.log("\uD83D\uDD04 Firebase Auth - Sesi\xf3n restaurada:",e.uid);let a={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,lastLogin:Date.now()};localStorage.setItem("squadgo_user_backup",JSON.stringify(a))}})}).catch(e=>{console.error("❌ Error configurando persistencia:",e),localStorage.getItem("squadgo_user_backup")&&console.log("\uD83D\uDD04 Intentando recuperar sesi\xf3n desde backup...")})}),console.log("\uD83D\uDD27 Firebase Auth - Inicializado:",{authDomain:d.authDomain});try{t=(0,n._A)(c,{ignoreUndefinedProperties:!0,experimentalAutoDetectLongPolling:!1,cacheSizeBytes:4e7,experimentalForceLongPolling:!1}),console.log("\uD83D\uDD27 Firestore - Inicializado con cache local y configuraci\xf3n optimizada")}catch(e){console.warn("⚠️ Firestore ya inicializado, usando instancia existente"),t=(0,n.aU)(c)}window.addEventListener("online",()=>{(0,n.Os)(t).catch(()=>{})}),window.addEventListener("offline",()=>{(0,n.LA)(t).catch(()=>{})}),(0,o.c7)(c);(0,l.TT)().then(e=>{e&&(0,l.dG)(c)})},62523:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(95155),r=s(12115),i=s(59434);let n=r.forwardRef((e,a)=>{let{className:s,type:r,...n}=e;return(0,t.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});n.displayName="Input"},66695:(e,a,s)=>{"use strict";s.d(a,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>n,aR:()=>o,wL:()=>u});var t=s(95155),r=s(12115),i=s(59434);let n=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});o.displayName="CardHeader";let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});l.displayName="CardTitle";let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});d.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})});u.displayName="CardFooter"},67491:(e,a,s)=>{"use strict";s.d(a,{A:()=>d,AuthProvider:()=>l});var t=s(95155),r=s(12115),i=s(24903),n=s(56104);let o=(0,r.createContext)({user:null,loading:!0}),l=e=>{let{children:a}=e,[s,l]=(0,r.useState)(null),[d,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{console.log("\uD83D\uDD27 AuthProvider - Configurando listener de autenticaci\xf3n"),(()=>{{let e=localStorage.getItem("squadgo_user"),a=localStorage.getItem("squadgo_user_backup");if(e||a)try{let s=JSON.parse(e||a||"{}");console.log("\uD83D\uDD04 AuthProvider - Intentando recuperar sesi\xf3n desde localStorage:",s.uid)}catch(e){console.error("❌ Error recuperando usuario desde localStorage:",e),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}}})();let e=(0,i.onAuthStateChanged)(n.j2,async e=>{if(console.log("\uD83D\uDD04 AuthProvider - Estado de autenticaci\xf3n cambi\xf3:",{uid:null==e?void 0:e.uid,email:null==e?void 0:e.email,emailVerified:null==e?void 0:e.emailVerified}),e)try{console.log("✅ AuthProvider - Usuario autenticado"),l(e);{let a={uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",emailVerified:e.emailVerified,lastUpdate:Date.now(),sessionId:Math.random().toString(36).substring(2,11)};localStorage.setItem("squadgo_user",JSON.stringify(a)),localStorage.setItem("squadgo_user_backup",JSON.stringify(a));let s=new CustomEvent("userAuthenticated",{detail:{user:e}});window.dispatchEvent(s)}}catch(e){console.error("❌ AuthProvider - Error procesando usuario:",e),l(null),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else{console.log("\uD83D\uDEAB AuthProvider - Usuario no autenticado"),l(null);{let e=localStorage.getItem("squadgo_user_backup");if(e)try{let a=JSON.parse(e);Date.now()-(a.lastUpdate||0)>864e5?(localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup"),console.log("\uD83E\uDDF9 Limpiando datos de sesi\xf3n expirados")):console.log("\uD83D\uDD04 Manteniendo backup de sesi\xf3n reciente")}catch(e){localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else localStorage.removeItem("squadgo_user")}}c(!1)});return()=>{console.log("\uD83E\uDDF9 AuthProvider - Limpiando listener de autenticaci\xf3n"),e()}},[]),(0,t.jsx)(o.Provider,{value:{user:s,loading:d},children:a})},d=()=>(0,r.useContext)(o)},80333:(e,a,s)=>{"use strict";s.d(a,{d:()=>o});var t=s(95155),r=s(12115),i=s(4884),n=s(59434);let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:a,children:(0,t.jsx)(i.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});o.displayName=i.bL.displayName},85057:(e,a,s)=>{"use strict";s.d(a,{J:()=>d});var t=s(95155),r=s(12115),i=s(40968),n=s(74466),o=s(59434);let l=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.b,{ref:a,className:(0,o.cn)(l(),s),...r})});d.displayName=i.b.displayName},87481:(e,a,s)=>{"use strict";s.d(a,{dj:()=>m,oR:()=>u});var t=s(12115);let r=0,i=new Map,n=e=>{if(i.has(e))return;let a=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,a)},o=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=a;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},l=[],d={toasts:[]};function c(e){d=o(d,e),l.forEach(e=>{e(d)})}function u(e){let{...a}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...a,id:s,open:!0,onOpenChange:e=>{e||t()}}}),{id:s,dismiss:t,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function m(){let[e,a]=t.useState(d);return t.useEffect(()=>(l.push(a),()=>{let e=l.indexOf(a);e>-1&&l.splice(e,1)}),[]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},90010:(e,a,s)=>{"use strict";s.d(a,{$v:()=>h,EO:()=>m,Lt:()=>l,Rx:()=>g,Zr:()=>v,ck:()=>f,r7:()=>x,tv:()=>d,wd:()=>p});var t=s(95155),r=s(12115),i=s(62278),n=s(59434),o=s(30285);let l=i.bL,d=i.l9,c=i.ZL,u=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r,ref:a})});u.displayName=i.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsxs)(c,{children:[(0,t.jsx)(u,{}),(0,t.jsx)(i.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r})]})});m.displayName=i.UC.displayName;let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};p.displayName="AlertDialogHeader";let f=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};f.displayName="AlertDialogFooter";let x=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold",s),...r})});x.displayName=i.hE.displayName;let h=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});h.displayName=i.VY.displayName;let g=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.rc,{ref:a,className:(0,n.cn)((0,o.r)(),s),...r})});g.displayName=i.rc.displayName;let v=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.ZD,{ref:a,className:(0,n.cn)((0,o.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...r})});v.displayName=i.ZD.displayName},91394:(e,a,s)=>{"use strict";s.d(a,{BK:()=>l,eu:()=>o,q5:()=>d});var t=s(95155),r=s(12115),i=s(85977),n=s(59434);let o=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.bL,{ref:a,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});o.displayName=i.bL.displayName;let l=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i._V,{ref:a,className:(0,n.cn)("aspect-square h-full w-full",s),...r})});l.displayName=i._V.displayName;let d=r.forwardRef((e,a)=>{let{className:s,...r}=e;return(0,t.jsx)(i.H4,{ref:a,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});d.displayName=i.H4.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[9135,7210,5769,3856,9550,8722,6874,1947,8409,2458,8441,1684,7358],()=>a(30581)),_N_E=e.O()}]);