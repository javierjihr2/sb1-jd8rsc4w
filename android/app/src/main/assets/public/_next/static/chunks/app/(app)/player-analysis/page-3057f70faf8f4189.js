(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8886],{254:e=>{"use strict";e.exports=require("genkit")},30285:(e,s,a)=>{"use strict";a.d(s,{$:()=>c,r:()=>d});var r=a(95155),t=a(12115),l=a(66634),i=a(74466),n=a(59434);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=t.forwardRef((e,s)=>{let{className:a,variant:t,size:i,asChild:c=!1,...o}=e,u=c?l.DX:"button";return(0,r.jsx)(u,{className:(0,n.cn)(d({variant:t,size:i,className:a})),ref:s,...o})});c.displayName="Button"},35009:e=>{"use strict";e.exports=require("@genkit-ai/googleai")},41200:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>R});var r=a(95155),t=a(12115),l=a(66766),i=a(30285),n=a(66695),d=a(55365),c=a(93473),o=a(68718),u=a(77724),m=a(74601),x=a(50172),f=a(7270),h=a(68098),p=a(79239),g=a(79311),v=a(25318),j=a(75066),N=a(73672),b=a(68856),y=a(91394),w=a(62523),k=a(66424);let A=(0,t.memo)(e=>{let{msg:s,index:a,handleDownload:t}=e;return(0,r.jsxs)("div",{className:"flex flex-col gap-2 ".concat("user"===s.role?"items-end":"items-start"),children:["user"===s.role&&(0,r.jsxs)("div",{className:"bg-primary text-primary-foreground p-3 rounded-lg max-w-xs break-words",children:[s.image&&(0,r.jsx)(l.default,{src:s.image,alt:"Referencia de usuario",width:200,height:200,className:"rounded-md mb-2"}),s.text]}),"model"===s.role&&(0,r.jsx)("div",{className:"bg-muted p-3 rounded-lg self-start",children:s.images&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:s.images.map((e,s)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(l.default,{src:e,alt:"Dise\xf1o generado ".concat(s+1),width:256,height:256,className:"object-cover rounded-lg aspect-square border"}),(0,r.jsxs)(i.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>t(e),children:[(0,r.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Descargar"]})]},s))})})]},a)});function R(){let[e,s]=(0,t.useState)(null),[o,R]=(0,t.useState)(!1),[C,E]=(0,t.useState)(null),[L,D]=(0,t.useState)([]),[F,B]=(0,t.useState)(""),[S,T]=(0,t.useState)(null),[_,z]=(0,t.useState)(!1),[H,q]=(0,t.useState)(null),O=(0,t.useRef)(null),P=(0,t.useRef)(null),U=async()=>{R(!0),E(null),s(null);try{c.HL.stats.wins,c.HL.stats.kda,c.eM.filter(e=>e.id!==c.HL.id).map(e=>({name:e.name||"Usuario",avatarUrl:e.avatarUrl||"/default-avatar.png"})),s({playStyle:"Jugador T\xe1ctico",strengths:["Excelente precisi\xf3n","Buen trabajo en equipo"],improvementAreas:["Mejorar supervivencia","Optimizar rotaciones"]})}catch(e){E("Ha ocurrido un error al generar el an\xe1lisis. Por favor, int\xe9ntalo de nuevo m\xe1s tarde."),console.error(e)}finally{R(!1)}},Z=async e=>{if(e.preventDefault(),!F.trim()&&!S||_)return;let s=[...L,{role:"user",text:F,image:S||void 0}];D(s),B(""),T(null),z(!0),q(null);try{let e=s.map(e=>({role:e.role,text:e.text,image:e.image})),{generateDesigns:r}=await Promise.all([a.e(5594),a.e(4951)]).then(a.bind(a,44951)),t=await r({history:e}),l={role:"model",images:t.imageUrls};D(e=>[...e,l])}catch(e){q("Error al generar las im\xe1genes. El servicio puede estar ocupado. Int\xe9ntalo de nuevo."),console.error(e)}finally{z(!1)}};(0,t.useEffect)(()=>{O.current&&O.current.scrollTo({top:O.current.scrollHeight,behavior:"smooth"})},[L]);let M=(0,t.useCallback)(e=>{let s=document.createElement("a");s.href=e,s.download="squadgo-battle-design-".concat(Date.now(),".png"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},[]);return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"w-8 h-8 text-primary"})," An\xe1lisis con IA"]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Descubre tu perfil de jugador y crea un avatar o logo \xfanico con la ayuda de la IA."})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-8",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Tu Perfil de Jugador"}),(0,r.jsxs)(n.BT,{children:["Basado en tus estad\xedsticas de la temporada actual: ",c.HL.stats.wins," victorias, 0 bajas, y un Ratio K/D de ",c.HL.stats.kda,"."]})]}),(0,r.jsxs)(n.Wu,{children:[!e&&!o&&(0,r.jsxs)(i.$,{onClick:U,children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Generar mi an\xe1lisis"]}),o&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 animate-spin"}),(0,r.jsx)("span",{children:"Analizando tus partidas... Esto puede tardar un momento."})]}),(0,r.jsx)(b.E,{className:"h-8 w-1/4 mt-4"}),(0,r.jsx)(b.E,{className:"h-6 w-full"}),(0,r.jsx)(b.E,{className:"h-6 w-full"}),(0,r.jsx)(b.E,{className:"h-6 w-3/4"})]}),C&&!o&&(0,r.jsxs)(d.Fc,{variant:"destructive",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)(d.XL,{children:"Error"}),(0,r.jsx)(d.TN,{children:C})]}),e&&!o&&(0,r.jsxs)("div",{className:"space-y-6 animate-in fade-in-50",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Estilo de Juego Principal"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.playStyle})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Puntos Fuertes"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:e.strengths.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-2",children:"\xc1reas de Mejora"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:e.improvementAreas.map((e,s)=>(0,r.jsx)("li",{children:e},s))})]}),(0,r.jsxs)(i.$,{onClick:U,variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Volver a generar"]})]})]}),(null==e?void 0:e.recommendedFriend)&&!o&&(0,r.jsx)(n.wL,{children:(0,r.jsxs)(n.Zp,{className:"animate-in fade-in-50 w-full bg-muted/50",children:[(0,r.jsxs)(n.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-full mb-2 w-fit mx-auto",children:(0,r.jsx)(h.A,{className:"h-8 w-8 text-primary"})}),(0,r.jsxs)(n.ZB,{className:"flex items-center justify-center gap-2 text-2xl",children:[(0,r.jsx)(p.A,{className:"h-6 w-6 text-accent"}),"D\xfao Din\xe1mico"]})]}),(0,r.jsxs)(n.Wu,{className:"text-center",children:[(0,r.jsxs)(y.eu,{className:"w-24 h-24 mx-auto mb-4 border-4 border-primary/50",children:[(0,r.jsx)(y.BK,{src:e.recommendedFriend.avatarUrl,"data-ai-hint":"gaming character"}),(0,r.jsx)(y.q5,{children:e.recommendedFriend.name.substring(0,2)})]}),(0,r.jsx)("h4",{className:"text-xl font-bold",children:e.recommendedFriend.name}),(0,r.jsxs)("p",{className:"text-muted-foreground italic mt-2",children:['"',e.recommendedFriend.reason,'"']})]})]})})]})}),(0,r.jsx)("div",{id:"avatar",className:"lg:col-span-1",children:(0,r.jsxs)(n.Zp,{className:"sticky top-20 h-[calc(100vh-180px)] flex flex-col",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"h-5 w-5 text-primary"}),"Asistente de Dise\xf1o IA"]}),(0,r.jsx)(n.BT,{children:"Chatea con la IA para crear y refinar tus dise\xf1os. Puedes adjuntar im\xe1genes."})]}),(0,r.jsx)(n.Wu,{className:"flex-1 overflow-hidden p-0",children:(0,r.jsx)(k.F,{className:"h-full",ref:O,children:(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[0===L.length&&(0,r.jsxs)("div",{className:"text-center text-muted-foreground text-sm py-8",children:[(0,r.jsx)(g.A,{className:"mx-auto h-10 w-10 mb-2"}),(0,r.jsx)("p",{children:"Comienza escribiendo tu idea."}),(0,r.jsx)("p",{className:"text-xs",children:"Ej: \"Un logo para mi equipo 'LOBOS NOCTURNOS' con estilo ne\xf3n.\""})]}),L.map((e,s)=>(0,r.jsx)(A,{msg:e,index:s,handleDownload:M},s)),_&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-muted p-3 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 animate-spin"}),(0,r.jsx)("span",{children:"Generando..."})]})})}),H&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsxs)(d.Fc,{variant:"destructive",children:[(0,r.jsx)(f.A,{className:"h-4 w-4"}),(0,r.jsx)(d.TN,{children:H})]})})]})})}),(0,r.jsxs)(n.wL,{className:"pt-4 border-t flex flex-col items-start gap-2",children:[S&&(0,r.jsxs)("div",{className:"relative p-2 border rounded-md",children:[(0,r.jsx)(l.default,{src:S,alt:"Preview",width:64,height:64,className:"rounded-md"}),(0,r.jsx)(i.$,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>T(null),children:(0,r.jsx)(v.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("form",{onSubmit:Z,className:"w-full flex items-center gap-2",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",ref:P,onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];if(a){let e=new FileReader;e.onload=e=>{var s;T(null==(s=e.target)?void 0:s.result)},e.readAsDataURL(a)}e.target.value=""},className:"hidden"}),(0,r.jsx)(i.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{var e;return null==(e=P.current)?void 0:e.click()},disabled:_,children:(0,r.jsx)(j.A,{className:"h-4 w-4"})}),(0,r.jsx)(w.p,{placeholder:"Describe tu idea o pide un cambio...",value:F,onChange:e=>B(e.target.value),disabled:_}),(0,r.jsx)(i.$,{type:"submit",size:"icon",disabled:_||!F.trim()&&!S,children:(0,r.jsx)(N.A,{className:"h-4 w-4"})})]})]})]})})]})]})}A.displayName="ChatMessageComponent"},55365:(e,s,a)=>{"use strict";a.d(s,{Fc:()=>d,TN:()=>o,XL:()=>c});var r=a(95155),t=a(12115),l=a(74466),i=a(59434);let n=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=t.forwardRef((e,s)=>{let{className:a,variant:t,...l}=e;return(0,r.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:t}),a),...l})});d.displayName="Alert";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...t})});c.displayName="AlertTitle";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...t})});o.displayName="AlertDescription"},62523:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var r=a(95155),t=a(12115),l=a(59434);let i=t.forwardRef((e,s)=>{let{className:a,type:t,...i}=e;return(0,r.jsx)("input",{type:t,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},66424:(e,s,a)=>{"use strict";a.d(s,{F:()=>n});var r=a(95155),t=a(12115),l=a(47655),i=a(59434);let n=t.forwardRef((e,s)=>{let{className:a,children:t,...n}=e;return(0,r.jsxs)(l.bL,{ref:s,className:(0,i.cn)("relative overflow-hidden",a),...n,children:[(0,r.jsx)(l.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,r.jsx)(d,{}),(0,r.jsx)(l.OK,{})]})});n.displayName=l.bL.displayName;let d=t.forwardRef((e,s)=>{let{className:a,orientation:t="vertical",...n}=e;return(0,r.jsx)(l.VM,{ref:s,orientation:t,className:(0,i.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...n,children:(0,r.jsx)(l.lr,{className:"relative flex-1 rounded-full bg-border"})})});d.displayName=l.VM.displayName},66695:(e,s,a)=>{"use strict";a.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>u});var r=a(95155),t=a(12115),l=a(59434);let i=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...t})});i.displayName="Card";let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",a),...t})});n.displayName="CardHeader";let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",a),...t})});d.displayName="CardTitle";let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",a),...t})});c.displayName="CardDescription";let o=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",a),...t})});o.displayName="CardContent";let u=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",a),...t})});u.displayName="CardFooter"},67336:(e,s,a)=>{Promise.resolve().then(a.bind(a,41200))},68856:(e,s,a)=>{"use strict";a.d(s,{E:()=>l});var r=a(95155),t=a(59434);function l(e){let{className:s,...a}=e;return(0,r.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-md bg-muted",s),...a})}},91394:(e,s,a)=>{"use strict";a.d(s,{BK:()=>d,eu:()=>n,q5:()=>c});var r=a(95155),t=a(12115),l=a(85977),i=a(59434);let n=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.bL,{ref:s,className:(0,i.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t})});n.displayName=l.bL.displayName;let d=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l._V,{ref:s,className:(0,i.cn)("aspect-square h-full w-full",a),...t})});d.displayName=l._V.displayName;let c=t.forwardRef((e,s)=>{let{className:a,...t}=e;return(0,r.jsx)(l.H4,{ref:s,className:(0,i.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t})});c.displayName=l.H4.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[5769,6766,5135,2183,2458,8441,1684,7358],()=>s(67336)),_N_E=e.O()}]);