(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4944],{22346:(e,a,r)=>{"use strict";r.d(a,{w:()=>o});var s=r(95155),t=r(12115),i=r(87489),n=r(59434);let o=t.forwardRef((e,a)=>{let{className:r,orientation:t="horizontal",decorative:o=!0,...l}=e;return(0,s.jsx)(i.b,{ref:a,decorative:o,orientation:t,className:(0,n.cn)("shrink-0 bg-border","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",r),...l})});o.displayName=i.b.displayName},52623:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>eN});var s=r(95155),t=r(6874),i=r.n(t),n=r(35695),o=r(18186),l=r(75074),c=r(68098),d=r(21816),u=r(94063),m=r(57082),h=r(77724),p=r(81203),x=r(97990),g=r(87824),b=r(50286),f=r(82733),v=r(49502),j=r(30462),y=r(88390),N=r(67270),w=r(50172),A=r(15546),k=r(30285),S=r(62523),C=r(12115),E=r(45821),_=r(74466),z=r(25318),P=r(59434);let I=E.bL,q=E.l9;E.bm;let U=E.ZL,T=C.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(E.hJ,{className:(0,P.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...t,ref:a})});T.displayName=E.hJ.displayName;let L=(0,_.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),O=C.forwardRef((e,a)=>{let{side:r="right",className:t,children:i,...n}=e;return(0,s.jsxs)(U,{children:[(0,s.jsx)(T,{}),(0,s.jsxs)(E.UC,{ref:a,className:(0,P.cn)(L({side:r}),t),...n,children:[i,(0,s.jsxs)(E.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(z.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});O.displayName=E.UC.displayName;let M=e=>{let{className:a,...r}=e;return(0,s.jsx)("div",{className:(0,P.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...r})};M.displayName="SheetHeader";let D=C.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(E.hE,{ref:a,className:(0,P.cn)("text-lg font-semibold text-foreground",r),...t})});D.displayName=E.hE.displayName,C.forwardRef((e,a)=>{let{className:r,...t}=e;return(0,s.jsx)(E.VY,{ref:a,className:(0,P.cn)("text-sm text-muted-foreground",r),...t})}).displayName=E.VY.displayName;var R=r(91394),V=r(44838),G=r(93473),B=r(91721),$=r(18271),J=r(76570),W=r(36936),F=r(68027),H=r(33349),Y=r(51362),Z=r(67491),Q=r(56104),K=r(24903);function X(){let{setTheme:e,theme:a}=(0,Y.D)(),{user:r}=(0,Z.A)(),t=(0,n.useRouter)(),[o,l]=(0,C.useState)(G.HL),c=()=>{try{let e=null==r?void 0:r.uid;if(!e)return null;let a=null,s=0;for(let r of["profile_".concat(e),"profile_backup_".concat(e),"pending_profile_".concat(e),"currentProfile"])try{let e=localStorage.getItem(r);if(e){let r=JSON.parse(e),t=r.lastModified||r.lastUpdate||0;t>s&&(s=t,a=r)}}catch(e){console.warn("Error loading profile from ".concat(r,":"),e)}return a}catch(e){return console.log("Error loading profile from localStorage:",e),null}};(0,C.useEffect)(()=>{let e=c();e&&l(e)},[null==r?void 0:r.uid]),(0,C.useEffect)(()=>{let e=e=>{if((null==r?void 0:r.uid)&&(e.key==="profile_".concat(r.uid)||e.key==="profile_backup_".concat(r.uid)||e.key==="pending_profile_".concat(r.uid)||"currentProfile"===e.key)){let e=c();e&&l(e)}},a=e=>{let{userId:a,profile:s}=e.detail;a===(null==r?void 0:r.uid)&&s&&l(s)};return window.addEventListener("storage",e),window.addEventListener("profileUpdated",a),()=>{window.removeEventListener("storage",e),window.removeEventListener("profileUpdated",a)}},[null==r?void 0:r.uid]);let d=async()=>{await (0,K.signOut)(Q.j2),t.push("/login")},u=(null==r?void 0:r.displayName)||o.name,m=(null==r?void 0:r.email)||o.email,h=(null==r?void 0:r.photoURL)||o.avatarUrl||"",p=(null==r?void 0:r.email)===G.vE;return(0,s.jsxs)(V.rI,{children:[(0,s.jsx)(V.ty,{asChild:!0,children:(0,s.jsx)(k.$,{variant:"ghost",className:"relative h-8 w-8 rounded-full user-nav-trigger",children:(0,s.jsxs)(R.eu,{className:"h-9 w-9",children:[(0,s.jsx)(R.BK,{src:h,alt:"@".concat(u),"data-ai-hint":"gaming character"}),(0,s.jsx)(R.q5,{children:(null==u?void 0:u.substring(0,2))||"U"})]})})}),(0,s.jsxs)(V.SQ,{className:"w-56",align:"end",forceMount:!0,children:[(0,s.jsx)(V.lp,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium leading-none",children:u}),(0,s.jsx)("p",{className:"text-xs leading-none text-muted-foreground",children:m})]})}),(0,s.jsx)(V.mB,{}),(0,s.jsxs)(V.I,{children:[(0,s.jsx)(V._2,{asChild:!0,children:(0,s.jsxs)(i(),{href:"/profile",children:[(0,s.jsx)(B.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Perfil"})]})}),(0,s.jsx)(V._2,{asChild:!0,children:(0,s.jsxs)(i(),{href:"/settings",children:[(0,s.jsx)($.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Ajustes"})]})}),p&&(0,s.jsx)(V._2,{asChild:!0,children:(0,s.jsxs)(i(),{href:"/admin",children:[(0,s.jsx)(J.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Panel de Admin"})]})})]}),(0,s.jsx)(V.mB,{}),(0,s.jsxs)(V._2,{onClick:()=>e("dark"===a?"light":"dark"),children:["dark"===a?(0,s.jsx)(W.A,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(F.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"dark"===a?"Modo Claro":"Modo Oscuro"})]}),(0,s.jsx)(V.mB,{}),(0,s.jsxs)(V._2,{onClick:d,children:[(0,s.jsx)(H.A,{className:"mr-2 h-4 w-4"}),(0,s.jsx)("span",{children:"Cerrar sesi\xf3n"})]})]})]})}var ee=r(26126),ea=r(79372),er=r(89067),es=r(38224),et=r(85268),ei=r(36931),en=r(10518),eo=r(66695),el=r(66424),ec=r(22346),ed=r(56671),eu=r(22424);let em=(0,C.createContext)(void 0),eh=e=>{let{className:a}=e,{user:r}=function(){let e=(0,C.useContext)(em);if(void 0===e){let[e,a]=(0,C.useState)(null),[r,s]=(0,C.useState)(!0);return(0,C.useEffect)(()=>{let e=(0,K.onAuthStateChanged)(Q.j2,e=>{a(e),s(!1)});return()=>e()},[]),{user:e,loading:r,signOut:async()=>{try{await (0,K.signOut)(Q.j2)}catch(e){throw console.error("Error signing out:",e),e}}}}return e}(),[t,i]=(0,C.useState)([]),[n,o]=(0,C.useState)(0),[l,d]=(0,C.useState)(!1),[m,h]=(0,C.useState)(!1),[p,x]=(0,C.useState)(!1),g=async()=>{if(null==r?void 0:r.uid){d(!0);try{let e=await (0,eu.Ss)(r.uid,50);e.success&&e.notifications&&i(e.notifications)}catch(e){console.error("Error loading notifications:",e)}finally{d(!1)}}},f=async()=>{if(null==r?void 0:r.uid)try{let e=await (0,eu.ul)(r.uid);e.success&&"number"==typeof e.count&&o(e.count)}catch(e){console.error("Error loading unread count:",e)}},v=async e=>{try{(await (0,eu.bA)(e)).success?(i(a=>a.map(a=>a.id===e?{...a,read:!0}:a)),o(e=>Math.max(0,e-1))):ed.oR.error("Error al marcar como le\xedda")}catch(e){console.error("Error marking notification as read:",e),ed.oR.error("Error al marcar como le\xedda")}},j=async()=>{try{let e=await (0,eu.mT)();e.success?(x(!0),ed.oR.success("Permisos de notificaci\xf3n concedidos")):ed.oR.error(e.error||"Error al solicitar permisos")}catch(e){console.error("Error requesting permission:",e),ed.oR.error("Error al solicitar permisos")}},y=e=>{switch(e){case"message":return(0,s.jsx)(es.A,{className:"h-4 w-4"});case"friend_request":case"friend_accepted":return(0,s.jsx)(b.A,{className:"h-4 w-4"});case"match_found":case"tournament_invite":case"tournament_reminder":return(0,s.jsx)(et.A,{className:"h-4 w-4"});case"feed_like":return(0,s.jsx)(c.A,{className:"h-4 w-4"});case"feed_comment":return(0,s.jsx)(u.A,{className:"h-4 w-4"});default:return(0,s.jsx)(ei.A,{className:"h-4 w-4"})}},N=(e,a)=>"high"===a?"text-red-500":"normal"===a?"text-blue-500":"text-gray-500",w=e=>{let a=new Date().getTime()-e.getTime(),r=Math.floor(a/6e4),s=Math.floor(a/36e5),t=Math.floor(a/864e5);return r<1?"Ahora":r<60?"".concat(r,"m"):s<24?"".concat(s,"h"):"".concat(t,"d")},A=e=>{!e.read&&e.id&&v(e.id),e.actionUrl&&(window.location.href=e.actionUrl),h(!1)};return(0,C.useEffect)(()=>{if(null==r?void 0:r.uid)return(0,eu.Jv)(r.uid,e=>{i(e),o(e.filter(e=>!e.read).length)})},[null==r?void 0:r.uid]),(0,C.useEffect)(()=>{"Notification"in window&&x("granted"===Notification.permission)},[]),(0,C.useEffect)(()=>{m&&(g(),f())},[m,null==r?void 0:r.uid]),(0,s.jsxs)(I,{open:m,onOpenChange:h,children:[(0,s.jsx)(q,{asChild:!0,children:(0,s.jsxs)(k.$,{variant:"ghost",size:"icon",className:"relative ".concat(a),children:[(0,s.jsx)(ei.A,{className:"h-5 w-5"}),n>0&&(0,s.jsx)(ee.E,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:n>99?"99+":n})]})}),(0,s.jsxs)(O,{className:"w-[400px] sm:w-[540px]",children:[(0,s.jsx)(M,{children:(0,s.jsxs)(D,{className:"flex items-center gap-2",children:[(0,s.jsx)(ei.A,{className:"h-5 w-5"}),"Notificaciones",n>0&&(0,s.jsxs)(ee.E,{variant:"secondary",children:[n," nuevas"]})]})}),(0,s.jsxs)("div",{className:"mt-6",children:[!p&&(0,s.jsx)(eo.Zp,{className:"mb-4",children:(0,s.jsx)(eo.Wu,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ei.A,{className:"h-5 w-5 text-muted-foreground"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Activar notificaciones"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recibe notificaciones instant\xe1neas de mensajes y actividades"})]}),(0,s.jsx)(k.$,{size:"sm",onClick:j,children:"Activar"})]})})}),(0,s.jsx)(el.F,{className:"h-[calc(100vh-200px)]",children:l?(0,s.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):0===t.length?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,s.jsx)(ei.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No tienes notificaciones"})]}):(0,s.jsx)("div",{className:"space-y-2",children:t.map((e,a)=>(0,s.jsxs)("div",{children:[(0,s.jsx)(eo.Zp,{className:"cursor-pointer transition-colors hover:bg-muted/50 ".concat(e.read?"":"border-primary/50 bg-primary/5"),onClick:()=>A(e),children:(0,s.jsx)(eo.Wu,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"mt-1 ".concat(N(e.type,e.priority)),children:y(e.type)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:w(e.createdAt)}),!e.read&&(0,s.jsx)("div",{className:"h-2 w-2 bg-primary rounded-full"})]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.body}),"high"===e.priority&&(0,s.jsx)(ee.E,{variant:"destructive",className:"mt-2 text-xs",children:"Urgente"})]}),!e.read&&e.id&&(0,s.jsx)(k.$,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:a=>{a.stopPropagation(),v(e.id)},children:(0,s.jsx)(en.A,{className:"h-3 w-3"})})]})})}),a<t.length-1&&(0,s.jsx)(ec.w,{className:"my-2"})]},e.id||a))})})]})]})]})};var ep=r(11518),ex=r.n(ep),eg=r(56495);r(59724);let eb={defaultStepOptions:{cancelIcon:{enabled:!0},classes:"shepherd-custom",scrollTo:{behavior:"smooth",block:"center"}},useModalOverlay:!0},ef=[{id:"intro",text:'\n      <div class="shepherd-header">\n        <h3 class="shepherd-title">\xa1Bienvenido a SquadGO!</h3>\n      </div>\n      <div class="shepherd-content">\n        <p>\xa1Qu\xe9 emoci\xf3n tenerte a bordo! Descubre c\xf3mo convertirte en un <strong>Creador de Contenido</strong> y monetizar tu pasi\xf3n por PUBG Mobile. Este tour te mostrar\xe1 todas las herramientas para crear torneos, ofrecer servicios y construir tu comunidad.</p>\n      </div>\n    ',buttons:[{classes:"shepherd-button-secondary",text:"Saltar",type:"cancel"},{classes:"shepherd-button-primary",text:"Comenzar Tour",type:"next"}]},{id:"nav-dashboard",attachTo:{element:"#nav-dashboard",on:"right"},title:"Tu Centro de Mando",text:"Este es el Inicio, tu base de operaciones. Aqu\xed ver\xe1s las \xfaltimas noticias, la actividad de tus amigos y los pr\xf3ximos torneos de un vistazo.",buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"Siguiente",type:"next"}]},{id:"nav-tournaments",attachTo:{element:"#nav-tournaments",on:"right"},title:"Crea y Gestiona Torneos",text:"\xa1El coraz\xf3n de tu negocio como creador! Aqu\xed puedes <strong>crear torneos ilimitados</strong>, gestionar inscripciones, configurar premios y construir tu comunidad. Como creador, tendr\xe1s herramientas avanzadas para personalizar cada detalle.",buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"Siguiente",type:"next"}]},{id:"nav-matchmaking",attachTo:{element:"#nav-matchmaking",on:"right"},title:"Encuentra a tu D\xfao Ideal",text:'\xbfCansado de jugar solo? Usa el "MATCH PUBGM" para descubrir nuevos jugadores, analizar su compatibilidad contigo y romper el hielo con la ayuda de la IA.',buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"Siguiente",type:"next"}]},{id:"nav-equipment",attachTo:{element:"#nav-equipment",on:"right"},title:"Servicios Premium para Creadores",text:"Como creador, puedes <strong>ofrecer servicios de coaching</strong>, an\xe1lisis de sensibilidades personalizadas y configuraciones optimizadas. Monetiza tu experiencia ayudando a otros jugadores a mejorar su rendimiento.",buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"Siguiente",type:"next"}]},{id:"creator-chat",title:"Sistema de Chat para Creadores",text:'\n      <div class="shepherd-content">\n        <p><strong>Conecta con tu audiencia:</strong></p>\n        <ul style="margin: 10px 0; padding-left: 20px;">\n          <li>• Chat en tiempo real durante torneos</li>\n          <li>• Comunicaci\xf3n directa con participantes</li>\n          <li>• Moderaci\xf3n avanzada de mensajes</li>\n          <li>• Notificaciones de mensajes importantes</li>\n        </ul>\n        <p>Construye relaciones s\xf3lidas con tu comunidad.</p>\n      </div>\n    ',buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"Siguiente",type:"next"}]},{id:"creator-lists",title:"Gesti\xf3n de Listas y Equipos",text:'\n      <div class="shepherd-content">\n        <p><strong>Organiza tu comunidad:</strong></p>\n        <ul style="margin: 10px 0; padding-left: 20px;">\n          <li>• Crea listas de jugadores favoritos</li>\n          <li>• Gestiona equipos para torneos</li>\n          <li>• Sistema de ranking personalizado</li>\n          <li>• Invitaciones autom\xe1ticas a eventos</li>\n        </ul>\n        <p>Mant\xe9n a tu audiencia organizada y comprometida.</p>\n      </div>\n    ',buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"Siguiente",type:"next"}]},{id:"creator-monetization",title:"Monetizaci\xf3n y Crecimiento",text:'\n      <div class="shepherd-content">\n        <p><strong>Convierte tu pasi\xf3n en ingresos:</strong></p>\n        <ul style="margin: 10px 0; padding-left: 20px;">\n          <li>• <strong>Plan Creador B\xe1sico ($9.99/mes):</strong> Torneos ilimitados, servicios b\xe1sicos</li>\n          <li>• <strong>Plan Creador Pro ($19.99/mes):</strong> Analytics avanzados, streaming integrado</li>\n          <li>• Comisiones reducidas en servicios premium</li>\n          <li>• Promoci\xf3n en la plataforma</li>\n        </ul>\n        <p>\xa1Empieza hoy y construye tu imperio gaming!</p>\n      </div>\n    ',buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"Siguiente",type:"next"}]},{id:"user-nav",attachTo:{element:".user-nav-trigger",on:"bottom"},title:"Tu Perfil de Creador",text:"Gestiona tu perfil de creador, revisa tus estad\xedsticas, configura tus servicios y accede a herramientas avanzadas. \xa1Todo lo que necesitas para hacer crecer tu negocio!",buttons:[{classes:"shepherd-button-secondary",text:"Atr\xe1s",type:"back"},{classes:"shepherd-button-primary",text:"\xa1Comenzar como Creador!",type:"complete"}]}];function ev(){(0,n.useRouter)();let e=(0,C.useContext)(eg.zs);return(0,C.useEffect)(()=>{let a=localStorage.getItem("squadgo_tour_completed"),r=setTimeout(()=>{e&&!a&&(e.start(),e.on("complete",()=>{localStorage.setItem("squadgo_tour_completed","true")}),e.on("cancel",()=>{localStorage.setItem("squadgo_tour_completed","true")}))},1500);return()=>clearTimeout(r)},[e]),null}let ej=()=>(0,s.jsx)(ex(),{id:"f508f29e5a9bbea6",children:".shepherd-custom{--shepherd-text-color:hsl(var(--card-foreground));--shepherd-header-background:hsl(var(--card));--shepherd-background:hsl(var(--card));--shepherd-footer-background:hsl(var(--card));--shepherd-arrow-background:hsl(var(--card));-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);border:1px solid hsl(var(--border))}.shepherd-title{color:hsl(var(--primary));font-weight:700}.shepherd-button{-webkit-border-radius:var(--radius);-moz-border-radius:var(--radius);border-radius:var(--radius);-webkit-transition:all.2s ease-in-out;-moz-transition:all.2s ease-in-out;-o-transition:all.2s ease-in-out;transition:all.2s ease-in-out}.shepherd-button-primary{background-color:hsl(var(--primary));color:hsl(var(--primary-foreground))}.shepherd-button-primary:hover{background-color:hsl(var(--primary)/.9)}.shepherd-button-secondary{background-color:hsl(var(--secondary));color:hsl(var(--secondary-foreground))}.shepherd-button-secondary:hover{background-color:hsl(var(--secondary)/.8)}.shepherd-cancel-icon{color:hsl(var(--muted-foreground))}.shepherd-cancel-icon:hover{color:hsl(var(--foreground))}"});function ey(){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ej,{}),(0,s.jsx)(eg.sN,{steps:ef,tourOptions:eb,children:(0,s.jsx)(ev,{})})]})}function eN(e){let{children:a}=e,r=(0,n.usePathname)(),{user:t,loading:E}=(0,Z.A)(),_=(0,n.useRouter)();if((0,C.useEffect)(()=>{if(console.log("\uD83D\uDD0D AppLayout - Verificando autenticaci\xf3n:",{user:!!t,loading:E,pathname:window.location.pathname}),!E&&!t){let e=window.location.pathname;"/login"!==e&&"/"!==e&&"/register"!==e&&(console.log("\uD83D\uDD04 AppLayout - Usuario no autenticado, redirigiendo a login desde:",e),_.replace("/login"))}},[t,E,_]),E)return console.log("⏳ AppLayout - Cargando estado de autenticaci\xf3n..."),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Verificando autenticaci\xf3n..."})]})});if(!t)return console.log("\uD83D\uDEAB AppLayout - Sin usuario autenticado, redirigiendo a login"),_.replace("/login"),null;if(E)return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto h-8 w-8 animate-spin rounded-full border-4 border-white border-t-transparent mb-4"}),(0,s.jsx)("p",{className:"text-white text-lg",children:"Verificando autenticaci\xf3n..."})]})});if(!t)return null;let z=[{href:"/dashboard",label:"Inicio",icon:o.A,badge:0,id:"nav-dashboard"},{href:"/matchmaking",label:"MATCH PUBGM",icon:l.A,badge:0,id:"nav-matchmaking"},{href:"/connections",label:"Mis Conexiones",icon:c.A,badge:0,id:"nav-connections"},{href:"/tournaments",label:"Torneos",icon:d.A,badge:0,id:"nav-tournaments"},{href:"/chats",label:"Chats",icon:u.A,badge:G.VY.filter(e=>e.unread).length,id:"nav-chats"},{href:"/services",label:"Servicios",icon:m.A,badge:0,id:"nav-services"},{type:"divider",label:"Herramientas de IA"},{href:"/player-analysis",label:"An\xe1lisis de Jugador",icon:h.A,id:"nav-player-analysis"},{href:"/equipment",label:"Taller de Precisi\xf3n",icon:p.A,badge:0,id:"nav-equipment"},{href:"/sensitivities",label:"Arsenal de Sensibilidad",icon:x.A,id:"nav-sensitivities"},{href:"/play-map",label:"Estrategias de Mapas",icon:g.A,id:"nav-play-map"},{href:"/compare",label:"Comparador de D\xfaos",icon:b.A,id:"nav-compare"},{type:"divider",label:"Ecosistema"},{href:"/creator-hub",label:"Portal del Creador",icon:f.A,badge:0,id:"nav-creator-hub"},{href:"/creator-application",label:"Convi\xe9rtete en Creador",icon:v.A,badge:0,id:"nav-creator-app"},{href:"/subscription",label:"Suscripciones",icon:j.A,badge:0,id:"nav-subscription"},{href:"/recharge",label:"Recargar UC",icon:y.A,badge:0,id:"nav-recharge"},{href:"/support",label:"Soporte",icon:N.A,badge:0,id:"nav-support"}],U=[{href:"/dashboard",label:"Inicio",icon:o.A,badge:0,id:"nav-dashboard"},{href:"/matchmaking",label:"Match",icon:l.A,badge:0,id:"nav-matchmaking"},{href:"/connections",label:"Conexiones",icon:c.A,badge:0,id:"nav-connections"},{href:"/tournaments",label:"Torneos",icon:d.A,badge:0,id:"nav-tournaments"},{href:"/chats",label:"Chats",icon:u.A,badge:G.VY.filter(e=>e.unread).length,id:"nav-chats"},{href:"/profile",label:"Perfil",icon:b.A,badge:0,id:"nav-profile"}];return E?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsx)(w.A,{className:"h-12 w-12 animate-spin text-primary"})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ey,{}),(0,s.jsxs)("div",{className:"grid min-h-screen w-full md:grid-cols-[220px_1fr] lg:grid-cols-[280px_1fr]",children:[(0,s.jsx)("div",{className:"hidden border-r bg-gradient-to-b from-sidebar to-sidebar/95 text-sidebar-foreground md:block shadow-lg",children:(0,s.jsxs)("div",{className:"flex h-full max-h-screen flex-col gap-4 pt-4",children:[(0,s.jsx)("div",{className:"flex h-14 items-center justify-center border-b border-sidebar-border/50 px-4 lg:h-[60px] lg:px-6",children:(0,s.jsxs)(i(),{href:"/",className:"flex items-center gap-2 font-semibold hover:scale-105 transition-transform duration-300",id:"app-logo",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"SquadGO Logo",className:"h-12 w-12 mr-2"}),(0,s.jsxs)("span",{className:"text-2xl font-bold",children:[(0,s.jsx)("span",{className:"text-yellow-400",children:"Squad"}),(0,s.jsx)("span",{className:"text-white",children:"GO"})]})]})}),(0,s.jsx)(el.F,{className:"flex-1",children:(0,s.jsx)("nav",{className:"grid items-start px-2 text-sm font-medium lg:px-4 space-y-1",children:z.map((e,a)=>"divider"===e.type?(0,s.jsx)("p",{className:"px-3 pt-4 pb-2 text-xs font-semibold uppercase text-sidebar-foreground/50 border-b border-sidebar-border/30",children:e.label},a):(0,s.jsxs)(i(),{href:e.href,id:e.id,className:(0,P.cn)("flex items-center gap-3 rounded-xl px-3 py-3 text-sidebar-foreground transition-all duration-300 hover:text-white hover:bg-sidebar-accent/30 hover:scale-105 hover:shadow-md relative",r===e.href?"bg-gradient-to-r from-sidebar-accent/20 to-sidebar-accent/10 text-sidebar-primary font-bold shadow-md scale-105 border-l-4 border-sidebar-primary":""),children:[e.icon&&(0,s.jsx)(e.icon,{className:"h-5 w-5"}),e.label,e.badge>0&&(0,s.jsx)(ee.E,{className:"ml-auto flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md",children:e.badge})]},e.label))})}),(0,s.jsx)("div",{className:"mt-auto p-4 space-y-2 border-t border-sidebar-border/30",children:(0,s.jsx)(ea.i,{})})]})}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("header",{className:"flex h-14 items-center gap-4 border-b border-border/50 bg-gradient-to-r from-background/95 to-background/80 backdrop-blur-md px-4 lg:h-[60px] lg:px-6 sticky top-0 z-10 shadow-sm",children:[(0,s.jsxs)(I,{children:[(0,s.jsx)(q,{asChild:!0,children:(0,s.jsxs)(k.$,{variant:"outline",size:"icon",className:"shrink-0 md:hidden border-muted-foreground/20 hover:bg-muted/50 hover:border-primary/30 transition-all duration-300",children:[(0,s.jsx)(A.A,{className:"h-5 w-5"}),(0,s.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,s.jsxs)(O,{side:"left",className:"flex flex-col bg-sidebar text-sidebar-foreground pt-4 border-r-0",children:[(0,s.jsx)("nav",{className:"grid gap-2 text-lg font-medium",children:(0,s.jsxs)(i(),{href:"/",className:"flex items-center justify-center gap-2 text-lg font-semibold mb-4",children:[(0,s.jsx)("img",{src:"/logo.png",alt:"SquadGO Logo",className:"h-16 w-16 mr-2"}),(0,s.jsxs)("span",{className:"text-2xl font-bold",children:[(0,s.jsx)("span",{className:"text-yellow-400",children:"Squad"}),(0,s.jsx)("span",{className:"text-white",children:"GO"})]})]})}),(0,s.jsx)(el.F,{className:"flex-1",children:(0,s.jsx)("nav",{className:"grid gap-4 text-base font-medium px-4",children:z.map((e,a)=>"divider"===e.type?(0,s.jsx)("p",{className:"px-3 pt-4 pb-2 text-xs font-semibold uppercase text-sidebar-foreground/50",children:e.label},a):(0,s.jsxs)(i(),{href:e.href,className:(0,P.cn)("flex items-center gap-4 rounded-xl px-3 py-2 text-sidebar-foreground hover:text-white hover:bg-sidebar-accent/20",r===e.href?"bg-sidebar-accent/10 text-sidebar-primary font-bold":""),children:[e.icon&&(0,s.jsx)(e.icon,{className:"h-5 w-5"}),e.label,e.badge>0&&(0,s.jsx)(ee.E,{className:"ml-auto flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary text-primary-foreground",children:e.badge})]},e.label))})})]})]}),(0,s.jsx)("div",{className:"w-full flex-1",children:(0,s.jsx)("form",{children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(l.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(S.p,{type:"search",placeholder:"Buscar jugadores, equipos, torneos...",className:"w-full appearance-none bg-muted/30 border-muted-foreground/20 pl-10 pr-4 py-2 rounded-xl shadow-none md:w-2/3 lg:w-1/3 focus:bg-background focus:border-primary/50 transition-all duration-300 hover:bg-muted/50"})]})})}),(0,s.jsx)(eh,{}),(0,s.jsx)(X,{})]}),(0,s.jsx)("main",{className:"flex flex-1 flex-col gap-4 p-4 md:gap-8 md:p-8 bg-background pb-24 md:pb-8",children:a}),(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-gradient-to-t from-background to-background/95 border-t border-border/50 md:hidden backdrop-blur-md shadow-lg",children:(0,s.jsx)("div",{className:"grid h-16 max-w-lg grid-cols-5 mx-auto",children:U.map(e=>(0,s.jsxs)(i(),{href:e.href,className:(0,P.cn)("inline-flex flex-col items-center justify-center px-5 hover:bg-muted/50 group transition-all duration-300 relative",r.startsWith(e.href)?"text-primary":"text-muted-foreground"),children:[(0,s.jsxs)("div",{className:(0,P.cn)("p-2 rounded-xl transition-all duration-300",r.startsWith(e.href)?"bg-primary/10 scale-110":"group-hover:bg-muted/50 group-hover:scale-105"),children:[(0,s.jsx)(e.icon,{className:(0,P.cn)("w-5 h-5 transition-colors duration-300",r.startsWith(e.href)?"text-primary":"text-muted-foreground group-hover:text-primary")}),e.badge>0&&(0,s.jsx)("span",{className:"absolute top-1 right-1 h-4 w-4 rounded-full bg-red-500 text-white text-xs flex items-center justify-center font-bold",children:e.badge})]}),(0,s.jsx)("span",{className:(0,P.cn)("text-xs mt-1 transition-colors duration-300",r.startsWith(e.href)?"text-primary font-semibold":"text-muted-foreground group-hover:text-primary"),children:e.label})]},e.label))})})]})]}),(0,s.jsx)(er.v,{open:!1,onOpenChange:()=>{}})]})}},61035:(e,a,r)=>{Promise.resolve().then(r.bind(r,52623))},67491:(e,a,r)=>{"use strict";r.d(a,{A:()=>c,AuthProvider:()=>l});var s=r(95155),t=r(12115),i=r(24903),n=r(56104);let o=(0,t.createContext)({user:null,loading:!0}),l=e=>{let{children:a}=e,[r,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{console.log("\uD83D\uDD27 AuthProvider - Configurando listener de autenticaci\xf3n"),(()=>{{let e=localStorage.getItem("squadgo_user"),a=localStorage.getItem("squadgo_user_backup");if(e||a)try{let r=JSON.parse(e||a||"{}");console.log("\uD83D\uDD04 AuthProvider - Intentando recuperar sesi\xf3n desde localStorage:",r.uid)}catch(e){console.error("❌ Error recuperando usuario desde localStorage:",e),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}}})();let e=(0,i.onAuthStateChanged)(n.j2,async e=>{if(console.log("\uD83D\uDD04 AuthProvider - Estado de autenticaci\xf3n cambi\xf3:",{uid:null==e?void 0:e.uid,email:null==e?void 0:e.email,emailVerified:null==e?void 0:e.emailVerified}),e)try{console.log("✅ AuthProvider - Usuario autenticado"),l(e);{let a={uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",emailVerified:e.emailVerified,lastUpdate:Date.now(),sessionId:Math.random().toString(36).substring(2,11)};localStorage.setItem("squadgo_user",JSON.stringify(a)),localStorage.setItem("squadgo_user_backup",JSON.stringify(a));let r=new CustomEvent("userAuthenticated",{detail:{user:e}});window.dispatchEvent(r)}}catch(e){console.error("❌ AuthProvider - Error procesando usuario:",e),l(null),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else{console.log("\uD83D\uDEAB AuthProvider - Usuario no autenticado"),l(null);{let e=localStorage.getItem("squadgo_user_backup");if(e)try{let a=JSON.parse(e);Date.now()-(a.lastUpdate||0)>864e5?(localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup"),console.log("\uD83E\uDDF9 Limpiando datos de sesi\xf3n expirados")):console.log("\uD83D\uDD04 Manteniendo backup de sesi\xf3n reciente")}catch(e){localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else localStorage.removeItem("squadgo_user")}}d(!1)});return()=>{console.log("\uD83E\uDDF9 AuthProvider - Limpiando listener de autenticaci\xf3n"),e()}},[]),(0,s.jsx)(o.Provider,{value:{user:r,loading:c},children:a})},c=()=>(0,t.useContext)(o)},79372:(e,a,r)=>{"use strict";r.d(a,{i:()=>x});var s=r(95155),t=r(12115),i=r(30411),n=r(30285),o=r(66695),l=r(26126),c=r(50172),d=r(8376),u=r(11133),m=r(88628),h=r(83662),p=r(67554);function x(){var e;let{permissions:a,requestLocationPermission:r,getCurrentLocation:x}=(0,i.S)(),[g,b]=(0,t.useState)(null),[f,v]=(0,t.useState)(!1),[j,y]=(0,t.useState)(null),[N,w]=(0,t.useState)(null),A=async()=>{try{await r()&&console.log("Permiso de ubicaci\xf3n concedido")}catch(e){console.error("Error solicitando permiso:",e)}},k=async()=>{v(!0),y(null);try{if(console.log("\uD83D\uDD0D Iniciando obtenci\xf3n de ubicaci\xf3n..."),!("geolocation"in navigator))throw Error("Geolocalizaci\xf3n no disponible en este navegador");if(!a.location&&(console.log("\uD83D\uDCCD Solicitando permisos de ubicaci\xf3n..."),!await r()))throw Error("Se requiere permiso de ubicaci\xf3n para continuar");console.log("✅ Permisos concedidos, obteniendo ubicaci\xf3n...");let e=await x();b(e),y(null),console.log("\uD83C\uDFAF Ubicaci\xf3n obtenida exitosamente:",e)}catch(a){let e=a instanceof Error?a.message:"Error desconocido al obtener ubicaci\xf3n";console.error("❌ Error obteniendo ubicaci\xf3n:",e),y(e),b(null)}finally{v(!1)}},S=a.isLoading?{icon:(0,s.jsx)(c.A,{className:"h-4 w-4 animate-spin text-blue-500"}),text:"Verificando permisos...",badge:(0,s.jsx)(l.E,{variant:"secondary",children:"Cargando"})}:a.location?{icon:(0,s.jsx)(d.A,{className:"h-4 w-4 text-green-500"}),text:"Permiso concedido",badge:(0,s.jsx)(l.E,{variant:"default",className:"bg-green-500",children:"Activo"})}:a.deniedPermanently.location?{icon:(0,s.jsx)(u.A,{className:"h-4 w-4 text-red-500"}),text:"Permiso denegado permanentemente",badge:(0,s.jsx)(l.E,{variant:"destructive",children:"Bloqueado"})}:{icon:(0,s.jsx)(u.A,{className:"h-4 w-4 text-orange-500"}),text:"Permiso no concedido",badge:(0,s.jsx)(l.E,{variant:"outline",children:"Pendiente"})};return(0,s.jsx)(o.Zp,{className:"w-full max-w-sm",children:(0,s.jsxs)(o.Wu,{className:"p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[S.icon,(0,s.jsx)("span",{className:"text-sm font-medium",children:"Localizaci\xf3n"})]}),S.badge]}),g&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-2",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsx)("span",{className:"font-medium text-green-800",children:(null==(e=g.locationInfo)?void 0:e.city)||"Localizaci\xf3n obtenida"}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(m.A,{className:"h-3 w-3 text-green-600"}),(0,s.jsx)("span",{className:"text-green-600",children:"Localizaci\xf3n"})]})]})}),(a.error||j)&&(0,s.jsxs)("div",{className:"text-xs text-red-600 bg-red-50 border border-red-200 p-3 rounded space-y-1",children:[(0,s.jsx)("div",{className:"font-medium",children:"⚠️ Problema de Ubicaci\xf3n"}),(0,s.jsx)("div",{className:"whitespace-pre-line",children:j||a.error}),a.deniedPermanently.location&&(0,s.jsxs)("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-yellow-800",children:[(0,s.jsx)("div",{className:"font-medium",children:"\uD83D\uDCA1 Soluci\xf3n r\xe1pida:"}),(0,s.jsx)("div",{children:"1. Busca el \xedcono \uD83D\uDD12 o \uD83D\uDCCD en la barra de direcciones"}),(0,s.jsx)("div",{children:'2. Haz clic y selecciona "Permitir ubicaci\xf3n"'}),(0,s.jsx)("div",{children:"3. Recarga la p\xe1gina (F5)"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[!a.location&&!a.deniedPermanently.location&&(0,s.jsxs)(n.$,{onClick:A,disabled:a.isLoading,size:"sm",className:"flex-1",children:[a.isLoading?(0,s.jsx)(c.A,{className:"h-3 w-3 animate-spin mr-1"}):(0,s.jsx)(h.A,{className:"h-3 w-3 mr-1"}),"Activar Ubicaci\xf3n"]}),a.location&&(0,s.jsxs)(n.$,{onClick:k,disabled:f,size:"sm",className:"flex-1",children:[f?(0,s.jsx)(c.A,{className:"h-3 w-3 animate-spin mr-1"}):(0,s.jsx)(m.A,{className:"h-3 w-3 mr-1"}),g?"Actualizar Ubicaci\xf3n":"Obtener Ubicaci\xf3n"]})]}),a.location&&(0,s.jsx)("div",{className:"flex gap-2",children:null===N?(0,s.jsxs)(n.$,{onClick:()=>{if(!("geolocation"in navigator))return void y("Geolocalizaci\xf3n no disponible");console.log("\uD83D\uDD04 Iniciando ubicaci\xf3n en tiempo real..."),w(navigator.geolocation.watchPosition(e=>{console.log("\uD83D\uDCCD Nueva ubicaci\xf3n en tiempo real:",e),b({latitude:e.coords.latitude,longitude:e.coords.longitude,accuracy:e.coords.accuracy,source:"gps",timestamp:Date.now()}),y(null)},e=>{let a="Error en ubicaci\xf3n en tiempo real";switch(e.code){case e.PERMISSION_DENIED:a="Permiso de ubicaci\xf3n denegado";break;case e.POSITION_UNAVAILABLE:a="Ubicaci\xf3n no disponible";break;case e.TIMEOUT:a="Tiempo de espera agotado"}console.error("❌ Error en tiempo real:",a),y(a)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4}))},size:"sm",variant:"outline",className:"flex-1",children:[(0,s.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Tiempo Real"]}):(0,s.jsxs)(n.$,{onClick:()=>{null!==N&&(navigator.geolocation.clearWatch(N),w(null),console.log("⏹️ Ubicaci\xf3n en tiempo real detenida"))},size:"sm",variant:"destructive",className:"flex-1",children:[(0,s.jsx)(u.A,{className:"h-3 w-3 mr-1"}),"Detener"]})}),a.deniedPermanently.location&&(0,s.jsxs)(n.$,{onClick:()=>window.location.reload(),size:"sm",variant:"outline",className:"w-full",children:[(0,s.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Recargar P\xe1gina"]})]}),a.deniedPermanently.location&&(0,s.jsx)("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 p-2 rounded",children:"Ve a configuraci\xf3n del navegador para permitir localizaci\xf3n"})]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[2261,9135,7210,5769,9863,3856,9550,5679,8722,6874,5135,4214,3421,3181,4752,2458,9892,2673,9828,4260,8441,1684,7358],()=>a(61035)),_N_E=e.O()}]);