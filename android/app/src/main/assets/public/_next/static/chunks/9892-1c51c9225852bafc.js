"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9892],{6033:(e,t,r)=>{r.d(t,{$2:()=>o});let a={profile_update:{maxAttempts:5,baseDelay:2e3,maxDelay:3e4,backoffMultiplier:2},post_create:{maxAttempts:3,baseDelay:1e3,maxDelay:15e3,backoffMultiplier:1.5},message_send:{maxAttempts:5,baseDelay:500,maxDelay:1e4,backoffMultiplier:2},tournament_register:{maxAttempts:3,baseDelay:3e3,maxDelay:6e4,backoffMultiplier:2}};class s{add(e){let t="".concat(e.type,"_").concat(e.userId,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),r=a[e.type],s={...e,id:t,attempts:0,lastAttempt:new Date().toISOString(),nextRetry:new Date(Date.now()+r.baseDelay).toISOString(),status:"pending"};return this.operations.set(t,s),this.saveToStorage(),console.log("\uD83D\uDD04 Retry: Operaci\xf3n agregada a la cola: ".concat(e.type," para usuario ").concat(e.userId)),t}remove(e){this.operations.has(e)&&(this.operations.delete(e),this.saveToStorage(),console.log("✅ Retry: Operaci\xf3n removida de la cola: ".concat(e)))}markCompleted(e){let t=this.operations.get(e);t&&(t.status="completed",this.operations.set(e,t),this.saveToStorage(),setTimeout(()=>this.remove(e),6e4),console.log("✅ Retry: Operaci\xf3n completada: ".concat(e)))}markFailed(e){let t=this.operations.get(e);t&&(t.status="failed",this.operations.set(e,t),this.saveToStorage(),console.error("❌ Retry: Operaci\xf3n fallida permanentemente: ".concat(e)))}getPendingOperations(){let e=new Date;return Array.from(this.operations.values()).filter(t=>("pending"===t.status||"retrying"===t.status)&&new Date(t.nextRetry)<=e&&t.attempts<t.maxAttempts).sort((e,t)=>{let r={high:3,medium:2,low:1},a=r[t.priority]-r[e.priority];return 0!==a?a:new Date(e.nextRetry).getTime()-new Date(t.nextRetry).getTime()})}calculateNextRetry(e){let t=a[e.type],r=Math.min(t.baseDelay*Math.pow(t.backoffMultiplier,e.attempts),t.maxDelay),s=.3*Math.random()*r;return new Date(Date.now()+(r+s)).toISOString()}async processOperations(){if(this.isProcessing)return;this.isProcessing=!0;let e=this.getPendingOperations();if(0===e.length){this.isProcessing=!1;return}for(let t of(console.log("\uD83D\uDD04 Retry: Procesando ".concat(e.length," operaciones pendientes")),e.slice(0,5)))try{t.status="retrying",t.attempts++,t.lastAttempt=new Date().toISOString(),console.log("\uD83D\uDD04 Retry: Intentando operaci\xf3n ".concat(t.type," (intento ").concat(t.attempts,"/").concat(t.maxAttempts,")")),await this.executeOperation(t)?this.markCompleted(t.id):t.attempts>=t.maxAttempts?this.markFailed(t.id):(t.nextRetry=this.calculateNextRetry(t),t.status="pending",this.operations.set(t.id,t))}catch(e){console.error("❌ Retry: Error procesando operaci\xf3n ".concat(t.id,":"),e),t.attempts>=t.maxAttempts?this.markFailed(t.id):(t.nextRetry=this.calculateNextRetry(t),t.status="pending",this.operations.set(t.id,t))}this.saveToStorage(),this.isProcessing=!1}async executeOperation(e){try{switch(e.type){case"profile_update":return await this.retryProfileUpdate(e);case"post_create":return await this.retryPostCreate(e);case"message_send":return await this.retryMessageSend(e);case"tournament_register":return await this.retryTournamentRegister(e);default:return console.error("❌ Retry: Tipo de operaci\xf3n desconocido: ".concat(e.type)),!1}}catch(t){return console.error("❌ Retry: Error ejecutando ".concat(e.type,":"),t),!1}}async retryProfileUpdate(e){let{updateUserProfile:t}=await r.e(988).then(r.bind(r,10988));return(await t(e.userId,e.data)).success}async retryPostCreate(e){let{createFeedPost:t}=await r.e(988).then(r.bind(r,10988));return(await t(e.data)).success}async retryMessageSend(e){let{sendMessage:t}=await r.e(988).then(r.bind(r,10988));return(await t(e.data.chatId,e.userId,e.data.message)).success}async retryTournamentRegister(e){let{registerForTournament:t}=await r.e(696).then(r.bind(r,90696));return(await t(e.data.tournamentId,e.userId,e.data.teamData)).success}saveToStorage(){try{let e=Array.from(this.operations.entries());localStorage.setItem("retryQueue",JSON.stringify(e))}catch(e){console.error("❌ Retry: Error guardando cola en localStorage:",e)}}loadFromStorage(){try{let e=localStorage.getItem("retryQueue");if(e){let t=JSON.parse(e);this.operations=new Map(t),console.log("\uD83D\uDD04 Retry: Cargadas ".concat(this.operations.size," operaciones desde localStorage"))}}catch(e){console.error("❌ Retry: Error cargando cola desde localStorage:",e)}}startProcessing(){this.processingInterval=setInterval(()=>{this.processOperations()},1e4),setTimeout(()=>this.processOperations(),1e3)}stop(){this.processingInterval&&(clearInterval(this.processingInterval),this.processingInterval=null)}getStats(){let e=Array.from(this.operations.values());return{total:e.length,pending:e.filter(e=>"pending"===e.status).length,retrying:e.filter(e=>"retrying"===e.status).length,completed:e.filter(e=>"completed"===e.status).length,failed:e.filter(e=>"failed"===e.status).length}}constructor(){this.operations=new Map,this.isProcessing=!1,this.processingInterval=null,this.loadFromStorage(),this.startProcessing()}}let n=new s,o={profileUpdate:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"high";return n.add({type:"profile_update",data:t,userId:e,maxAttempts:a.profile_update.maxAttempts,priority:r})},postCreate:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium";return n.add({type:"post_create",data:t,userId:e,maxAttempts:a.post_create.maxAttempts,priority:r})},messageSend:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"high";return n.add({type:"message_send",data:t,userId:e,maxAttempts:a.message_send.maxAttempts,priority:r})},tournamentRegister:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"medium";return n.add({type:"tournament_register",data:t,userId:e,maxAttempts:a.tournament_register.maxAttempts,priority:r})}};setInterval(()=>{let e=Array.from(n.operations.values()),t=new Date(Date.now()-864e5);e.forEach(e=>{("completed"===e.status||"failed"===e.status)&&new Date(e.lastAttempt)<t&&n.remove(e.id)})},36e5)},26126:(e,t,r)=>{r.d(t,{E:()=>i});var a=r(95155);r(12115);var s=r(74466),n=r(59434);let o=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(o({variant:r}),t),...s})}},30285:(e,t,r)=>{r.d(t,{$:()=>l,r:()=>d});var a=r(95155),s=r(12115),n=r(66634),o=r(74466),i=r(59434);let d=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:l=!1,...u}=e,c=l?n.DX:"button";return(0,a.jsx)(c,{className:(0,i.cn)(d({variant:s,size:o,className:r})),ref:t,...u})});l.displayName="Button"},56104:(e,t,r)=>{let a;r.d(t,{db:()=>a,j2:()=>c});var s=r(23915),n=r(24903),o=r(35317),i=r(77505),d=r(99895);let l={projectId:"squadgo-app",appId:"1:442519077443:web:3d4e9e034e222838230af6",storageBucket:"squadgo-app.firebasestorage.app",apiKey:"AIzaSyDfY3FrK9baCrVhqhBpD2Zd7v2_oARFuX8",authDomain:"squadgo-app.firebaseapp.com",measurementId:"",messagingSenderId:"442519077443"},u=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)(l);console.log("\uD83D\uDD27 Firebase - Aplicaci\xf3n inicializada:",{projectId:l.projectId});let c=(0,n.getAuth)(u);Promise.resolve().then(r.bind(r,24903)).then(e=>{let{setPersistence:t,browserLocalPersistence:r,onAuthStateChanged:a}=e;t(c,r).then(()=>{console.log("✅ Firebase Auth - Persistencia configurada correctamente"),a(c,e=>{if(e){console.log("\uD83D\uDD04 Firebase Auth - Sesi\xf3n restaurada:",e.uid);let t={uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,lastLogin:Date.now()};localStorage.setItem("squadgo_user_backup",JSON.stringify(t))}})}).catch(e=>{console.error("❌ Error configurando persistencia:",e),localStorage.getItem("squadgo_user_backup")&&console.log("\uD83D\uDD04 Intentando recuperar sesi\xf3n desde backup...")})}),console.log("\uD83D\uDD27 Firebase Auth - Inicializado:",{authDomain:l.authDomain});try{a=(0,o._A)(u,{ignoreUndefinedProperties:!0,experimentalAutoDetectLongPolling:!1,cacheSizeBytes:4e7,experimentalForceLongPolling:!1}),console.log("\uD83D\uDD27 Firestore - Inicializado con cache local y configuraci\xf3n optimizada")}catch(e){console.warn("⚠️ Firestore ya inicializado, usando instancia existente"),a=(0,o.aU)(u)}window.addEventListener("online",()=>{(0,o.Os)(a).catch(()=>{})}),window.addEventListener("offline",()=>{(0,o.LA)(a).catch(()=>{})}),(0,i.c7)(u);(0,d.TT)().then(e=>{e&&(0,d.dG)(u)})},66695:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>u,ZB:()=>d,Zp:()=>o,aR:()=>i,wL:()=>c});var a=r(95155),s=r(12115),n=r(59434);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});o.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});u.displayName="CardContent";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});c.displayName="CardFooter"},68598:(e,t,r)=>{r.d(t,{DV:()=>a,Ip:()=>d,Ri:()=>l,VA:()=>o,Vy:()=>i,Wi:()=>u,nT:()=>s,ue:()=>n});let a=e=>{let t=[],r={};if(void 0!==e.name&&("string"!=typeof e.name?t.push("El nombre debe ser una cadena de texto"):e.name.trim().length<2?t.push("El nombre debe tener al menos 2 caracteres"):e.name.trim().length>50?t.push("El nombre no puede exceder 50 caracteres"):/^[a-zA-ZÀ-ÿ\u00f1\u00d1\s0-9_-]+$/.test(e.name.trim())?r.name=e.name.trim():t.push("El nombre contiene caracteres no v\xe1lidos")),void 0!==e.bio&&("string"!=typeof e.bio?t.push("La biograf\xeda debe ser una cadena de texto"):e.bio.length>500?t.push("La biograf\xeda no puede exceder 500 caracteres"):r.bio=e.bio.trim()),void 0!==e.gameId&&("string"!=typeof e.gameId?t.push("El ID del juego debe ser una cadena de texto"):e.gameId.trim()&&!/^[0-9]+$/.test(e.gameId.trim())?t.push("El ID del juego debe contener solo n\xfameros"):e.gameId.trim().length>20?t.push("El ID del juego no puede exceder 20 caracteres"):r.gameId=e.gameId.trim()),void 0!==e.countryCode&&("string"!=typeof e.countryCode?t.push("El c\xf3digo de pa\xeds debe ser una cadena de texto"):["AR","BO","BR","CA","CL","CO","CR","EC","SV","US","GT","HN","MX","PA","PY","PE","PR","DO","UY","VE"].includes(e.countryCode)?r.countryCode=e.countryCode:t.push("C\xf3digo de pa\xeds no v\xe1lido")),void 0!==e.avatarUrl&&(e.avatarUrl&&"string"!=typeof e.avatarUrl?t.push("La URL del avatar debe ser una cadena de texto"):e.avatarUrl&&e.avatarUrl.length>2e3?t.push("La URL del avatar es demasiado larga"):r.avatarUrl=e.avatarUrl),void 0!==e.coverPhotoUrl&&(e.coverPhotoUrl&&"string"!=typeof e.coverPhotoUrl?t.push("La URL de la foto de portada debe ser una cadena de texto"):e.coverPhotoUrl&&e.coverPhotoUrl.length>2e3?t.push("La URL de la foto de portada es demasiado larga"):r.coverPhotoUrl=e.coverPhotoUrl),void 0!==e.stats)if("object"!=typeof e.stats||null===e.stats)t.push("Las estad\xedsticas deben ser un objeto");else{let a={};void 0!==e.stats.wins&&("number"!=typeof e.stats.wins||e.stats.wins<0||e.stats.wins>1e6?t.push("Las victorias deben ser un n\xfamero entre 0 y 1,000,000"):a.wins=Math.floor(e.stats.wins)),void 0!==e.stats.kda&&("number"!=typeof e.stats.kda||e.stats.kda<0||e.stats.kda>100?t.push("El KDA debe ser un n\xfamero entre 0 y 100"):a.kda=Math.round(100*e.stats.kda)/100),void 0!==e.stats.matches&&("number"!=typeof e.stats.matches||e.stats.matches<0||e.stats.matches>1e7?t.push("Las partidas deben ser un n\xfamero entre 0 y 10,000,000"):a.matches=Math.floor(e.stats.matches)),Object.keys(a).length>0&&(r.stats=a)}return void 0!==e.level&&("number"!=typeof e.level||e.level<1||e.level>100?t.push("El nivel debe ser un n\xfamero entre 1 y 100"):r.level=Math.floor(e.level)),{isValid:0===t.length,errors:t,sanitizedData:0===t.length?r:void 0}},s=e=>{let t=[],r={};return void 0!==e.content&&("string"!=typeof e.content?t.push("El contenido debe ser una cadena de texto"):0===e.content.trim().length?t.push("El contenido no puede estar vac\xedo"):e.content.length>2e3?t.push("El contenido no puede exceder 2000 caracteres"):r.content=e.content.trim()),void 0!==e.images&&(Array.isArray(e.images)?e.images.length>4?t.push("No se pueden subir m\xe1s de 4 im\xe1genes"):r.images=e.images.filter(e=>"string"==typeof e&&e.length>0&&e.length<=2e3):t.push("Las im\xe1genes deben ser un array")),{isValid:0===t.length,errors:t,sanitizedData:0===t.length?r:void 0}},n=e=>{let t=[],r={};return void 0!==e.content&&("string"!=typeof e.content?t.push("El mensaje debe ser una cadena de texto"):0===e.content.trim().length?t.push("El mensaje no puede estar vac\xedo"):e.content.length>1e3?t.push("El mensaje no puede exceder 1000 caracteres"):r.content=e.content.trim()),void 0!==e.type&&(["text","image","audio","location","voice"].includes(e.type)?r.type=e.type:t.push("Tipo de mensaje no v\xe1lido")),{isValid:0===t.length,errors:t,sanitizedData:0===t.length?r:void 0}},o=e=>{let t=[],r={};if(e.userId&&"string"==typeof e.userId?r.userId=e.userId.trim():t.push("ID de usuario requerido"),e.username&&"string"==typeof e.username?e.username.trim().length<2||e.username.trim().length>30?t.push("El nombre de usuario debe tener entre 2 y 30 caracteres"):r.username=e.username.trim():t.push("Nombre de usuario requerido"),e.games&&Array.isArray(e.games)&&0!==e.games.length)if(e.games.length>10)t.push("No puede seleccionar m\xe1s de 10 juegos");else{let a=e.games.filter(e=>"string"==typeof e&&e.trim().length>0);0===a.length?t.push("Debe seleccionar al menos un juego v\xe1lido"):r.games=a.map(e=>e.trim())}else t.push("Debe seleccionar al menos un juego");if(e.skillLevels&&"object"==typeof e.skillLevels){let t=["beginner","intermediate","advanced","pro"],a={};Object.keys(e.skillLevels).forEach(r=>{t.includes(e.skillLevels[r])&&(a[r]=e.skillLevels[r])}),r.skillLevels=a}if(e.languages&&Array.isArray(e.languages)?r.languages=e.languages.filter(e=>"string"==typeof e&&e.trim().length>0).slice(0,5):r.languages=["es"],e.availability&&"object"==typeof e.availability){let t={};if("string"==typeof e.availability.timezone&&(t.timezone=e.availability.timezone),Array.isArray(e.availability.preferredTimes)){let r=["morning","afternoon","evening","night"];t.preferredTimes=e.availability.preferredTimes.filter(e=>r.includes(e))}t.weekdays=!!e.availability.weekdays,t.weekends=!!e.availability.weekends,r.availability=t}if(e.lookingFor&&["casual","competitive","ranked","tournaments","any"].includes(e.lookingFor)&&(r.lookingFor=e.lookingFor),void 0!==e.teamSize){let t=Number(e.teamSize);t>=1&&t<=10&&(r.teamSize=t)}return r.isActive=!1!==e.isActive,{isValid:0===t.length,errors:t,sanitizedData:r}},i=e=>{let t=[],r={};return e.fromUserId&&"string"==typeof e.fromUserId?r.fromUserId=e.fromUserId.trim():t.push("ID de usuario origen requerido"),e.toUserId&&"string"==typeof e.toUserId?r.toUserId=e.toUserId.trim():t.push("ID de usuario destino requerido"),e.fromUserId===e.toUserId&&t.push("No puedes enviarte una solicitud a ti mismo"),e.game&&"string"==typeof e.game?r.game=e.game.trim():t.push("Juego requerido"),void 0!==e.message&&("string"!=typeof e.message?t.push("El mensaje debe ser texto"):e.message.length>500?t.push("El mensaje no puede exceder 500 caracteres"):r.message=e.message.trim()),e.matchType&&["duo","team","tournament"].includes(e.matchType)?r.matchType=e.matchType:t.push("Tipo de match inv\xe1lido"),r.status="pending",{isValid:0===t.length,errors:t,sanitizedData:r}};function d(e){let t=[];return e.subscription?(e.userId&&"string"==typeof e.userId||t.push("ID de usuario es requerido para la suscripci\xf3n"),e.subscription.endpoint&&"string"==typeof e.subscription.endpoint||t.push("Endpoint de suscripci\xf3n es requerido"),e.subscription.keys&&e.subscription.keys.p256dh&&e.subscription.keys.auth||t.push("Claves de suscripci\xf3n son requeridas")):(e.userId&&"string"==typeof e.userId||t.push("ID de usuario es requerido"),e.type&&"string"==typeof e.type||t.push("Tipo de notificaci\xf3n es requerido"),e.type&&!["message","friend_request","friend_accepted","match_found","tournament_invite","tournament_reminder","feed_like","feed_comment"].includes(e.type)&&t.push("Tipo de notificaci\xf3n no v\xe1lido"),e.title&&"string"==typeof e.title&&0!==e.title.trim().length||t.push("T\xedtulo de notificaci\xf3n es requerido"),e.body&&"string"==typeof e.body&&0!==e.body.trim().length||t.push("Cuerpo de notificaci\xf3n es requerido"),e.title&&e.title.length>100&&t.push("T\xedtulo de notificaci\xf3n no puede exceder 100 caracteres"),e.body&&e.body.length>500&&t.push("Cuerpo de notificaci\xf3n no puede exceder 500 caracteres"),e.priority&&!["low","normal","high"].includes(e.priority)&&t.push("Prioridad de notificaci\xf3n no v\xe1lida"),e.actionUrl&&"string"!=typeof e.actionUrl&&t.push("URL de acci\xf3n debe ser una cadena v\xe1lida")),{isValid:0===t.length,errors:t}}function l(e){let t=[],r={};return e.tournamentId&&"string"==typeof e.tournamentId?r.tournamentId=e.tournamentId.trim():t.push("ID de torneo es requerido"),e.userId&&"string"==typeof e.userId?r.userId=e.userId.trim():t.push("ID de usuario es requerido"),e.username&&"string"==typeof e.username&&0!==e.username.trim().length?e.username.length>50?t.push("El nombre de usuario no puede exceder 50 caracteres"):r.username=e.username.trim():t.push("Nombre de usuario es requerido"),e.teamName&&"string"==typeof e.teamName&&(e.teamName.length>100?t.push("El nombre del equipo no puede exceder 100 caracteres"):r.teamName=e.teamName.trim()),e.teamMembers&&Array.isArray(e.teamMembers)?e.teamMembers.length>10?t.push("El equipo no puede tener m\xe1s de 10 miembros"):r.teamMembers=e.teamMembers.filter(e=>"string"==typeof e&&e.trim().length>0).map(e=>e.trim()):r.teamMembers=[],e.gameId&&"string"==typeof e.gameId?r.gameId=e.gameId.trim():t.push("ID del juego es requerido"),e.skillLevel&&(["beginner","intermediate","advanced","pro"].includes(e.skillLevel)?r.skillLevel=e.skillLevel:t.push("Nivel de habilidad no v\xe1lido")),r.status="registered",r.registeredAt=new Date().toISOString(),{isValid:0===t.length,errors:t,sanitizedData:0===t.length?r:void 0}}function u(e){let t=[],r={};return e.fromUserId&&"string"==typeof e.fromUserId?r.fromUserId=e.fromUserId.trim():t.push("ID de usuario remitente es requerido"),e.toUserId&&"string"==typeof e.toUserId?r.toUserId=e.toUserId.trim():t.push("ID de usuario destinatario es requerido"),e.fromUserId===e.toUserId&&t.push("No puedes enviarte una solicitud de amistad a ti mismo"),e.fromUsername&&"string"==typeof e.fromUsername&&0!==e.fromUsername.trim().length?r.fromUsername=e.fromUsername.trim():t.push("Nombre de usuario remitente es requerido"),e.toUsername&&"string"==typeof e.toUsername&&0!==e.toUsername.trim().length?r.toUsername=e.toUsername.trim():t.push("Nombre de usuario destinatario es requerido"),void 0!==e.message&&("string"!=typeof e.message?t.push("El mensaje debe ser texto"):e.message.length>500?t.push("El mensaje no puede exceder 500 caracteres"):r.message=e.message.trim()),r.status="pending",{isValid:0===t.length,errors:t,sanitizedData:0===t.length?r:void 0}}}}]);