(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[301],{17313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>i});var t=a(95155),r=a(12115),l=a(60704),n=a(59434);let i=l.bL,c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...r})});c.displayName=l.B8.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...r})});d.displayName=l.l9.displayName;let o=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...r})});o.displayName=l.UC.displayName},19568:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>U});var t=a(95155),r=a(12115),l=a(17313),n=a(66695),i=a(30285),c=a(91394),d=a(26126),o=a(37648),u=a(50286),m=a(25318),x=a(10518),h=a(87481),p=a(93473),f=a(41223),j=a(35695);function g(e){let{onMatchCreated:s}=e,{toast:a}=(0,h.dj)(),l=(0,j.useRouter)(),[g,N]=(0,r.useState)([]),[v,y]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),[S,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{U()},[]);let U=async()=>{try{let e=await (0,p.OE)(p.HL.id);N(e)}catch(e){console.error("Error loading requests:",e)}finally{y(!1)}},E=async e=>{try{let t=await (0,p.Kt)(e.id);t.success&&t.match&&(w(t.match),A(!0),null==s||s(t.match),a({title:"\xa1MATCH! \uD83C\uDF89",description:"\xa1Ahora puedes chatear con ".concat(e.fromUser.name,"!")}),U())}catch(e){a({title:"Error",description:"No se pudo aceptar la solicitud.",variant:"destructive"})}},_=async e=>{try{await (0,p.LS)(e.id),a({title:"Solicitud rechazada",description:"Solicitud de ".concat(e.fromUser.name," rechazada.")}),U()}catch(e){a({title:"Error",description:"No se pudo rechazar la solicitud.",variant:"destructive"})}};return v?(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Solicitudes Pendientes"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Solicitudes Pendientes",g.length>0&&(0,t.jsx)(d.E,{variant:"secondary",children:g.length})]})}),(0,t.jsx)(n.Wu,{children:0===g.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(u.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No tienes solicitudes pendientes"}),(0,t.jsx)("p",{className:"text-sm",children:"\xa1Ve al matchmaking para encontrar jugadores!"})]}):(0,t.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(c.eu,{className:"h-12 w-12",children:[(0,t.jsx)(c.BK,{src:e.fromUser.avatarUrl,alt:e.fromUser.name||e.fromUser.displayName||"Usuario"}),(0,t.jsx)(c.q5,{children:(e.fromUser.name||e.fromUser.displayName||"U")[0]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-semibold",children:e.fromUser.name||e.fromUser.displayName||"Usuario"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(d.E,{variant:"outline",className:"text-xs",children:e.fromUser.rank}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.$,{size:"sm",variant:"outline",onClick:()=>_(e),className:"text-red-600 border-red-200 hover:bg-red-50",children:(0,t.jsx)(m.A,{className:"h-4 w-4"})}),(0,t.jsx)(i.$,{size:"sm",onClick:()=>E(e),className:"bg-green-600 hover:bg-green-700",children:(0,t.jsx)(x.A,{className:"h-4 w-4"})})]})]},e.id))})})]}),(0,t.jsx)(f.V,{isOpen:S,onClose:()=>A(!1),match:b,onStartChat:()=>{b&&(A(!1),l.push("/chats"))}})]})}var N=a(85268),v=a(51920),y=a(94063),b=a(10988),w=a(67491);function S(){let e=(0,j.useRouter)(),{user:s}=(0,w.A)(),[a,l]=(0,r.useState)([]),[o,u]=(0,r.useState)(!0),[m,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{s&&(f(),h())},[s]);let h=async()=>{if(s)try{let e=await (0,b.VM)(s.uid);x(e)}catch(e){console.error("Error loading user profile:",e)}},f=async()=>{if(s)try{let e=await (0,b.sh)(s.uid);l(e)}catch(e){console.error("Error loading matches:",e)}finally{u(!1)}},g=a=>{if(!s||!m)return;let t=a.user1Id===s.uid?{id:a.user2Id,name:a.user2.name||a.user2.displayName||a.user2.username||"Usuario",avatarUrl:a.user2.avatarUrl}:{id:a.user1Id,name:a.user1.name||a.user1.displayName||a.user1.username||"Usuario",avatarUrl:a.user1.avatarUrl},r="chat_".concat([s.uid,t.id].sort().join("_"));(0,p.S3)({id:r,name:t.name,avatarUrl:t.avatarUrl,unread:!1,lastMessageTimestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),messages:[{sender:"system",text:"\xa1Match confirmado! Ahora pueden chatear y jugar juntos."}]}),e.push("/chats")};return o?(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-5 w-5"}),"Mis Matches"]})}),(0,t.jsx)(n.Wu,{children:(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})})]}):(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-5 w-5"}),"Mis Matches",a.length>0&&(0,t.jsx)(d.E,{variant:"secondary",children:a.length})]})}),(0,t.jsx)(n.Wu,{children:0===a.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(N.A,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No tienes matches a\xfan"}),(0,t.jsx)("p",{className:"text-sm",children:"\xa1Ve al matchmaking para encontrar jugadores!"})]}):(0,t.jsx)("div",{className:"space-y-4",children:a.map(e=>{if(!s||!m)return null;let a=e.user1Id===s.uid?{id:e.user2Id,name:e.user2.name||e.user2.displayName||e.user2.username||"Usuario",avatarUrl:e.user2.avatarUrl,rank:e.user2.rank}:{id:e.user1Id,name:e.user1.name||e.user1.displayName||e.user1.username||"Usuario",avatarUrl:e.user1.avatarUrl,rank:e.user1.rank};return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center -space-x-2",children:[(0,t.jsxs)(c.eu,{className:"h-12 w-12 border-2 border-background",children:[(0,t.jsx)(c.BK,{src:e.user1.avatarUrl,alt:e.user1.name||e.user1.displayName||e.user1.username}),(0,t.jsx)(c.q5,{children:(e.user1.name||e.user1.displayName||e.user1.username||"U")[0]})]}),(0,t.jsxs)(c.eu,{className:"h-12 w-12 border-2 border-background",children:[(0,t.jsx)(c.BK,{src:e.user2.avatarUrl,alt:e.user2.name||e.user2.displayName||e.user2.username}),(0,t.jsx)(c.q5,{children:(e.user2.name||e.user2.displayName||e.user2.username||"U")[0]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"font-semibold flex items-center gap-2",children:["Match con ",a.name,(0,t.jsx)(N.A,{className:"h-4 w-4 text-yellow-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(d.E,{variant:"outline",className:"text-xs",children:a.rank}),(0,t.jsx)(v.A,{className:"h-3 w-3"}),(0,t.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]})]})]}),(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsxs)(i.$,{size:"sm",onClick:()=>g(e),className:"bg-blue-600 hover:bg-blue-700",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Chatear"]})})]},e.id)})})})]})}var A=a(68098);function U(){let[e,s]=(0,r.useState)(0);return(0,t.jsxs)("div",{className:"container mx-auto p-4 space-y-6",children:[(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Mis Conexiones"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Gestiona tus solicitudes de conexi\xf3n y matches realizados"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"flex items-center p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-100 rounded-full",children:(0,t.jsx)(o.A,{className:"h-6 w-6 text-yellow-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Pendientes"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"-"})]})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"flex items-center p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-full",children:(0,t.jsx)(N.A,{className:"h-6 w-6 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Matches"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"-"})]})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"flex items-center p-6",children:(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-full",children:(0,t.jsx)(u.A,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Conexiones"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:"-"})]})]})})})]}),(0,t.jsxs)(l.tU,{defaultValue:"requests",className:"space-y-6",children:[(0,t.jsxs)(l.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsxs)(l.Xi,{value:"requests",className:"flex items-center gap-2",children:[(0,t.jsx)(o.A,{className:"h-4 w-4"}),"Solicitudes Pendientes"]}),(0,t.jsxs)(l.Xi,{value:"matches",className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-4 w-4"}),"Mis Matches"]})]}),(0,t.jsx)(l.av,{value:"requests",className:"space-y-4",children:(0,t.jsx)(g,{onMatchCreated:e=>{s(e=>e+1)}},"requests-".concat(e))}),(0,t.jsx)(l.av,{value:"matches",className:"space-y-4",children:(0,t.jsx)(S,{},"matches-".concat(e))})]}),(0,t.jsxs)(n.Zp,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200",children:[(0,t.jsx)(n.aR,{children:(0,t.jsxs)(n.ZB,{className:"flex items-center gap-2 text-blue-700",children:[(0,t.jsx)(A.A,{className:"h-5 w-5"}),"\xbfC\xf3mo funciona el sistema de Match?"]})}),(0,t.jsxs)(n.Wu,{className:"text-sm text-blue-600 space-y-2",children:[(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"Env\xeda solicitudes:"})," Dale al bot\xf3n de conectar en el matchmaking"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"Recibe solicitudes:"})," Otros jugadores pueden enviarte solicitudes"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"\xa1Haz Match!"})," Cuando ambos se env\xedan solicitudes, se crea un match autom\xe1ticamente"]}),(0,t.jsxs)("p",{children:["• ",(0,t.jsx)("strong",{children:"Chatea:"})," Una vez que hagan match, pueden chatear y jugar juntos"]})]})]})]})}},41223:(e,s,a)=>{"use strict";a.d(s,{V:()=>p});var t=a(95155),r=a(12115),l=a(54165),n=a(30285),i=a(91394),c=a(26126),d=a(85268),o=a(74601),u=a(50286),m=a(94063),x=a(35695),h=a(59434);function p(e){let{isOpen:s,onClose:a,match:p,onStartChat:f}=e,j=(0,x.useRouter)(),[g,N]=(0,r.useState)(!1),v=(0,r.useRef)(null);return((0,r.useEffect)(()=>()=>{v.current&&clearTimeout(v.current)},[]),p)?(0,t.jsx)(l.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(l.Cf,{className:"sm:max-w-md",children:[(0,t.jsxs)(l.c7,{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:(0,h.cn)("absolute inset-0 rounded-full bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 animate-pulse",g&&"animate-ping")}),(0,t.jsx)("div",{className:"relative bg-background rounded-full p-2",children:(0,t.jsx)(d.A,{className:"h-12 w-12 text-yellow-500"})})]})}),(0,t.jsx)(l.L3,{className:"text-2xl font-bold bg-gradient-to-r from-yellow-400 via-orange-500 to-red-500 bg-clip-text text-transparent",children:"\xa1HAZ HECHO MATCH!"}),(0,t.jsxs)("div",{className:"text-lg font-semibold text-center",children:[(0,t.jsx)("span",{className:"text-blue-600",children:"PUBG MOBILE"}),(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-green-600",children:"\xa1LISTOS PARA JUGAR!"})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4 p-4 bg-muted rounded-lg",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)(i.eu,{className:"h-16 w-16 mx-auto mb-2 ring-2 ring-blue-500",children:[(0,t.jsx)(i.BK,{src:p.user1.avatarUrl,alt:p.user1.name||p.user1.displayName||p.user1.username}),(0,t.jsx)(i.q5,{children:(p.user1.name||p.user1.displayName||p.user1.username||"U")[0]})]}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:p.user1.name||p.user1.displayName||p.user1.username}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs",children:p.user1.rank})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(o.A,{className:"h-8 w-8 text-yellow-500 animate-bounce"}),(0,t.jsx)("span",{className:"text-xs font-medium text-muted-foreground mt-1",children:"MATCH"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)(i.eu,{className:"h-16 w-16 mx-auto mb-2 ring-2 ring-green-500",children:[(0,t.jsx)(i.BK,{src:p.user2.avatarUrl,alt:p.user2.name||p.user2.displayName||p.user2.username}),(0,t.jsx)(i.q5,{children:(p.user2.name||p.user2.displayName||p.user2.username||"U")[0]})]}),(0,t.jsx)("p",{className:"font-semibold text-sm",children:p.user2.name||p.user2.displayName||p.user2.username}),(0,t.jsx)(c.E,{variant:"secondary",className:"text-xs",children:p.user2.rank})]})]}),(0,t.jsxs)("div",{className:"text-center space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-muted-foreground",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Ahora pueden jugar juntos y chatear"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"\xa1Ambos se enviaron solicitudes de conexi\xf3n!"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(n.$,{onClick:()=>{N(!0),v.current=setTimeout(()=>{f(),a(),j.push("/chats")},500)},className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-semibold py-3",disabled:g,children:[(0,t.jsx)(m.A,{className:"mr-2 h-5 w-5"}),g?"Iniciando Chat...":"Iniciar Chat"]}),(0,t.jsx)(n.$,{variant:"outline",onClick:a,className:"w-full",disabled:g,children:"Cerrar"})]})]})]})}):null}},54165:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>m,Es:()=>h,L3:()=>p,c7:()=>x,lG:()=>c,rr:()=>f,zM:()=>d});var t=a(95155),r=a(12115),l=a(45821),n=a(25318),i=a(59434);let c=l.bL,d=l.l9,o=l.ZL;l.bm;let u=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hJ,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...r})});u.displayName=l.hJ.displayName;let m=r.forwardRef((e,s)=>{let{className:a,children:r,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(u,{}),(0,t.jsxs)(l.UC,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[r,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=l.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};x.displayName="DialogHeader";let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};h.displayName="DialogFooter";let p=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...r})});p.displayName=l.hE.displayName;let f=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...r})});f.displayName=l.VY.displayName},57299:(e,s,a)=>{Promise.resolve().then(a.bind(a,19568))},67491:(e,s,a)=>{"use strict";a.d(s,{A:()=>d,AuthProvider:()=>c});var t=a(95155),r=a(12115),l=a(24903),n=a(56104);let i=(0,r.createContext)({user:null,loading:!0}),c=e=>{let{children:s}=e,[a,c]=(0,r.useState)(null),[d,o]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{console.log("\uD83D\uDD27 AuthProvider - Configurando listener de autenticaci\xf3n"),(()=>{{let e=localStorage.getItem("squadgo_user"),s=localStorage.getItem("squadgo_user_backup");if(e||s)try{let a=JSON.parse(e||s||"{}");console.log("\uD83D\uDD04 AuthProvider - Intentando recuperar sesi\xf3n desde localStorage:",a.uid)}catch(e){console.error("❌ Error recuperando usuario desde localStorage:",e),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}}})();let e=(0,l.onAuthStateChanged)(n.j2,async e=>{if(console.log("\uD83D\uDD04 AuthProvider - Estado de autenticaci\xf3n cambi\xf3:",{uid:null==e?void 0:e.uid,email:null==e?void 0:e.email,emailVerified:null==e?void 0:e.emailVerified}),e)try{console.log("✅ AuthProvider - Usuario autenticado"),c(e);{let s={uid:e.uid,email:e.email||"",displayName:e.displayName||"",photoURL:e.photoURL||"",emailVerified:e.emailVerified,lastUpdate:Date.now(),sessionId:Math.random().toString(36).substring(2,11)};localStorage.setItem("squadgo_user",JSON.stringify(s)),localStorage.setItem("squadgo_user_backup",JSON.stringify(s));let a=new CustomEvent("userAuthenticated",{detail:{user:e}});window.dispatchEvent(a)}}catch(e){console.error("❌ AuthProvider - Error procesando usuario:",e),c(null),localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else{console.log("\uD83D\uDEAB AuthProvider - Usuario no autenticado"),c(null);{let e=localStorage.getItem("squadgo_user_backup");if(e)try{let s=JSON.parse(e);Date.now()-(s.lastUpdate||0)>864e5?(localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup"),console.log("\uD83E\uDDF9 Limpiando datos de sesi\xf3n expirados")):console.log("\uD83D\uDD04 Manteniendo backup de sesi\xf3n reciente")}catch(e){localStorage.removeItem("squadgo_user"),localStorage.removeItem("squadgo_user_backup")}else localStorage.removeItem("squadgo_user")}}o(!1)});return()=>{console.log("\uD83E\uDDF9 AuthProvider - Limpiando listener de autenticaci\xf3n"),e()}},[]),(0,t.jsx)(i.Provider,{value:{user:a,loading:d},children:s})},d=()=>(0,r.useContext)(i)},87481:(e,s,a)=>{"use strict";a.d(s,{dj:()=>m,oR:()=>u});var t=a(12115);let r=0,l=new Map,n=e=>{if(l.has(e))return;let s=setTimeout(()=>{l.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,s)},i=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=s;return a?n(a):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},c=[],d={toasts:[]};function o(e){d=i(d,e),c.forEach(e=>{e(d)})}function u(e){let{...s}=e,a=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),t=()=>o({type:"DISMISS_TOAST",toastId:a});return o({type:"ADD_TOAST",toast:{...s,id:a,open:!0,onOpenChange:e=>{e||t()}}}),{id:a,dismiss:t,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function m(){let[e,s]=t.useState(d);return t.useEffect(()=>(c.push(s),()=>{let e=c.indexOf(s);e>-1&&c.splice(e,1)}),[]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},91394:(e,s,a)=>{"use strict";a.d(s,{BK:()=>c,eu:()=>i,q5:()=>d});var t=a(95155),r=a(12115),l=a(85977),n=a(59434);let i=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.bL,{ref:s,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...r})});i.displayName=l.bL.displayName;let c=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l._V,{ref:s,className:(0,n.cn)("aspect-square h-full w-full",a),...r})});c.displayName=l._V.displayName;let d=r.forwardRef((e,s)=>{let{className:a,...r}=e;return(0,t.jsx)(l.H4,{ref:s,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...r})});d.displayName=l.H4.displayName}},e=>{var s=s=>e(e.s=s);e.O(0,[9135,7210,5769,9863,3856,9550,8722,1082,2458,9892,988,8441,1684,7358],()=>s(57299)),_N_E=e.O()}]);