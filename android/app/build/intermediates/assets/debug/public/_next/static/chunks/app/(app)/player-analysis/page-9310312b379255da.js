(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8886],{254:e=>{"use strict";e.exports=require("genkit")},35009:e=>{"use strict";e.exports=require("@genkit-ai/googleai")},61868:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>L});var r=s(95155),t=s(12115),i=s(66766),l=s(30285),n=s(66695),o=s(55365),d=s(93473),c=s(77724),m=s(74601),u=s(50172),h=s(7270),p=s(68098),g=s(79239),x=s(79311),f=s(68718),j=s(25318),v=s(75066),y=s(73672),N=s(68856),b=s(13046),w=s(45968);async function A(e){return E(e)}let k=b.ai.definePrompt({name:"playerAnalysisPrompt",input:{schema:w.Vg},output:{schema:w.bH},prompt:'Eres un analista experto y amigable en el juego para m\xf3viles PUBG Mobile.\nTu tarea es analizar las estad\xedsticas de un jugador y proporcionar un an\xe1lisis conciso y experto de su perfil, con un tono positivo y motivador.\nBas\xe1ndote en las estad\xedsticas proporcionadas, genera un resumen de su estilo de juego, sus puntos fuertes clave y las \xe1reas de mejora.\nMant\xe9n un an\xe1lisis positivo y alentador.\n\nEstad\xedsticas del Jugador:\n- Victorias: {{{wins}}}\n- Bajas: {{{kills}}}\n- Ratio K/D: {{{kdRatio}}}\n- Rango: {{{rank}}}\n\nAdem\xe1s, quiero que elijas al "compa\xf1ero de equipo ideal" de la lista de amigos proporcionada.\nElige a uno de ellos y da una raz\xf3n creativa y profesional de por qu\xe9 har\xedan un "D\xfao Din\xe1mico" imparable en el campo de batalla.\nLa raz\xf3n debe ser juguetona y halagadora, enfocada en la sinergia de juego.\n\nLista de Amigos Disponibles:\n{{#each friends}}\n- Nombre: {{name}}, Avatar: {{avatarUrl}}\n{{/each}}\n\nProporciona el an\xe1lisis en el formato JSON solicitado.'}),E=b.ai.defineFlow({name:"playerAnalysisFlow",inputSchema:w.Vg,outputSchema:w.bH},async e=>{let{output:a}=await k(e);if(!a)throw Error("El modelo de IA no devolvi\xf3 un an\xe1lisis v\xe1lido.");return a});async function R(e){return I(e)}let I=b.ai.defineFlow({name:"avatarFlow",inputSchema:w.z4,outputSchema:w.Am},async e=>{let{history:a}=e,s=(await b.ai.generate({prompt:'You are an expert AI Graphic Design Assistant for gaming, specializing in the visual universe and aesthetics of PUBG Mobile and other "battle royale" games. Your mission is to transform a user\'s conversational requests into a high-quality, professional image generation prompt.\n\n      You will be given the entire conversation history. Your task is to interpret the user\'s latest message in the context of the history to generate a new, refined image generation prompt.\n\n      Follow these instructions rigorously:\n\n      1.  **Analyze the Request:** Determine if the user is asking for a character avatar, a team logo, an emblem, or something else based on the conversation.\n      2.  **Incorporate Image References:** If the user provides an image, use it as the primary visual reference for composition, style, or concept. Combine the text request with the visual information from the image.\n      3.  **Inject Professional Style:** Always include a base set of terms to ensure a high-quality result: "high-quality concept art", "cinematic", "epic render", "intricate details", "AAA video game art style".\n      4.  **Inject PUBG Mobile Aesthetics:** Based on the request, add specific visual elements from the game and "battle royale" genre. Use your knowledge of specific skins (e.g., "M416 Glacier", "Pharaoh suit") to incorporate their visual details (colors, shapes, effects). If the request is not specific, add general terms like "tactical armor", "neon lighting", "battle particle effects", "intense gaze", "destroyed battlefield background", "modern military style", "bold e-sports typography" (especially for logos).\n      5.  **Strict Output Format:** The final result must be a single, concise paragraph of text in English, dense and full of impactful keywords for the image model. Do not include greetings, explanations, or filler text. Just the final prompt.\n\n      **Example Conversation:**\n      - User\'s First Message: "a logo for my team \'Night Wolves\'"\n      - **Your Inferred Prompt:** "Esports team logo for \'Night Wolves\', featuring a stylized, aggressive wolf howling at a moon, bold e-sports typography, cinematic neon blue and silver highlights, intricate details, vector art style, white background."\n      - User\'s Second Message (with an image of a golden pharaoh mask): "ok now make the wolf look like this"\n      - **Your NEW Inferred Prompt:** "Esports team logo for \'Night Wolves\', featuring a stylized, aggressive wolf with design elements inspired by the golden and blue Pharaoh X-Suit from the provided image, howling at a moon, bold e-sports typography, cinematic neon blue and gold highlights, intricate details, vector art style, white background."\n\n      Conversation History:\n      '.concat(a.map(e=>{let a="".concat(e.role,": ").concat(e.text||"");return e.image&&(a+=" [IMAGE PROVIDED]"),a}).join("\n"),"\n      ")})).text,r=a.find(e=>"user"===e.role&&e.image),t=[s];(null==r?void 0:r.image)&&t.unshift({media:{url:r.image}});let i=async()=>{let{media:e}=await b.ai.generate({model:"googleai/gemini-2.0-flash-preview-image-generation",prompt:t,config:{responseModalities:["TEXT","IMAGE"]}});if(!(null==e?void 0:e.url))throw Error("El modelo de IA no pudo generar una imagen.");return e.url},[l,n]=await Promise.all([i(),i()]);return{imageUrls:[l,n]}});var S=s(91394),D=s(62523),F=s(66424);function L(){let[e,a]=(0,t.useState)(null),[s,b]=(0,t.useState)(!1),[w,k]=(0,t.useState)(null),[E,I]=(0,t.useState)([]),[L,P]=(0,t.useState)(""),[q,C]=(0,t.useState)(null),[z,H]=(0,t.useState)(!1),[M,U]=(0,t.useState)(null),B=(0,t.useRef)(null),T=(0,t.useRef)(null),O=async()=>{b(!0),k(null),a(null);try{let e={wins:d.HL.stats.wins,kills:d.HL.stats.kills,kdRatio:d.HL.stats.kdRatio,rank:d.HL.rank,friends:d.eM.filter(e=>e.id!==d.HL.id).map(e=>({name:e.name,avatarUrl:e.avatarUrl}))},s=await A(e);a(s)}catch(e){k("Ha ocurrido un error al generar el an\xe1lisis. Por favor, int\xe9ntalo de nuevo m\xe1s tarde."),console.error(e)}finally{b(!1)}},G=async e=>{if(e.preventDefault(),!L.trim()&&!q||z)return;let a=[...E,{role:"user",text:L,image:q||void 0}];I(a),P(""),C(null),H(!0),U(null);try{let e=a.map(e=>({role:e.role,text:e.text,image:e.image})),s=await R({history:e}),r={role:"model",images:s.imageUrls};I(e=>[...e,r])}catch(e){U("Error al generar las im\xe1genes. El servicio puede estar ocupado. Int\xe9ntalo de nuevo."),console.error(e)}finally{H(!1)}};(0,t.useEffect)(()=>{B.current&&B.current.scrollTo({top:B.current.scrollHeight,behavior:"smooth"})},[E]);let V=e=>{let a=document.createElement("a");a.href=e,a.download="squadup-design-".concat(Date.now(),".png"),document.body.appendChild(a),a.click(),document.body.removeChild(a)};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[(0,r.jsx)(c.A,{className:"w-8 h-8 text-primary"})," An\xe1lisis con IA"]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Descubre tu perfil de jugador y crea un avatar o logo \xfanico con la ayuda de la IA."})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8 items-start",children:[(0,r.jsx)("div",{className:"lg:col-span-2 space-y-8",children:(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{children:"Tu Perfil de Jugador"}),(0,r.jsxs)(n.BT,{children:["Basado en tus estad\xedsticas de la temporada actual: ",d.HL.stats.wins," victorias, ",d.HL.stats.kills," bajas, y un Ratio K/D de ",d.HL.stats.kdRatio,"."]})]}),(0,r.jsxs)(n.Wu,{children:[!e&&!s&&(0,r.jsxs)(l.$,{onClick:O,children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Generar mi an\xe1lisis"]}),s&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 animate-spin"}),(0,r.jsx)("span",{children:"Analizando tus partidas... Esto puede tardar un momento."})]}),(0,r.jsx)(N.E,{className:"h-8 w-1/4 mt-4"}),(0,r.jsx)(N.E,{className:"h-6 w-full"}),(0,r.jsx)(N.E,{className:"h-6 w-full"}),(0,r.jsx)(N.E,{className:"h-6 w-3/4"})]}),w&&!s&&(0,r.jsxs)(o.Fc,{variant:"destructive",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)(o.XL,{children:"Error"}),(0,r.jsx)(o.TN,{children:w})]}),e&&!s&&(0,r.jsxs)("div",{className:"space-y-6 animate-in fade-in-50",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Estilo de Juego Principal"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.playStyle})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Puntos Fuertes"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:e.strengths.map((e,a)=>(0,r.jsx)("li",{children:e},a))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-primary mb-2",children:"\xc1reas de Mejora"}),(0,r.jsx)("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground",children:e.improvementAreas.map((e,a)=>(0,r.jsx)("li",{children:e},a))})]}),(0,r.jsxs)(l.$,{onClick:O,variant:"outline",children:[(0,r.jsx)(m.A,{className:"mr-2 h-4 w-4"}),"Volver a generar"]})]})]}),(null==e?void 0:e.recommendedFriend)&&!s&&(0,r.jsx)(n.wL,{children:(0,r.jsxs)(n.Zp,{className:"animate-in fade-in-50 w-full bg-muted/50",children:[(0,r.jsxs)(n.aR,{className:"text-center",children:[(0,r.jsx)("div",{className:"p-3 bg-primary/10 rounded-full mb-2 w-fit mx-auto",children:(0,r.jsx)(p.A,{className:"h-8 w-8 text-primary"})}),(0,r.jsxs)(n.ZB,{className:"flex items-center justify-center gap-2 text-2xl",children:[(0,r.jsx)(g.A,{className:"h-6 w-6 text-accent"}),"D\xfao Din\xe1mico"]})]}),(0,r.jsxs)(n.Wu,{className:"text-center",children:[(0,r.jsxs)(S.Avatar,{className:"w-24 h-24 mx-auto mb-4 border-4 border-primary/50",children:[(0,r.jsx)(S.AvatarImage,{src:e.recommendedFriend.avatarUrl,"data-ai-hint":"gaming character"}),(0,r.jsx)(S.AvatarFallback,{children:e.recommendedFriend.name.substring(0,2)})]}),(0,r.jsx)("h4",{className:"text-xl font-bold",children:e.recommendedFriend.name}),(0,r.jsxs)("p",{className:"text-muted-foreground italic mt-2",children:['"',e.recommendedFriend.reason,'"']})]})]})})]})}),(0,r.jsx)("div",{id:"avatar",className:"lg:col-span-1",children:(0,r.jsxs)(n.Zp,{className:"sticky top-20 h-[calc(100vh-180px)] flex flex-col",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,r.jsx)(x.A,{className:"h-5 w-5 text-primary"}),"Asistente de Dise\xf1o IA"]}),(0,r.jsx)(n.BT,{children:"Chatea con la IA para crear y refinar tus dise\xf1os. Puedes adjuntar im\xe1genes."})]}),(0,r.jsx)(n.Wu,{className:"flex-1 overflow-hidden p-0",children:(0,r.jsx)(F.F,{className:"h-full",ref:B,children:(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[0===E.length&&(0,r.jsxs)("div",{className:"text-center text-muted-foreground text-sm py-8",children:[(0,r.jsx)(x.A,{className:"mx-auto h-10 w-10 mb-2"}),(0,r.jsx)("p",{children:"Comienza escribiendo tu idea."}),(0,r.jsx)("p",{className:"text-xs",children:"Ej: \"Un logo para mi equipo 'LOBOS NOCTURNOS' con estilo ne\xf3n.\""})]}),E.map((e,a)=>(0,r.jsxs)("div",{className:"flex flex-col gap-2 ".concat("user"===e.role?"items-end":"items-start"),children:["user"===e.role&&(0,r.jsxs)("div",{className:"bg-primary text-primary-foreground p-3 rounded-lg max-w-xs break-words",children:[e.image&&(0,r.jsx)(i.default,{src:e.image,alt:"Referencia de usuario",width:200,height:200,className:"rounded-md mb-2"}),e.text]}),"model"===e.role&&(0,r.jsx)("div",{className:"bg-muted p-3 rounded-lg self-start",children:e.images&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:e.images.map((e,a)=>(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(i.default,{src:e,alt:"Dise\xf1o generado ".concat(a+1),width:256,height:256,className:"object-cover rounded-lg aspect-square border"}),(0,r.jsxs)(l.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>V(e),children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4"}),"Descargar"]})]},a))})})]},a)),z&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsx)("div",{className:"bg-muted p-3 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,r.jsx)(u.A,{className:"h-5 w-5 animate-spin"}),(0,r.jsx)("span",{children:"Generando..."})]})})}),M&&(0,r.jsx)("div",{className:"flex justify-start",children:(0,r.jsxs)(o.Fc,{variant:"destructive",children:[(0,r.jsx)(h.A,{className:"h-4 w-4"}),(0,r.jsx)(o.TN,{children:M})]})})]})})}),(0,r.jsxs)(n.wL,{className:"pt-4 border-t flex flex-col items-start gap-2",children:[q&&(0,r.jsxs)("div",{className:"relative p-2 border rounded-md",children:[(0,r.jsx)(i.default,{src:q,alt:"Preview",width:64,height:64,className:"rounded-md"}),(0,r.jsx)(l.$,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full",onClick:()=>C(null),children:(0,r.jsx)(j.A,{className:"h-4 w-4"})})]}),(0,r.jsxs)("form",{onSubmit:G,className:"w-full flex items-center gap-2",children:[(0,r.jsx)("input",{type:"file",accept:"image/*",ref:T,onChange:e=>{var a;let s=null==(a=e.target.files)?void 0:a[0];if(s){let e=new FileReader;e.onload=e=>{var a;C(null==(a=e.target)?void 0:a.result)},e.readAsDataURL(s)}e.target.value=""},className:"hidden"}),(0,r.jsx)(l.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{var e;return null==(e=T.current)?void 0:e.click()},disabled:z,children:(0,r.jsx)(v.A,{className:"h-4 w-4"})}),(0,r.jsx)(D.p,{placeholder:"Describe tu idea o pide un cambio...",value:L,onChange:e=>P(e.target.value),disabled:z}),(0,r.jsx)(l.$,{type:"submit",size:"icon",disabled:z||!L.trim()&&!q,children:(0,r.jsx)(y.A,{className:"h-4 w-4"})})]})]})]})})]})]})}},66424:(e,a,s)=>{"use strict";s.d(a,{F:()=>n});var r=s(95155),t=s(12115),i=s(47655),l=s(59434);let n=t.forwardRef((e,a)=>{let{className:s,children:t,...n}=e;return(0,r.jsxs)(i.bL,{ref:a,className:(0,l.cn)("relative overflow-hidden",s),...n,children:[(0,r.jsx)(i.LM,{className:"h-full w-full rounded-[inherit]",children:t}),(0,r.jsx)(o,{}),(0,r.jsx)(i.OK,{})]})});n.displayName=i.bL.displayName;let o=t.forwardRef((e,a)=>{let{className:s,orientation:t="vertical",...n}=e;return(0,r.jsx)(i.VM,{ref:a,orientation:t,className:(0,l.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...n,children:(0,r.jsx)(i.lr,{className:"relative flex-1 rounded-full bg-border"})})});o.displayName=i.VM.displayName},67336:(e,a,s)=>{Promise.resolve().then(s.bind(s,61868))},91394:(e,a,s)=>{"use strict";s.d(a,{Avatar:()=>n,AvatarFallback:()=>d,AvatarImage:()=>o});var r=s(95155),t=s(12115),i=s(85977),l=s(59434);let n=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(i.bL,{ref:a,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t})});n.displayName=i.bL.displayName;let o=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(i._V,{ref:a,className:(0,l.cn)("aspect-square h-full w-full",s),...t})});o.displayName=i._V.displayName;let d=t.forwardRef((e,a)=>{let{className:s,...t}=e;return(0,r.jsx)(i.H4,{ref:a,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t})});d.displayName=i.H4.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[5769,3063,4827,7655,5938,3473,3228,8441,1684,7358],()=>a(67336)),_N_E=e.O()}]);